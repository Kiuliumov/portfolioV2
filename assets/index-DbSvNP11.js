(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function _4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dg={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function b5(){if(d2)return Du;d2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Du.Fragment=t,Du.jsx=e,Du.jsxs=e,Du}var m2;function w5(){return m2||(m2=1,Dg.exports=b5()),Dg.exports}var L=w5(),Cg={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function A5(){if(g2)return xt;g2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=T&&C[T]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,K={};function q(C,nt,ht){this.props=C,this.context=nt,this.refs=K,this.updater=ht||D}q.prototype.isReactComponent={},q.prototype.setState=function(C,nt){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,nt,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function st(){}st.prototype=q.prototype;function W(C,nt,ht){this.props=C,this.context=nt,this.refs=K,this.updater=ht||D}var it=W.prototype=new st;it.constructor=W,j(it,q.prototype),it.isPureReactComponent=!0;var vt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Tt=Object.prototype.hasOwnProperty;function V(C,nt,ht,at,Et,Ct){return ht=Ct.ref,{$$typeof:i,type:C,key:nt,ref:ht!==void 0?ht:null,props:Ct}}function S(C,nt){return V(C.type,nt,void 0,void 0,void 0,C.props)}function I(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function M(C){var nt={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ht){return nt[ht]})}var O=/\/+/g;function k(C,nt){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):nt.toString(36)}function x(){}function Ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(x,x):(C.status="pending",C.then(function(nt){C.status==="pending"&&(C.status="fulfilled",C.value=nt)},function(nt){C.status==="pending"&&(C.status="rejected",C.reason=nt)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function pe(C,nt,ht,at,Et){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var St=!1;if(C===null)St=!0;else switch(Ct){case"bigint":case"string":case"number":St=!0;break;case"object":switch(C.$$typeof){case i:case t:St=!0;break;case _:return St=C._init,pe(St(C._payload),nt,ht,at,Et)}}if(St)return Et=Et(C),St=at===""?"."+k(C,0):at,vt(Et)?(ht="",St!=null&&(ht=St.replace(O,"$&/")+"/"),pe(Et,nt,ht,"",function(ur){return ur})):Et!=null&&(I(Et)&&(Et=S(Et,ht+(Et.key==null||C&&C.key===Et.key?"":(""+Et.key).replace(O,"$&/")+"/")+St)),nt.push(Et)),1;St=0;var Ue=at===""?".":at+":";if(vt(C))for(var ie=0;ie<C.length;ie++)at=C[ie],Ct=Ue+k(at,ie),St+=pe(at,nt,ht,Ct,Et);else if(ie=w(C),typeof ie=="function")for(C=ie.call(C),ie=0;!(at=C.next()).done;)at=at.value,Ct=Ue+k(at,ie++),St+=pe(at,nt,ht,Ct,Et);else if(Ct==="object"){if(typeof C.then=="function")return pe(Ye(C),nt,ht,at,Et);throw nt=String(C),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function $(C,nt,ht){if(C==null)return C;var at=[],Et=0;return pe(C,at,"","",function(Ct){return nt.call(ht,Ct,Et++)}),at}function ut(C){if(C._status===-1){var nt=C._result;nt=nt(),nt.then(function(ht){(C._status===0||C._status===-1)&&(C._status=1,C._result=ht)},function(ht){(C._status===0||C._status===-1)&&(C._status=2,C._result=ht)}),C._status===-1&&(C._status=0,C._result=nt)}if(C._status===1)return C._result.default;throw C._result}var _t=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ft(){}return xt.Children={map:$,forEach:function(C,nt,ht){$(C,function(){nt.apply(this,arguments)},ht)},count:function(C){var nt=0;return $(C,function(){nt++}),nt},toArray:function(C){return $(C,function(nt){return nt})||[]},only:function(C){if(!I(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},xt.Component=q,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=W,xt.StrictMode=r,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,xt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ft.H.useMemoCache(C)}},xt.cache=function(C){return function(){return C.apply(null,arguments)}},xt.cloneElement=function(C,nt,ht){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var at=j({},C.props),Et=C.key,Ct=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Ct=void 0),nt.key!==void 0&&(Et=""+nt.key),nt)!Tt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(at[St]=nt[St]);var St=arguments.length-2;if(St===1)at.children=ht;else if(1<St){for(var Ue=Array(St),ie=0;ie<St;ie++)Ue[ie]=arguments[ie+2];at.children=Ue}return V(C.type,Et,void 0,void 0,Ct,at)},xt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},xt.createElement=function(C,nt,ht){var at,Et={},Ct=null;if(nt!=null)for(at in nt.key!==void 0&&(Ct=""+nt.key),nt)Tt.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Et[at]=nt[at]);var St=arguments.length-2;if(St===1)Et.children=ht;else if(1<St){for(var Ue=Array(St),ie=0;ie<St;ie++)Ue[ie]=arguments[ie+2];Et.children=Ue}if(C&&C.defaultProps)for(at in St=C.defaultProps,St)Et[at]===void 0&&(Et[at]=St[at]);return V(C,Ct,void 0,void 0,null,Et)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(C){return{$$typeof:d,render:C}},xt.isValidElement=I,xt.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:ut}},xt.memo=function(C,nt){return{$$typeof:p,type:C,compare:nt===void 0?null:nt}},xt.startTransition=function(C){var nt=ft.T,ht={};ft.T=ht;try{var at=C(),Et=ft.S;Et!==null&&Et(ht,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ft,_t)}catch(Ct){_t(Ct)}finally{ft.T=nt}},xt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},xt.use=function(C){return ft.H.use(C)},xt.useActionState=function(C,nt,ht){return ft.H.useActionState(C,nt,ht)},xt.useCallback=function(C,nt){return ft.H.useCallback(C,nt)},xt.useContext=function(C){return ft.H.useContext(C)},xt.useDebugValue=function(){},xt.useDeferredValue=function(C,nt){return ft.H.useDeferredValue(C,nt)},xt.useEffect=function(C,nt,ht){var at=ft.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(C,nt)},xt.useId=function(){return ft.H.useId()},xt.useImperativeHandle=function(C,nt,ht){return ft.H.useImperativeHandle(C,nt,ht)},xt.useInsertionEffect=function(C,nt){return ft.H.useInsertionEffect(C,nt)},xt.useLayoutEffect=function(C,nt){return ft.H.useLayoutEffect(C,nt)},xt.useMemo=function(C,nt){return ft.H.useMemo(C,nt)},xt.useOptimistic=function(C,nt){return ft.H.useOptimistic(C,nt)},xt.useReducer=function(C,nt,ht){return ft.H.useReducer(C,nt,ht)},xt.useRef=function(C){return ft.H.useRef(C)},xt.useState=function(C){return ft.H.useState(C)},xt.useSyncExternalStore=function(C,nt,ht){return ft.H.useSyncExternalStore(C,nt,ht)},xt.useTransition=function(){return ft.H.useTransition()},xt.version="19.1.1",xt}var p2;function Np(){return p2||(p2=1,Cg.exports=A5()),Cg.exports}var J=Np();const ns=_4(J);var Vg={exports:{}},Cu={},Ng={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function S5(){return y2||(y2=1,(function(i){function t($,ut){var _t=$.length;$.push(ut);t:for(;0<_t;){var Ft=_t-1>>>1,C=$[Ft];if(0<a(C,ut))$[Ft]=ut,$[_t]=C,_t=Ft;else break t}}function e($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ut=$[0],_t=$.pop();if(_t!==ut){$[0]=_t;t:for(var Ft=0,C=$.length,nt=C>>>1;Ft<nt;){var ht=2*(Ft+1)-1,at=$[ht],Et=ht+1,Ct=$[Et];if(0>a(at,_t))Et<C&&0>a(Ct,at)?($[Ft]=Ct,$[Et]=_t,Ft=Et):($[Ft]=at,$[ht]=_t,Ft=ht);else if(Et<C&&0>a(Ct,_t))$[Ft]=Ct,$[Et]=_t,Ft=Et;else break t}}return ut}function a($,ut){var _t=$.sortIndex-ut.sortIndex;return _t!==0?_t:$.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,T=null,w=3,D=!1,j=!1,K=!1,q=!1,st=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function vt($){for(var ut=e(p);ut!==null;){if(ut.callback===null)r(p);else if(ut.startTime<=$)r(p),ut.sortIndex=ut.expirationTime,t(m,ut);else break;ut=e(p)}}function ft($){if(K=!1,vt($),!j)if(e(m)!==null)j=!0,Tt||(Tt=!0,k());else{var ut=e(p);ut!==null&&pe(ft,ut.startTime-$)}}var Tt=!1,V=-1,S=5,I=-1;function M(){return q?!0:!(i.unstable_now()-I<S)}function O(){if(q=!1,Tt){var $=i.unstable_now();I=$;var ut=!0;try{t:{j=!1,K&&(K=!1,W(V),V=-1),D=!0;var _t=w;try{e:{for(vt($),T=e(m);T!==null&&!(T.expirationTime>$&&M());){var Ft=T.callback;if(typeof Ft=="function"){T.callback=null,w=T.priorityLevel;var C=Ft(T.expirationTime<=$);if($=i.unstable_now(),typeof C=="function"){T.callback=C,vt($),ut=!0;break e}T===e(m)&&r(m),vt($)}else r(m);T=e(m)}if(T!==null)ut=!0;else{var nt=e(p);nt!==null&&pe(ft,nt.startTime-$),ut=!1}}break t}finally{T=null,w=_t,D=!1}ut=void 0}}finally{ut?k():Tt=!1}}}var k;if(typeof it=="function")k=function(){it(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ye=x.port2;x.port1.onmessage=O,k=function(){Ye.postMessage(null)}}else k=function(){st(O,0)};function pe($,ut){V=st(function(){$(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var ut=3;break;default:ut=w}var _t=w;w=ut;try{return $()}finally{w=_t}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function($,ut){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var _t=w;w=$;try{return ut()}finally{w=_t}},i.unstable_scheduleCallback=function($,ut,_t){var Ft=i.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Ft+_t:Ft):_t=Ft,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=_t+C,$={id:_++,callback:ut,priorityLevel:$,startTime:_t,expirationTime:C,sortIndex:-1},_t>Ft?($.sortIndex=_t,t(p,$),e(m)===null&&$===e(p)&&(K?(W(V),V=-1):K=!0,pe(ft,_t-Ft))):($.sortIndex=C,t(m,$),j||D||(j=!0,Tt||(Tt=!0,k()))),$},i.unstable_shouldYield=M,i.unstable_wrapCallback=function($){var ut=w;return function(){var _t=w;w=ut;try{return $.apply(this,arguments)}finally{w=_t}}}})(Mg)),Mg}var _2;function R5(){return _2||(_2=1,Ng.exports=S5()),Ng.exports}var Og={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function I5(){if(v2)return an;v2=1;var i=Np();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,_)},an.flushSync=function(m){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=_,r.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):_==="script"&&r.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);r.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},an.requestFormReset=function(m){r.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.1",an}var E2;function x5(){if(E2)return Og.exports;E2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Og.exports=I5(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function D5(){if(T2)return Cu;T2=1;var i=R5(),t=Np(),e=x5();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),it=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case q:return"Profiler";case K:return"StrictMode";case ft:return"Suspense";case Tt:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case it:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case vt:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return s=n.displayName||null,s!==null?s:Ye(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return Ye(n(s))}catch{}}return null}var pe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Ft=[],C=-1;function nt(n){return{current:n}}function ht(n){0>C||(n.current=Ft[C],Ft[C]=null,C--)}function at(n,s){C++,Ft[C]=n.current,n.current=s}var Et=nt(null),Ct=nt(null),St=nt(null),Ue=nt(null);function ie(n,s){switch(at(St,s),at(Ct,n),at(Et,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?j_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=j_(s),n=q_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ht(Et),at(Et,n)}function ur(){ht(Et),ht(Ct),ht(St)}function Ei(n){n.memoizedState!==null&&at(Ue,n);var s=Et.current,o=q_(s,n.type);s!==o&&(at(Ct,n),at(Et,o))}function kr(n){Ct.current===n&&(ht(Et),ht(Ct)),Ue.current===n&&(ht(Ue),Au._currentValue=_t)}var ws=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,Ss=i.unstable_cancelCallback,Tl=i.unstable_shouldYield,Lc=i.unstable_requestPaint,zn=i.unstable_now,Dd=i.unstable_getCurrentPriorityLevel,bl=i.unstable_ImmediatePriority,ka=i.unstable_UserBlockingPriority,Rs=i.unstable_NormalPriority,Cd=i.unstable_LowPriority,La=i.unstable_IdlePriority,wl=i.log,zc=i.unstable_setDisableYieldValue,ye=null,Kt=null;function Rn(n){if(typeof wl=="function"&&zc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(ye,n)}catch{}}var rn=Math.clz32?Math.clz32:Is,Bc=Math.log,Vd=Math.LN2;function Is(n){return n>>>=0,n===0?32:31-(Bc(n)/Vd|0)|0}var xs=256,Ds=4194304;function Wn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function za(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=Wn(u):(E&=b,E!==0?f=Wn(E):o||(o=b&~n,o!==0&&(f=Wn(o))))):(b=u&~g,b!==0?f=Wn(b):E!==0?f=Wn(E):o||(o=u&~n,o!==0&&(f=Wn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Cs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Al(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var n=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),n}function Rl(){var n=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),n}function Lr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Il(n,s,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,R=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-rn(o),tt=1<<X;b[X]=0,R[X]=-1;var H=F[X];if(H!==null)for(F[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}o&=~tt}u!==0&&cr(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~s))}function cr(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-rn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function xl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-rn(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Ti(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ba(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bi(){var n=ut.p;return n!==0?n:(n=window.event,n===void 0?32:o2(n.type))}function Uc(n,s){var o=ut.p;try{return ut.p=n,s()}finally{ut.p=o}}var ue=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ue,Ie="__reactProps$"+ue,Bn="__reactContainer$"+ue,Dl="__reactEvents$"+ue,Nd="__reactListeners$"+ue,wi="__reactHandles$"+ue,jc="__reactResources$"+ue,Vs="__reactMarker$"+ue;function Ai(n){delete n[Oe],delete n[Ie],delete n[Dl],delete n[Nd],delete n[wi]}function Br(n){var s=n[Oe];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Bn]||o[Oe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Q_(n);n!==null;){if(o=n[Oe])return o;n=Q_(n)}return s}n=o,o=n.parentNode}return null}function hr(n){if(n=n[Oe]||n[Bn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function fr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function fn(n){var s=n[jc];return s||(s=n[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Te(n){n[Vs]=!0}var Cl=new Set,Ua={};function tr(n,s){Ur(n,s),Ur(n+"Capture",s)}function Ur(n,s){for(Ua[n]=s,n=0;n<s.length;n++)Cl.add(s[n])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},Ns={};function Hc(n){return ws.call(Ns,n)?!0:ws.call(Fc,n)?!1:qc.test(n)?Ns[n]=!0:(Fc[n]=!0,!1)}function Si(n,s,o){if(Hc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function dr(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function $e(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var Ms,Gc;function jr(n){if(Ms===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ms=s&&s[1]||"",Gc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+n+Gc}var ja=!1;function qa(n,s){if(!n||ja)return"";ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var H=G}Reflect.construct(n,[],tt)}else{try{tt.call()}catch(G){H=G}n.call(tt.prototype)}}else{try{throw Error()}catch(G){H=G}(tt=n())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var R=E.split(`
`),F=b.split(`
`);for(f=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===R.length||f===F.length)for(u=R.length-1,f=F.length-1;1<=u&&0<=f&&R[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(R[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||R[u]!==F[f]){var X=`
`+R[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?jr(o):""}function Vl(n){switch(n.tag){case 26:case 27:case 5:return jr(n.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return qa(n.type,!1);case 11:return qa(n.type.render,!1);case 1:return qa(n.type,!0);case 31:return jr("Activity");default:return""}}function Fa(n){try{var s="";do s+=Vl(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Md(n){var s=Nl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ha(n){n._valueTracker||(n._valueTracker=Md(n))}function Ml(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Nl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Os(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Od=/[\n"\\]/g;function xe(n){return n.replace(Od,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function In(n,s,o,u,f,g,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ri(n,E,dn(s)):o!=null?Ri(n,E,dn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+dn(b):n.removeAttribute("name")}function Ps(n,s,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+dn(o):"",s=s!=null?""+dn(s):o,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ri(n,s,o){s==="number"&&Os(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function qr(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+dn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Jt(n,s,o){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+dn(o):""}function ks(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(pe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=dn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Un(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Ls.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Ol(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Qc(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Qc(n,g,s[g])}function Pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(n){return kd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Fr=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hr=null,Gr=null;function kl(n){var s=hr(n);if(s&&(n=s.stateNode)){var o=n[Ie]||null;t:switch(n=s.stateNode,s.type){case"input":if(In(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xe(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Ie]||null;if(!f)throw Error(r(90));In(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ml(u)}break t;case"textarea":Jt(n,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&qr(n,!!o.multiple,s,!1)}}}var mr=!1;function Kc(n,s,o){if(mr)return n(s,o);mr=!0;try{var u=n(s);return u}finally{if(mr=!1,(Hr!==null||Gr!==null)&&(Uh(),Hr&&(s=Hr,n=Gr,Gr=Hr=null,kl(s),n)))for(s=0;s<n.length;s++)kl(n[s])}}function zs(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Ie]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(er)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{qn=!1}var gr=null,Ii=null,Qr=null;function Ll(){if(Qr)return Qr;var n,s=Ii,o=s.length,u,f="value"in gr?gr.value:gr.textContent,g=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return Qr=f.slice(n,1<u?1-u:void 0)}function pr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function zl(){return!1}function je(n){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yr:zl,this.isPropagationStopped=zl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=je(Gt),Us=_({},Gt,{view:0,detail:0}),Yc=je(Us),Ka,Ya,_r,js=_({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_r&&(_r&&n.type==="mousemove"?(Ka=n.screenX-_r.screenX,Ya=n.screenY-_r.screenY):Ya=Ka=0,_r=n),Ka)},movementY:function(n){return"movementY"in n?n.movementY:Ya}}),Fn=je(js),$c=_({},js,{dataTransfer:0}),Ld=je($c),qs=_({},Us,{relatedTarget:0}),$a=je(qs),Bl=_({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=je(Bl),Xc=_({},Gt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Za=je(Xc),zd=_({},Gt,{data:0}),Ul=je(zd),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Jc[n])?!!s[n]:!1}function Hs(){return jl}var Wc=_({},Us,{key:function(n){if(n.key){var s=Fs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ja=je(Wc),th=_({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=je(th),Kr=_({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),eh=je(Kr),nh=_({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=je(nh),ih=_({},js,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=je(ih),mn=_({},Gt,{newState:0,oldState:0}),sh=je(mn),ah=[9,13,27,32],vr=er&&"CompositionEvent"in window,h=null;er&&"documentMode"in document&&(h=document.documentMode);var y=er&&"TextEvent"in window&&!h,v=er&&(!vr||h&&8<h&&11>=h),A=" ",z=!1;function Y(n,s){switch(n){case"keyup":return ah.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Lt=!1;function Pe(n,s){switch(n){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(z=!0,A);case"textInput":return n=s.data,n===A&&z?null:n;default:return null}}function zt(n,s){if(Lt)return n==="compositionend"||!vr&&Y(n,s)?(n=Ll(),Qr=Ii=gr=null,Lt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ke(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qe[n.type]:s==="textarea"}function Yr(n,s,o,u){Hr?Gr?Gr.push(u):Gr=[u]:Hr=u,s=Qh(s,"onChange"),0<s.length&&(o=new Qa("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Xe=null,Er=null;function Fl(n){k_(n,0)}function oh(n){var s=fr(n);if(Ml(s))return n}function r0(n,s){if(n==="change")return s}var i0=!1;if(er){var Bd;if(er){var Ud="oninput"in document;if(!Ud){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Ud=typeof s0.oninput=="function"}Bd=Ud}else Bd=!1;i0=Bd&&(!document.documentMode||9<document.documentMode)}function a0(){Xe&&(Xe.detachEvent("onpropertychange",o0),Er=Xe=null)}function o0(n){if(n.propertyName==="value"&&oh(Er)){var s=[];Yr(s,Er,n,jn(n)),Kc(Fl,s)}}function J6(n,s,o){n==="focusin"?(a0(),Xe=s,Er=o,Xe.attachEvent("onpropertychange",o0)):n==="focusout"&&a0()}function W6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oh(Er)}function tT(n,s){if(n==="click")return oh(s)}function eT(n,s){if(n==="input"||n==="change")return oh(s)}function nT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var xn=typeof Object.is=="function"?Object.is:nT;function Hl(n,s){if(xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ws.call(s,f)||!xn(n[f],s[f]))return!1}return!0}function l0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u0(n,s){var o=l0(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=l0(o)}}function c0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?c0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function h0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Os(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Os(n.document)}return s}function jd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var rT=er&&"documentMode"in document&&11>=document.documentMode,to=null,qd=null,Gl=null,Fd=!1;function f0(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||to==null||to!==Os(u)||(u=to,"selectionStart"in u&&jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gl&&Hl(Gl,u)||(Gl=u,u=Qh(qd,"onSelect"),0<u.length&&(s=new Qa("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=to)))}function Gs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var eo={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Hd={},d0={};er&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Qs(n){if(Hd[n])return Hd[n];if(!eo[n])return n;var s=eo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in d0)return Hd[n]=s[o];return n}var m0=Qs("animationend"),g0=Qs("animationiteration"),p0=Qs("animationstart"),iT=Qs("transitionrun"),sT=Qs("transitionstart"),aT=Qs("transitioncancel"),y0=Qs("transitionend"),_0=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function nr(n,s){_0.set(n,s),tr(s,[n])}var v0=new WeakMap;function Hn(n,s){if(typeof n=="object"&&n!==null){var o=v0.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Fa(s)},v0.set(n,s),s)}return{value:n,source:s,stack:Fa(s)}}var Gn=[],no=0,Qd=0;function lh(){for(var n=no,s=Qd=no=0;s<n;){var o=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var f=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&E0(o,f,g)}}function uh(n,s,o,u){Gn[no++]=n,Gn[no++]=s,Gn[no++]=o,Gn[no++]=u,Qd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Kd(n,s,o,u){return uh(n,s,o,u),ch(n)}function ro(n,s){return uh(n,null,null,s),ch(n)}function E0(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-rn(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function ch(n){if(50<pu)throw pu=0,Wm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var io={};function oT(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(n,s,o,u){return new oT(n,s,o,u)}function Yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,s){var o=n.alternate;return o===null?(o=Dn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function T0(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function hh(n,s,o,u,f,g){var E=0;if(u=n,typeof n=="function")Yd(n)&&(E=1);else if(typeof n=="string")E=u5(n,o,Et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case I:return n=Dn(31,o,s,f),n.elementType=I,n.lanes=g,n;case j:return Ks(o.children,f,g,s);case K:E=8,f|=24;break;case q:return n=Dn(12,o,s,f|2),n.elementType=q,n.lanes=g,n;case ft:return n=Dn(13,o,s,f),n.elementType=ft,n.lanes=g,n;case Tt:return n=Dn(19,o,s,f),n.elementType=Tt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case st:case it:E=10;break t;case W:E=9;break t;case vt:E=11;break t;case V:E=14;break t;case S:E=16,u=null;break t}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Dn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function Ks(n,s,o,u){return n=Dn(7,n,u,s),n.lanes=o,n}function $d(n,s,o){return n=Dn(6,n,null,s),n.lanes=o,n}function Xd(n,s,o){return s=Dn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var so=[],ao=0,fh=null,dh=0,Qn=[],Kn=0,Ys=null,Xr=1,Zr="";function $s(n,s){so[ao++]=dh,so[ao++]=fh,fh=n,dh=s}function b0(n,s,o){Qn[Kn++]=Xr,Qn[Kn++]=Zr,Qn[Kn++]=Ys,Ys=n;var u=Xr;n=Zr;var f=32-rn(u)-1;u&=~(1<<f),o+=1;var g=32-rn(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Xr=1<<32-rn(s)+f|o<<f|u,Zr=g+n}else Xr=1<<g|o<<f|u,Zr=n}function Zd(n){n.return!==null&&($s(n,1),b0(n,1,0))}function Jd(n){for(;n===fh;)fh=so[--ao],so[ao]=null,dh=so[--ao],so[ao]=null;for(;n===Ys;)Ys=Qn[--Kn],Qn[Kn]=null,Zr=Qn[--Kn],Qn[Kn]=null,Xr=Qn[--Kn],Qn[Kn]=null}var gn=null,_e=null,Ht=!1,Xs=null,Tr=!1,Wd=Error(r(519));function Zs(n){var s=Error(r(418,""));throw Yl(Hn(s,n)),Wd}function w0(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Oe]=n,s[Ie]=u,o){case"dialog":Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":case"embed":Mt("load",s);break;case"video":case"audio":for(o=0;o<_u.length;o++)Mt(_u[o],s);break;case"source":Mt("error",s);break;case"img":case"image":case"link":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"input":Mt("invalid",s),Ps(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ha(s);break;case"select":Mt("invalid",s);break;case"textarea":Mt("invalid",s),ks(s,u.value,u.defaultValue,u.children),Ha(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||U_(s.textContent,o)?(u.popover!=null&&(Mt("beforetoggle",s),Mt("toggle",s)),u.onScroll!=null&&Mt("scroll",s),u.onScrollEnd!=null&&Mt("scrollend",s),u.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||Zs(n)}function A0(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:gn=gn.return}}function Ql(n){if(n!==gn)return!1;if(!Ht)return A0(n),Ht=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||gg(n.type,n.memoizedProps)),o=!o),o&&_e&&Zs(n),A0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){_e=ir(n.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}_e=null}}else s===27?(s=_e,Fi(n.type)?(n=vg,vg=null,_e=n):_e=s):_e=gn?ir(n.stateNode.nextSibling):null;return!0}function Kl(){_e=gn=null,Ht=!1}function S0(){var n=Xs;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),Xs=null),n}function Yl(n){Xs===null?Xs=[n]:Xs.push(n)}var tm=nt(null),Js=null,Jr=null;function xi(n,s,o){at(tm,s._currentValue),s._currentValue=o}function Wr(n){n._currentValue=tm.current,ht(tm)}function em(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function nm(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var R=0;R<s.length;R++)if(b.context===s[R]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),em(g.return,o,n),u||(E=null);break t}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),em(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function $l(n,s,o,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;xn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ue.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Au):n=[Au])}f=f.return}n!==null&&nm(s,n,o,u),s.flags|=262144}function mh(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ws(n){Js=n,Jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return R0(Js,n)}function gh(n,s){return Js===null&&Ws(n),R0(n,s)}function R0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Jr===null){if(n===null)throw Error(r(308));Jr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Jr=Jr.next=s;return o}var lT=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},uT=i.unstable_scheduleCallback,cT=i.unstable_NormalPriority,Le={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new lT,data:new Map,refCount:0}}function Xl(n){n.refCount--,n.refCount===0&&uT(cT,function(){n.controller.abort()})}var Zl=null,im=0,oo=0,lo=null;function hT(n,s){if(Zl===null){var o=Zl=[];im=0,oo=ag(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return im++,s.then(I0,I0),s}function I0(){if(--im===0&&Zl!==null){lo!==null&&(lo.status="fulfilled");var n=Zl;Zl=null,oo=0,lo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function fT(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var x0=$.S;$.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&hT(n,s),x0!==null&&x0(n,s)};var ta=nt(null);function sm(){var n=ta.current;return n!==null?n:se.pooledCache}function ph(n,s){s===null?at(ta,ta.current):at(ta,s.pool)}function D0(){var n=sm();return n===null?null:{parent:Le._currentValue,pool:n}}var Jl=Error(r(460)),C0=Error(r(474)),yh=Error(r(542)),am={then:function(){}};function V0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _h(){}function N0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(_h,_h),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,O0(n),n;default:if(typeof s.status=="string")s.then(_h,_h);else{if(n=se,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,O0(n),n}throw Wl=s,Jl}}var Wl=null;function M0(){if(Wl===null)throw Error(r(459));var n=Wl;return Wl=null,n}function O0(n){if(n===Jl||n===yh)throw Error(r(483))}var Di=!1;function om(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ci(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=ch(n),E0(n,null,o),s}return uh(n,u,s,o),ch(n)}function tu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,xl(n,o)}}function um(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var cm=!1;function eu(){if(cm){var n=lo;if(n!==null)throw n}}function nu(n,s,o,u){cm=!1;var f=n.updateQueue;Di=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var R=b,F=R.next;R.next=null,E===null?g=F:E.next=F,E=R;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=R))}if(g!==null){var tt=f.baseState;E=0,X=F=R=null,b=g;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Bt&H)===H:(u&H)===H){H!==0&&H===oo&&(cm=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var At=n,bt=b;H=s;var ee=o;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){tt=At.call(ee,tt,H);break t}tt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,H=typeof At=="function"?At.call(ee,tt,H):At,H==null)break t;tt=_({},tt,H);break t;case 2:Di=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=G,R=tt):X=X.next=G,E|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(R=tt),f.baseState=R,f.firstBaseUpdate=F,f.lastBaseUpdate=X,g===null&&(f.shared.lanes=0),Bi|=E,n.lanes=E,n.memoizedState=tt}}function P0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function k0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)P0(o[n],s)}var uo=nt(null),vh=nt(0);function L0(n,s){n=ai,at(vh,n),at(uo,s),ai=n|s.baseLanes}function hm(){at(vh,ai),at(uo,uo.current)}function fm(){ai=vh.current,ht(uo),ht(vh)}var Ni=0,Dt=null,Wt=null,De=null,Eh=!1,co=!1,ea=!1,Th=0,ru=0,ho=null,dT=0;function be(){throw Error(r(321))}function dm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!xn(n[o],s[o]))return!1;return!0}function mm(n,s,o,u,f,g){return Ni=g,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?Ey:Ty,ea=!1,g=o(u,f),ea=!1,co&&(g=B0(s,o,u,f)),z0(n),g}function z0(n){$.H=Ih;var s=Wt!==null&&Wt.next!==null;if(Ni=0,De=Wt=Dt=null,Eh=!1,ru=0,ho=null,s)throw Error(r(300));n===null||Fe||(n=n.dependencies,n!==null&&mh(n)&&(Fe=!0))}function B0(n,s,o,u){Dt=n;var f=0;do{if(co&&(ho=null),ru=0,co=!1,25<=f)throw Error(r(301));if(f+=1,De=Wt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=ET,g=s(o,u)}while(co);return g}function mT(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?iu(s):s,n=n.useState()[0],(Wt!==null?Wt.memoizedState:null)!==n&&(Dt.flags|=1024),s}function gm(){var n=Th!==0;return Th=0,n}function pm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function ym(n){if(Eh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Eh=!1}Ni=0,De=Wt=Dt=null,co=!1,ru=Th=0,ho=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Dt.memoizedState=De=n:De=De.next=n,De}function Ce(){if(Wt===null){var n=Dt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var s=De===null?Dt.memoizedState:De.next;if(s!==null)De=s,Wt=n;else{if(n===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?Dt.memoizedState=De=n:De=De.next=n}return De}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(n){var s=ru;return ru+=1,ho===null&&(ho=[]),n=N0(ho,n,s),s=Dt,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Ey:Ty),n}function bh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return iu(n);if(n.$$typeof===it)return sn(n)}throw Error(r(438,String(n)))}function vm(n){var s=null,o=Dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_m(),Dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function ti(n,s){return typeof s=="function"?s(n):s}function wh(n){var s=Ce();return Em(s,Wt,n)}function Em(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var b=E=null,R=null,F=s,X=!1;do{var tt=F.lane&-536870913;if(tt!==F.lane?(Bt&tt)===tt:(Ni&tt)===tt){var H=F.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),tt===oo&&(X=!0);else if((Ni&H)===H){F=F.next,H===oo&&(X=!0);continue}else tt={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(b=R=tt,E=g):R=R.next=tt,Dt.lanes|=H,Bi|=H;tt=F.action,ea&&o(g,tt),g=F.hasEagerState?F.eagerState:o(g,tt)}else H={lane:tt,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},R===null?(b=R=H,E=g):R=R.next=H,Dt.lanes|=tt,Bi|=tt;F=F.next}while(F!==null&&F!==s);if(R===null?E=g:R.next=b,!xn(g,n.memoizedState)&&(Fe=!0,X&&(o=lo,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=R,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Tm(n){var s=Ce(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);xn(g,s.memoizedState)||(Fe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function U0(n,s,o){var u=Dt,f=Ce(),g=Ht;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!xn((Wt||f).memoizedState,o);E&&(f.memoizedState=o,Fe=!0),f=f.queue;var b=F0.bind(null,u,f,n);if(su(2048,8,b,[n]),f.getSnapshot!==s||E||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,fo(9,Ah(),q0.bind(null,u,f,o,s),null),se===null)throw Error(r(349));g||(Ni&124)!==0||j0(u,s,o)}return o}function j0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Dt.updateQueue,s===null?(s=_m(),Dt.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function q0(n,s,o,u){s.value=o,s.getSnapshot=u,H0(s)&&G0(n)}function F0(n,s,o){return o(function(){H0(s)&&G0(n)})}function H0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!xn(n,o)}catch{return!0}}function G0(n){var s=ro(n,2);s!==null&&On(s,n,2)}function bm(n){var s=En();if(typeof n=="function"){var o=n;if(n=o(),ea){Rn(!0);try{o()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},s}function Q0(n,s,o,u){return n.baseState=o,Em(n,Wt,typeof u=="function"?u:ti)}function gT(n,s,o,u,f){if(Rh(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};$.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,K0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function K0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=$.T,E={};$.T=E;try{var b=o(f,u),R=$.S;R!==null&&R(E,b),Y0(n,s,b)}catch(F){wm(n,s,F)}finally{$.T=g}}else try{g=o(f,u),Y0(n,s,g)}catch(F){wm(n,s,F)}}function Y0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$0(n,s,u)},function(u){return wm(n,s,u)}):$0(n,s,o)}function $0(n,s,o){s.status="fulfilled",s.value=o,X0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,K0(n,o)))}function wm(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,X0(s),s=s.next;while(s!==u)}n.action=null}function X0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Z0(n,s){return s}function J0(n,s){if(Ht){var o=se.formState;if(o!==null){t:{var u=Dt;if(Ht){if(_e){e:{for(var f=_e,g=Tr;f.nodeType!==8;){if(!g){f=null;break e}if(f=ir(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){_e=ir(f.nextSibling),u=f.data==="F!";break t}}Zs(u)}u=!1}u&&(s=o[0])}}return o=En(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:s},o.queue=u,o=yy.bind(null,Dt,u),u.dispatch=o,u=bm(!1),g=xm.bind(null,Dt,!1,u.queue),u=En(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=gT.bind(null,Dt,f,g,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function W0(n){var s=Ce();return ty(s,Wt,n)}function ty(n,s,o){if(s=Em(n,s,Z0)[0],n=wh(ti)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=iu(s)}catch(E){throw E===Jl?yh:E}else u=s;s=Ce();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Dt.flags|=2048,fo(9,Ah(),pT.bind(null,f,o),null)),[u,g,n]}function pT(n,s){n.action=s}function ey(n){var s=Ce(),o=Wt;if(o!==null)return ty(s,o,n);Ce(),s=s.memoizedState,o=Ce();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function fo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=_m(),Dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Ah(){return{destroy:void 0,resource:void 0}}function ny(){return Ce().memoizedState}function Sh(n,s,o,u){var f=En();u=u===void 0?null:u,Dt.flags|=n,f.memoizedState=fo(1|s,Ah(),o,u)}function su(n,s,o,u){var f=Ce();u=u===void 0?null:u;var g=f.memoizedState.inst;Wt!==null&&u!==null&&dm(u,Wt.memoizedState.deps)?f.memoizedState=fo(s,g,o,u):(Dt.flags|=n,f.memoizedState=fo(1|s,g,o,u))}function ry(n,s){Sh(8390656,8,n,s)}function iy(n,s){su(2048,8,n,s)}function sy(n,s){return su(4,2,n,s)}function ay(n,s){return su(4,4,n,s)}function oy(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ly(n,s,o){o=o!=null?o.concat([n]):null,su(4,4,oy.bind(null,s,n),o)}function Am(){}function uy(n,s){var o=Ce();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&dm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function cy(n,s){var o=Ce();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&dm(s,u[1]))return u[0];if(u=n(),ea){Rn(!0);try{n()}finally{Rn(!1)}}return o.memoizedState=[u,s],u}function Sm(n,s,o){return o===void 0||(Ni&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=d_(),Dt.lanes|=n,Bi|=n,o)}function hy(n,s,o,u){return xn(o,s)?o:uo.current!==null?(n=Sm(n,o,u),xn(n,s)||(Fe=!0),n):(Ni&42)===0?(Fe=!0,n.memoizedState=o):(n=d_(),Dt.lanes|=n,Bi|=n,s)}function fy(n,s,o,u,f){var g=ut.p;ut.p=g!==0&&8>g?g:8;var E=$.T,b={};$.T=b,xm(n,!1,s,o);try{var R=f(),F=$.S;if(F!==null&&F(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=fT(R,u);au(n,s,X,Mn(n))}else au(n,s,u,Mn(n))}catch(tt){au(n,s,{then:function(){},status:"rejected",reason:tt},Mn())}finally{ut.p=g,$.T=E}}function yT(){}function Rm(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=dy(n).queue;fy(n,f,s,_t,o===null?yT:function(){return my(n),o(u)})}function dy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:_t},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function my(n){var s=dy(n).next.queue;au(n,s,{},Mn())}function Im(){return sn(Au)}function gy(){return Ce().memoizedState}function py(){return Ce().memoizedState}function _T(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mn();n=Ci(o);var u=Vi(s,n,o);u!==null&&(On(u,s,o),tu(u,s,o)),s={cache:rm()},n.payload=s;return}s=s.return}}function vT(n,s,o){var u=Mn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(n)?_y(s,o):(o=Kd(n,s,o,u),o!==null&&(On(o,n,u),vy(o,s,u)))}function yy(n,s,o){var u=Mn();au(n,s,o,u)}function au(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))_y(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,xn(b,E))return uh(n,s,f,0),se===null&&lh(),!1}catch{}finally{}if(o=Kd(n,s,f,u),o!==null)return On(o,n,u),vy(o,s,u),!0}return!1}function xm(n,s,o,u){if(u={lane:2,revertLane:ag(),action:u,hasEagerState:!1,eagerState:null,next:null},Rh(n)){if(s)throw Error(r(479))}else s=Kd(n,o,u,2),s!==null&&On(s,n,2)}function Rh(n){var s=n.alternate;return n===Dt||s!==null&&s===Dt}function _y(n,s){co=Eh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function vy(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,xl(n,o)}}var Ih={readContext:sn,use:bh,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},Ey={readContext:sn,use:bh,useCallback:function(n,s){return En().memoizedState=[n,s===void 0?null:s],n},useContext:sn,useEffect:ry,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Sh(4194308,4,oy.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Sh(4194308,4,n,s)},useInsertionEffect:function(n,s){Sh(4,2,n,s)},useMemo:function(n,s){var o=En();s=s===void 0?null:s;var u=n();if(ea){Rn(!0);try{n()}finally{Rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=En();if(o!==void 0){var f=o(s);if(ea){Rn(!0);try{o(s)}finally{Rn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=vT.bind(null,Dt,n),[u.memoizedState,n]},useRef:function(n){var s=En();return n={current:n},s.memoizedState=n},useState:function(n){n=bm(n);var s=n.queue,o=yy.bind(null,Dt,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Am,useDeferredValue:function(n,s){var o=En();return Sm(o,n,s)},useTransition:function(){var n=bm(!1);return n=fy.bind(null,Dt,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Dt,f=En();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),se===null)throw Error(r(349));(Bt&124)!==0||j0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,ry(F0.bind(null,u,g,n),[n]),u.flags|=2048,fo(9,Ah(),q0.bind(null,u,g,o,s),null),o},useId:function(){var n=En(),s=se.identifierPrefix;if(Ht){var o=Zr,u=Xr;o=(u&~(1<<32-rn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Th++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=dT++,s="«"+s+"r"+o.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Im,useFormState:J0,useActionState:J0,useOptimistic:function(n){var s=En();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=xm.bind(null,Dt,!0,o),o.dispatch=s,[n,s]},useMemoCache:vm,useCacheRefresh:function(){return En().memoizedState=_T.bind(null,Dt)}},Ty={readContext:sn,use:bh,useCallback:uy,useContext:sn,useEffect:iy,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:wh,useRef:ny,useState:function(){return wh(ti)},useDebugValue:Am,useDeferredValue:function(n,s){var o=Ce();return hy(o,Wt.memoizedState,n,s)},useTransition:function(){var n=wh(ti)[0],s=Ce().memoizedState;return[typeof n=="boolean"?n:iu(n),s]},useSyncExternalStore:U0,useId:gy,useHostTransitionStatus:Im,useFormState:W0,useActionState:W0,useOptimistic:function(n,s){var o=Ce();return Q0(o,Wt,n,s)},useMemoCache:vm,useCacheRefresh:py},ET={readContext:sn,use:bh,useCallback:uy,useContext:sn,useEffect:iy,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:Tm,useRef:ny,useState:function(){return Tm(ti)},useDebugValue:Am,useDeferredValue:function(n,s){var o=Ce();return Wt===null?Sm(o,n,s):hy(o,Wt.memoizedState,n,s)},useTransition:function(){var n=Tm(ti)[0],s=Ce().memoizedState;return[typeof n=="boolean"?n:iu(n),s]},useSyncExternalStore:U0,useId:gy,useHostTransitionStatus:Im,useFormState:ey,useActionState:ey,useOptimistic:function(n,s){var o=Ce();return Wt!==null?Q0(o,Wt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:vm,useCacheRefresh:py},mo=null,ou=0;function xh(n){var s=ou;return ou+=1,mo===null&&(mo=[]),N0(mo,n,s)}function lu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Dh(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function by(n){var s=n._init;return s(n._payload)}function wy(n){function s(P,N){if(n){var U=P.deletions;U===null?(P.deletions=[N],P.flags|=16):U.push(N)}}function o(P,N){if(!n)return null;for(;N!==null;)s(P,N),N=N.sibling;return null}function u(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function f(P,N){return P=$r(P,N),P.index=0,P.sibling=null,P}function g(P,N,U){return P.index=U,n?(U=P.alternate,U!==null?(U=U.index,U<N?(P.flags|=67108866,N):U):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function E(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,N,U,Z){return N===null||N.tag!==6?(N=$d(U,P.mode,Z),N.return=P,N):(N=f(N,U),N.return=P,N)}function R(P,N,U,Z){var mt=U.type;return mt===j?X(P,N,U.props.children,Z,U.key):N!==null&&(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&by(mt)===N.type)?(N=f(N,U.props),lu(N,U),N.return=P,N):(N=hh(U.type,U.key,U.props,null,P.mode,Z),lu(N,U),N.return=P,N)}function F(P,N,U,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Xd(U,P.mode,Z),N.return=P,N):(N=f(N,U.children||[]),N.return=P,N)}function X(P,N,U,Z,mt){return N===null||N.tag!==7?(N=Ks(U,P.mode,Z,mt),N.return=P,N):(N=f(N,U),N.return=P,N)}function tt(P,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$d(""+N,P.mode,U),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return U=hh(N.type,N.key,N.props,null,P.mode,U),lu(U,N),U.return=P,U;case D:return N=Xd(N,P.mode,U),N.return=P,N;case S:var Z=N._init;return N=Z(N._payload),tt(P,N,U)}if(pe(N)||k(N))return N=Ks(N,P.mode,U,null),N.return=P,N;if(typeof N.then=="function")return tt(P,xh(N),U);if(N.$$typeof===it)return tt(P,gh(P,N),U);Dh(P,N)}return null}function H(P,N,U,Z){var mt=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return mt!==null?null:b(P,N,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===mt?R(P,N,U,Z):null;case D:return U.key===mt?F(P,N,U,Z):null;case S:return mt=U._init,U=mt(U._payload),H(P,N,U,Z)}if(pe(U)||k(U))return mt!==null?null:X(P,N,U,Z,null);if(typeof U.then=="function")return H(P,N,xh(U),Z);if(U.$$typeof===it)return H(P,N,gh(P,U),Z);Dh(P,U)}return null}function G(P,N,U,Z,mt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(U)||null,b(N,P,""+Z,mt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return P=P.get(Z.key===null?U:Z.key)||null,R(N,P,Z,mt);case D:return P=P.get(Z.key===null?U:Z.key)||null,F(N,P,Z,mt);case S:var Vt=Z._init;return Z=Vt(Z._payload),G(P,N,U,Z,mt)}if(pe(Z)||k(Z))return P=P.get(U)||null,X(N,P,Z,mt,null);if(typeof Z.then=="function")return G(P,N,U,xh(Z),mt);if(Z.$$typeof===it)return G(P,N,U,gh(N,Z),mt);Dh(N,Z)}return null}function At(P,N,U,Z){for(var mt=null,Vt=null,yt=N,wt=N=0,Ge=null;yt!==null&&wt<U.length;wt++){yt.index>wt?(Ge=yt,yt=null):Ge=yt.sibling;var jt=H(P,yt,U[wt],Z);if(jt===null){yt===null&&(yt=Ge);break}n&&yt&&jt.alternate===null&&s(P,yt),N=g(jt,N,wt),Vt===null?mt=jt:Vt.sibling=jt,Vt=jt,yt=Ge}if(wt===U.length)return o(P,yt),Ht&&$s(P,wt),mt;if(yt===null){for(;wt<U.length;wt++)yt=tt(P,U[wt],Z),yt!==null&&(N=g(yt,N,wt),Vt===null?mt=yt:Vt.sibling=yt,Vt=yt);return Ht&&$s(P,wt),mt}for(yt=u(yt);wt<U.length;wt++)Ge=G(yt,P,wt,U[wt],Z),Ge!==null&&(n&&Ge.alternate!==null&&yt.delete(Ge.key===null?wt:Ge.key),N=g(Ge,N,wt),Vt===null?mt=Ge:Vt.sibling=Ge,Vt=Ge);return n&&yt.forEach(function(Yi){return s(P,Yi)}),Ht&&$s(P,wt),mt}function bt(P,N,U,Z){if(U==null)throw Error(r(151));for(var mt=null,Vt=null,yt=N,wt=N=0,Ge=null,jt=U.next();yt!==null&&!jt.done;wt++,jt=U.next()){yt.index>wt?(Ge=yt,yt=null):Ge=yt.sibling;var Yi=H(P,yt,jt.value,Z);if(Yi===null){yt===null&&(yt=Ge);break}n&&yt&&Yi.alternate===null&&s(P,yt),N=g(Yi,N,wt),Vt===null?mt=Yi:Vt.sibling=Yi,Vt=Yi,yt=Ge}if(jt.done)return o(P,yt),Ht&&$s(P,wt),mt;if(yt===null){for(;!jt.done;wt++,jt=U.next())jt=tt(P,jt.value,Z),jt!==null&&(N=g(jt,N,wt),Vt===null?mt=jt:Vt.sibling=jt,Vt=jt);return Ht&&$s(P,wt),mt}for(yt=u(yt);!jt.done;wt++,jt=U.next())jt=G(yt,P,wt,jt.value,Z),jt!==null&&(n&&jt.alternate!==null&&yt.delete(jt.key===null?wt:jt.key),N=g(jt,N,wt),Vt===null?mt=jt:Vt.sibling=jt,Vt=jt);return n&&yt.forEach(function(T5){return s(P,T5)}),Ht&&$s(P,wt),mt}function ee(P,N,U,Z){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var mt=U.key;N!==null;){if(N.key===mt){if(mt=U.type,mt===j){if(N.tag===7){o(P,N.sibling),Z=f(N,U.props.children),Z.return=P,P=Z;break t}}else if(N.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&by(mt)===N.type){o(P,N.sibling),Z=f(N,U.props),lu(Z,U),Z.return=P,P=Z;break t}o(P,N);break}else s(P,N);N=N.sibling}U.type===j?(Z=Ks(U.props.children,P.mode,Z,U.key),Z.return=P,P=Z):(Z=hh(U.type,U.key,U.props,null,P.mode,Z),lu(Z,U),Z.return=P,P=Z)}return E(P);case D:t:{for(mt=U.key;N!==null;){if(N.key===mt)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){o(P,N.sibling),Z=f(N,U.children||[]),Z.return=P,P=Z;break t}else{o(P,N);break}else s(P,N);N=N.sibling}Z=Xd(U,P.mode,Z),Z.return=P,P=Z}return E(P);case S:return mt=U._init,U=mt(U._payload),ee(P,N,U,Z)}if(pe(U))return At(P,N,U,Z);if(k(U)){if(mt=k(U),typeof mt!="function")throw Error(r(150));return U=mt.call(U),bt(P,N,U,Z)}if(typeof U.then=="function")return ee(P,N,xh(U),Z);if(U.$$typeof===it)return ee(P,N,gh(P,U),Z);Dh(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(o(P,N.sibling),Z=f(N,U),Z.return=P,P=Z):(o(P,N),Z=$d(U,P.mode,Z),Z.return=P,P=Z),E(P)):o(P,N)}return function(P,N,U,Z){try{ou=0;var mt=ee(P,N,U,Z);return mo=null,mt}catch(yt){if(yt===Jl||yt===yh)throw yt;var Vt=Dn(29,yt,null,P.mode);return Vt.lanes=Z,Vt.return=P,Vt}finally{}}}var go=wy(!0),Ay=wy(!1),Yn=nt(null),br=null;function Mi(n){var s=n.alternate;at(ze,ze.current&1),at(Yn,n),br===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(br=n)}function Sy(n){if(n.tag===22){if(at(ze,ze.current),at(Yn,n),br===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(br=n)}}else Oi()}function Oi(){at(ze,ze.current),at(Yn,Yn.current)}function ei(n){ht(Yn),br===n&&(br=null),ht(ze)}var ze=nt(0);function Ch(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_g(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Dm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Cm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Mn(),f=Ci(u);f.payload=s,o!=null&&(f.callback=o),s=Vi(n,f,u),s!==null&&(On(s,n,u),tu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Mn(),f=Ci(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Vi(n,f,u),s!==null&&(On(s,n,u),tu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Mn(),u=Ci(o);u.tag=2,s!=null&&(u.callback=s),s=Vi(n,u,o),s!==null&&(On(s,n,o),tu(s,n,o))}};function Ry(n,s,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Hl(o,u)||!Hl(f,g):!0}function Iy(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Cm.enqueueReplaceState(s,s.state,null)}function na(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function xy(n){Vh(n)}function Dy(n){console.error(n)}function Cy(n){Vh(n)}function Nh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Vy(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vm(n,s,o){return o=Ci(o),o.tag=3,o.payload={element:null},o.callback=function(){Nh(n,s)},o}function Ny(n){return n=Ci(n),n.tag=3,n}function My(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Vy(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Vy(s,o,u),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function TT(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&$l(s,o,f,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return br===null?eg():o.alternate===null&&ve===0&&(ve=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===am?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rg(n,u,f)),!1;case 22:return o.flags|=65536,u===am?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rg(n,u,f)),!1}throw Error(r(435,o.tag))}return rg(n,u,f),eg(),!1}if(Ht)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Wd&&(n=Error(r(422),{cause:u}),Yl(Hn(n,o)))):(u!==Wd&&(s=Error(r(423),{cause:u}),Yl(Hn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Hn(u,o),f=Vm(n.stateNode,u,f),um(n,f),ve!==4&&(ve=2)),!1;var g=Error(r(520),{cause:u});if(g=Hn(g,o),gu===null?gu=[g]:gu.push(g),ve!==4&&(ve=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Vm(o.stateNode,u,n),um(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Ny(f),My(f,n,o,u),um(o,f),!1}o=o.return}while(o!==null);return!1}var Oy=Error(r(461)),Fe=!1;function Ze(n,s,o,u){s.child=n===null?Ay(s,null,o,u):go(s,n.child,o,u)}function Py(n,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Ws(s),u=mm(n,s,o,E,g,f),b=gm(),n!==null&&!Fe?(pm(n,s,f),ni(n,s,f)):(Ht&&b&&Zd(s),s.flags|=1,Ze(n,s,u,f),s.child)}function ky(n,s,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Yd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Ly(n,s,g,u,f)):(n=hh(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Bm(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(E,u)&&n.ref===s.ref)return ni(n,s,f)}return s.flags|=1,n=$r(g,u),n.ref=s.ref,n.return=s,s.child=n}function Ly(n,s,o,u,f){if(n!==null){var g=n.memoizedProps;if(Hl(g,u)&&n.ref===s.ref)if(Fe=!1,s.pendingProps=u=g,Bm(n,f))(n.flags&131072)!==0&&(Fe=!0);else return s.lanes=n.lanes,ni(n,s,f)}return Nm(n,s,o,u,f)}function zy(n,s,o){var u=s.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return By(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ph(s,g!==null?g.cachePool:null),g!==null?L0(s,g):hm(),Sy(s);else return s.lanes=s.childLanes=536870912,By(n,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(ph(s,g.cachePool),L0(s,g),Oi(),s.memoizedState=null):(n!==null&&ph(s,null),hm(),Oi());return Ze(n,s,f,o),s.child}function By(n,s,o,u){var f=sm();return f=f===null?null:{parent:Le._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&ph(s,null),hm(),Sy(s),n!==null&&$l(n,s,u,!0),null}function Mh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Nm(n,s,o,u,f){return Ws(s),o=mm(n,s,o,u,void 0,f),u=gm(),n!==null&&!Fe?(pm(n,s,f),ni(n,s,f)):(Ht&&u&&Zd(s),s.flags|=1,Ze(n,s,o,f),s.child)}function Uy(n,s,o,u,f,g){return Ws(s),s.updateQueue=null,o=B0(s,u,o,f),z0(n),u=gm(),n!==null&&!Fe?(pm(n,s,g),ni(n,s,g)):(Ht&&u&&Zd(s),s.flags|=1,Ze(n,s,o,g),s.child)}function jy(n,s,o,u,f){if(Ws(s),s.stateNode===null){var g=io,E=o.contextType;typeof E=="object"&&E!==null&&(g=sn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Cm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},om(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?sn(E):io,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Dm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Cm.enqueueReplaceState(g,g.state,null),nu(s,u,g,f),eu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var b=s.memoizedProps,R=na(o,b);g.props=R;var F=g.context,X=o.contextType;E=io,typeof X=="object"&&X!==null&&(E=sn(X));var tt=o.getDerivedStateFromProps;X=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,X||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||F!==E)&&Iy(s,g,u,E),Di=!1;var H=s.memoizedState;g.state=H,nu(s,u,g,f),eu(),F=s.memoizedState,b||H!==F||Di?(typeof tt=="function"&&(Dm(s,o,tt,u),F=s.memoizedState),(R=Di||Ry(s,o,R,u,H,F,E))?(X||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),g.props=u,g.state=F,g.context=E,u=R):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,lm(n,s),E=s.memoizedProps,X=na(o,E),g.props=X,tt=s.pendingProps,H=g.context,F=o.contextType,R=io,typeof F=="object"&&F!==null&&(R=sn(F)),b=o.getDerivedStateFromProps,(F=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==tt||H!==R)&&Iy(s,g,u,R),Di=!1,H=s.memoizedState,g.state=H,nu(s,u,g,f),eu();var G=s.memoizedState;E!==tt||H!==G||Di||n!==null&&n.dependencies!==null&&mh(n.dependencies)?(typeof b=="function"&&(Dm(s,o,b,u),G=s.memoizedState),(X=Di||Ry(s,o,X,u,H,G,R)||n!==null&&n.dependencies!==null&&mh(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,R),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,R)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=R,u=X):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Mh(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=go(s,n.child,null,f),s.child=go(s,null,o,f)):Ze(n,s,o,f),s.memoizedState=g.state,n=s.child):n=ni(n,s,f),n}function qy(n,s,o,u){return Kl(),s.flags|=256,Ze(n,s,o,u),s.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(n){return{baseLanes:n,cachePool:D0()}}function Pm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=$n),n}function Fy(n,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(ze.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ht){if(f?Mi(s):Oi(),Ht){var b=_e,R;if(R=b){t:{for(R=b,b=Tr;R.nodeType!==8;){if(!b){b=null;break t}if(R=ir(R.nextSibling),R===null){b=null;break t}}b=R}b!==null?(s.memoizedState={dehydrated:b,treeContext:Ys!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},R=Dn(18,null,null,0),R.stateNode=b,R.return=s,s.child=R,gn=s,_e=null,R=!0):R=!1}R||Zs(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return _g(b)?s.lanes=32:s.lanes=536870912,null;ei(s)}return b=u.children,u=u.fallback,f?(Oi(),f=s.mode,b=Oh({mode:"hidden",children:b},f),u=Ks(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,f=s.child,f.memoizedState=Om(o),f.childLanes=Pm(n,E,o),s.memoizedState=Mm,u):(Mi(s),km(s,b))}if(R=n.memoizedState,R!==null&&(b=R.dehydrated,b!==null)){if(g)s.flags&256?(Mi(s),s.flags&=-257,s=Lm(n,s,o)):s.memoizedState!==null?(Oi(),s.child=n.child,s.flags|=128,s=null):(Oi(),f=u.fallback,b=s.mode,u=Oh({mode:"visible",children:u.children},b),f=Ks(f,b,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,go(s,n.child,null,o),u=s.child,u.memoizedState=Om(o),u.childLanes=Pm(n,E,o),s.memoizedState=Mm,s=f);else if(Mi(s),_g(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(r(419)),u.stack="",u.digest=E,Yl({value:u,source:null,stack:null}),s=Lm(n,s,o)}else if(Fe||$l(n,s,o,!1),E=(o&n.childLanes)!==0,Fe||E){if(E=se,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ti(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,ro(n,u),On(E,n,u),Oy;b.data==="$?"||eg(),s=Lm(n,s,o)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,_e=ir(b.nextSibling),gn=s,Ht=!0,Xs=null,Tr=!1,n!==null&&(Qn[Kn++]=Xr,Qn[Kn++]=Zr,Qn[Kn++]=Ys,Xr=n.id,Zr=n.overflow,Ys=s),s=km(s,u.children),s.flags|=4096);return s}return f?(Oi(),f=u.fallback,b=s.mode,R=n.child,F=R.sibling,u=$r(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,F!==null?f=$r(F,f):(f=Ks(f,b,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,b=n.child.memoizedState,b===null?b=Om(o):(R=b.cachePool,R!==null?(F=Le._currentValue,R=R.parent!==F?{parent:F,pool:F}:R):R=D0(),b={baseLanes:b.baseLanes|o,cachePool:R}),f.memoizedState=b,f.childLanes=Pm(n,E,o),s.memoizedState=Mm,u):(Mi(s),o=n.child,n=o.sibling,o=$r(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function km(n,s){return s=Oh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Oh(n,s){return n=Dn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Lm(n,s,o){return go(s,n.child,null,o),n=km(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Hy(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),em(n.return,s,o)}function zm(n,s,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Gy(n,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Ze(n,s,u.children,o),u=ze.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hy(n,o,s);else if(n.tag===19)Hy(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(at(ze,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Ch(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),zm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Ch(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}zm(s,!0,o,null,g);break;case"together":zm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ni(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Bi|=s.lanes,(o&s.childLanes)===0)if(n!==null){if($l(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=$r(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=$r(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Bm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&mh(n)))}function bT(n,s,o){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),xi(s,Le,n.memoizedState.cache),Kl();break;case 27:case 5:Ei(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:xi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Mi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Fy(n,s,o):(Mi(s),n=ni(n,s,o),n!==null?n.sibling:null);Mi(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||($l(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Gy(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ze,ze.current),u)break;return null;case 22:case 23:return s.lanes=0,zy(n,s,o);case 24:xi(s,Le,n.memoizedState.cache)}return ni(n,s,o)}function Qy(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Fe=!0;else{if(!Bm(n,o)&&(s.flags&128)===0)return Fe=!1,bT(n,s,o);Fe=(n.flags&131072)!==0}else Fe=!1,Ht&&(s.flags&1048576)!==0&&b0(s,dh,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Yd(u)?(n=na(u,n),s.tag=1,s=jy(null,s,u,n,o)):(s.tag=0,s=Nm(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===vt){s.tag=11,s=Py(null,s,u,n,o);break t}else if(f===V){s.tag=14,s=ky(null,s,u,n,o);break t}}throw s=Ye(u)||u,Error(r(306,s,""))}}return s;case 0:return Nm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=na(u,s.pendingProps),jy(n,s,u,f,o);case 3:t:{if(ie(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,lm(n,s),nu(s,u,null,o);var E=s.memoizedState;if(u=E.cache,xi(s,Le,u),u!==g.cache&&nm(s,[Le],o,!0),eu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=qy(n,s,u,o);break t}else if(u!==f){f=Hn(Error(r(424)),s),Yl(f),s=qy(n,s,u,o);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_e=ir(n.firstChild),gn=s,Ht=!0,Xs=null,Tr=!0,o=Ay(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Kl(),u===f){s=ni(n,s,o);break t}Ze(n,s,u,o)}s=s.child}return s;case 26:return Mh(n,s),n===null?(o=X_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ht||(o=s.type,n=s.pendingProps,u=Yh(St.current).createElement(o),u[Oe]=s,u[Ie]=n,We(u,o,n),Te(u),s.stateNode=u):s.memoizedState=X_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ei(s),n===null&&Ht&&(u=s.stateNode=K_(s.type,s.pendingProps,St.current),gn=s,Tr=!0,f=_e,Fi(s.type)?(vg=f,_e=ir(u.firstChild)):_e=f),Ze(n,s,s.pendingProps.children,o),Mh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ht&&((f=u=_e)&&(u=XT(u,s.type,s.pendingProps,Tr),u!==null?(s.stateNode=u,gn=s,_e=ir(u.firstChild),Tr=!1,f=!0):f=!1),f||Zs(s)),Ei(s),f=s.type,g=s.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,gg(f,g)?u=null:E!==null&&gg(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=mm(n,s,mT,null,null,o),Au._currentValue=f),Mh(n,s),Ze(n,s,u,o),s.child;case 6:return n===null&&Ht&&((n=o=_e)&&(o=ZT(o,s.pendingProps,Tr),o!==null?(s.stateNode=o,gn=s,_e=null,n=!0):n=!1),n||Zs(s)),null;case 13:return Fy(n,s,o);case 4:return ie(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=go(s,null,u,o):Ze(n,s,u,o),s.child;case 11:return Py(n,s,s.type,s.pendingProps,o);case 7:return Ze(n,s,s.pendingProps,o),s.child;case 8:return Ze(n,s,s.pendingProps.children,o),s.child;case 12:return Ze(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,xi(s,s.type,u.value),Ze(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Ws(s),f=sn(f),u=u(f),s.flags|=1,Ze(n,s,u,o),s.child;case 14:return ky(n,s,s.type,s.pendingProps,o);case 15:return Ly(n,s,s.type,s.pendingProps,o);case 19:return Gy(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Oh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=$r(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return zy(n,s,o);case 24:return Ws(s),u=sn(Le),n===null?(f=sm(),f===null&&(f=se,g=rm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},om(s),xi(s,Le,f)):((n.lanes&o)!==0&&(lm(n,s),nu(s,null,null,o),eu()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),xi(s,Le,u)):(u=g.cache,xi(s,Le,u),u!==f.cache&&nm(s,[Le],o,!0))),Ze(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ri(n){n.flags|=4}function Ky(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e2(s)){if(s=Yn.current,s!==null&&((Bt&4194048)===Bt?br!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==br))throw Wl=am,C0;n.flags|=8192}}function Ph(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Rl():536870912,n.lanes|=s,vo|=s)}function uu(n,s){if(!Ht)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function me(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function wT(n,s,o){var u=s.pendingProps;switch(Jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(s),null;case 1:return me(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Wr(Le),ur(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ql(s)?ri(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,S0())),me(s),null;case 26:return o=s.memoizedState,n===null?(ri(s),o!==null?(me(s),Ky(s,o)):(me(s),s.flags&=-16777217)):o?o!==n.memoizedState?(ri(s),me(s),Ky(s,o)):(me(s),s.flags&=-16777217):(n.memoizedProps!==u&&ri(s),me(s),s.flags&=-16777217),null;case 27:kr(s),o=St.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return me(s),null}n=Et.current,Ql(s)?w0(s):(n=K_(f,u,o),s.stateNode=n,ri(s))}return me(s),null;case 5:if(kr(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return me(s),null}if(n=Et.current,Ql(s))w0(s);else{switch(f=Yh(St.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Oe]=s,n[Ie]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;t:switch(We(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ri(s)}}return me(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=St.current,Ql(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Oe]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||U_(n.nodeValue,o)),n||Zs(s)}else n=Yh(n).createTextNode(u),n[Oe]=s,s.stateNode=n}return me(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ql(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Oe]=s}else Kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;me(s),f=!1}else f=S0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ei(s),s):(ei(s),null)}if(ei(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Ph(s,s.updateQueue),me(s),null;case 4:return ur(),n===null&&cg(s.stateNode.containerInfo),me(s),null;case 10:return Wr(s.type),me(s),null;case 19:if(ht(ze),f=s.memoizedState,f===null)return me(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)uu(f,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Ch(n),g!==null){for(s.flags|=128,uu(f,!1),n=g.updateQueue,s.updateQueue=n,Ph(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)T0(o,n),o=o.sibling;return at(ze,ze.current&1|2),s.child}n=n.sibling}f.tail!==null&&zn()>zh&&(s.flags|=128,u=!0,uu(f,!1),s.lanes=4194304)}else{if(!u)if(n=Ch(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Ph(s,n),uu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ht)return me(s),null}else 2*zn()-f.renderingStartTime>zh&&o!==536870912&&(s.flags|=128,u=!0,uu(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=zn(),s.sibling=null,n=ze.current,at(ze,u?n&1|2:n&1),s):(me(s),null);case 22:case 23:return ei(s),fm(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(me(s),s.subtreeFlags&6&&(s.flags|=8192)):me(s),o=s.updateQueue,o!==null&&Ph(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ht(ta),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Wr(Le),me(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AT(n,s){switch(Jd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wr(Le),ur(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return kr(s),null;case 13:if(ei(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Kl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ht(ze),null;case 4:return ur(),null;case 10:return Wr(s.type),null;case 22:case 23:return ei(s),fm(),n!==null&&ht(ta),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wr(Le),null;case 25:return null;default:return null}}function Yy(n,s){switch(Jd(s),s.tag){case 3:Wr(Le),ur();break;case 26:case 27:case 5:kr(s);break;case 4:ur();break;case 13:ei(s);break;case 19:ht(ze);break;case 10:Wr(s.type);break;case 22:case 23:ei(s),fm(),n!==null&&ht(ta);break;case 24:Wr(Le)}}function cu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){ne(s,s.return,b)}}function Pi(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var R=o,F=b;try{F()}catch(X){ne(f,R,X)}}}u=u.next}while(u!==g)}}catch(X){ne(s,s.return,X)}}function $y(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{k0(s,o)}catch(u){ne(n,n.return,u)}}}function Xy(n,s,o){o.props=na(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ne(n,s,u)}}function hu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ne(n,s,f)}}function wr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ne(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ne(n,s,f)}else o.current=null}function Zy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ne(n,n.return,f)}}function Um(n,s,o){try{var u=n.stateNode;GT(u,n.type,o,s),u[Ie]=s}catch(f){ne(n,n.return,f)}}function Jy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fi(n.type)||n.tag===4}function jm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kh));else if(u!==4&&(u===27&&Fi(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(qm(n,s,o),n=n.sibling;n!==null;)qm(n,s,o),n=n.sibling}function kh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Fi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(kh(n,s,o),n=n.sibling;n!==null;)kh(n,s,o),n=n.sibling}function Wy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);We(s,u,o),s[Oe]=n,s[Ie]=o}catch(g){ne(n,n.return,g)}}var ii=!1,we=!1,Fm=!1,t_=typeof WeakSet=="function"?WeakSet:Set,He=null;function ST(n,s){if(n=n.containerInfo,dg=tf,n=h0(n),jd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,R=-1,F=0,X=0,tt=n,H=null;e:for(;;){for(var G;tt!==o||f!==0&&tt.nodeType!==3||(b=E+f),tt!==g||u!==0&&tt.nodeType!==3||(R=E+u),tt.nodeType===3&&(E+=tt.nodeValue.length),(G=tt.firstChild)!==null;)H=tt,tt=G;for(;;){if(tt===n)break e;if(H===o&&++F===f&&(b=E),H===g&&++X===u&&(R=E),(G=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=G}o=b===-1||R===-1?null:{start:b,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(mg={focusedElem:n,selectionRange:o},tf=!1,He=s;He!==null;)if(s=He,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,He=n;else for(;He!==null;){switch(s=He,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var At=na(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(At,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(bt){ne(o,o.return,bt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)yg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,He=n;break}He=s.return}}function e_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ki(n,o),u&4&&cu(5,o);break;case 1:if(ki(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){ne(o,o.return,E)}else{var f=na(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ne(o,o.return,E)}}u&64&&$y(o),u&512&&hu(o,o.return);break;case 3:if(ki(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{k0(n,s)}catch(E){ne(o,o.return,E)}}break;case 27:s===null&&u&4&&Wy(o);case 26:case 5:ki(n,o),s===null&&u&4&&Zy(o),u&512&&hu(o,o.return);break;case 12:ki(n,o);break;case 13:ki(n,o),u&4&&i_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=OT.bind(null,o),JT(n,o))));break;case 22:if(u=o.memoizedState!==null||ii,!u){s=s!==null&&s.memoizedState!==null||we,f=ii;var g=we;ii=u,(we=s)&&!g?Li(n,o,(o.subtreeFlags&8772)!==0):ki(n,o),ii=f,we=g}break;case 30:break;default:ki(n,o)}}function n_(n){var s=n.alternate;s!==null&&(n.alternate=null,n_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ai(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ce=null,Tn=!1;function si(n,s,o){for(o=o.child;o!==null;)r_(n,s,o),o=o.sibling}function r_(n,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ye,o)}catch{}switch(o.tag){case 26:we||wr(o,s),si(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:we||wr(o,s);var u=ce,f=Tn;Fi(o.type)&&(ce=o.stateNode,Tn=!1),si(n,s,o),Eu(o.stateNode),ce=u,Tn=f;break;case 5:we||wr(o,s);case 6:if(u=ce,f=Tn,ce=null,si(n,s,o),ce=u,Tn=f,ce!==null)if(Tn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(o.stateNode)}catch(g){ne(o,s,g)}else try{ce.removeChild(o.stateNode)}catch(g){ne(o,s,g)}break;case 18:ce!==null&&(Tn?(n=ce,G_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),xu(n)):G_(ce,o.stateNode));break;case 4:u=ce,f=Tn,ce=o.stateNode.containerInfo,Tn=!0,si(n,s,o),ce=u,Tn=f;break;case 0:case 11:case 14:case 15:we||Pi(2,o,s),we||Pi(4,o,s),si(n,s,o);break;case 1:we||(wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Xy(o,s,u)),si(n,s,o);break;case 21:si(n,s,o);break;case 22:we=(u=we)||o.memoizedState!==null,si(n,s,o),we=u;break;default:si(n,s,o)}}function i_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xu(n)}catch(o){ne(s,s.return,o)}}function RT(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new t_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new t_),s;default:throw Error(r(435,n.tag))}}function Hm(n,s){var o=RT(n);s.forEach(function(u){var f=PT.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Cn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=s,b=E;t:for(;b!==null;){switch(b.tag){case 27:if(Fi(b.type)){ce=b.stateNode,Tn=!1;break t}break;case 5:ce=b.stateNode,Tn=!1;break t;case 3:case 4:ce=b.stateNode.containerInfo,Tn=!0;break t}b=b.return}if(ce===null)throw Error(r(160));r_(g,E,f),ce=null,Tn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s_(s,n),s=s.sibling}var rr=null;function s_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(s,n),Vn(n),u&4&&(Pi(3,n,n.return),cu(3,n),Pi(5,n,n.return));break;case 1:Cn(s,n),Vn(n),u&512&&(we||o===null||wr(o,o.return)),u&64&&ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=rr;if(Cn(s,n),Vn(n),u&512&&(we||o===null||wr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){t:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Vs]||g[Oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),We(g,u,o),g[Oe]=n,Te(g),u=g;break t;case"link":var E=W_("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=f.createElement(u),We(g,u,o),f.head.appendChild(g);break;case"meta":if(E=W_("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=f.createElement(u),We(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Oe]=n,Te(g),u=g}n.stateNode=u}else t2(f,n.type,n.stateNode);else n.stateNode=J_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?t2(f,n.type,n.stateNode):J_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Um(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,n),Vn(n),u&512&&(we||o===null||wr(o,o.return)),o!==null&&u&4&&Um(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,n),Vn(n),u&512&&(we||o===null||wr(o,o.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(G){ne(n,n.return,G)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Um(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Fm=!0);break;case 6:if(Cn(s,n),Vn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(G){ne(n,n.return,G)}}break;case 3:if(Zh=null,f=rr,rr=$h(s.containerInfo),Cn(s,n),rr=f,Vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xu(s.containerInfo)}catch(G){ne(n,n.return,G)}Fm&&(Fm=!1,a_(n));break;case 4:u=rr,rr=$h(n.stateNode.containerInfo),Cn(s,n),Vn(n),rr=u;break;case 12:Cn(s,n),Vn(n);break;case 13:Cn(s,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xm=zn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hm(n,u)));break;case 22:f=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,F=ii,X=we;if(ii=F||f,we=X||R,Cn(s,n),we=X,ii=F,Vn(n),u&8192)t:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||R||ii||we||ra(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){R=o=s;try{if(g=R.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=R.stateNode;var tt=R.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ne(R,R.return,G)}}}else if(s.tag===6){if(o===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(G){ne(R,R.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hm(n,o))));break;case 19:Cn(s,n),Vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hm(n,u)));break;case 30:break;case 21:break;default:Cn(s,n),Vn(n)}}function Vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(Jy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=jm(n);kh(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Un(E,""),o.flags&=-33);var b=jm(n);kh(n,b,E);break;case 3:case 4:var R=o.stateNode.containerInfo,F=jm(n);qm(n,F,R);break;default:throw Error(r(161))}}catch(X){ne(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ki(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e_(n,s.alternate,s),s=s.sibling}function ra(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pi(4,s,s.return),ra(s);break;case 1:wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Xy(s,s.return,o),ra(s);break;case 27:Eu(s.stateNode);case 26:case 5:wr(s,s.return),ra(s);break;case 22:s.memoizedState===null&&ra(s);break;case 30:ra(s);break;default:ra(s)}n=n.sibling}}function Li(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Li(f,g,o),cu(4,g);break;case 1:if(Li(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ne(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)P0(R[f],b)}catch(F){ne(u,u.return,F)}}o&&E&64&&$y(g),hu(g,g.return);break;case 27:Wy(g);case 26:case 5:Li(f,g,o),o&&u===null&&E&4&&Zy(g),hu(g,g.return);break;case 12:Li(f,g,o);break;case 13:Li(f,g,o),o&&E&4&&i_(f,g);break;case 22:g.memoizedState===null&&Li(f,g,o),hu(g,g.return);break;case 30:break;default:Li(f,g,o)}s=s.sibling}}function Gm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Xl(o))}function Qm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Xl(n))}function Ar(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(n,s,o,u),s=s.sibling}function o_(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(n,s,o,u),f&2048&&cu(9,s);break;case 1:Ar(n,s,o,u);break;case 3:Ar(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Xl(n)));break;case 12:if(f&2048){Ar(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){ne(s,s.return,R)}}else Ar(n,s,o,u);break;case 13:Ar(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ar(n,s,o,u):fu(n,s):g._visibility&2?Ar(n,s,o,u):(g._visibility|=2,po(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Gm(E,s);break;case 24:Ar(n,s,o,u),f&2048&&Qm(s.alternate,s);break;default:Ar(n,s,o,u)}}function po(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,E=s,b=o,R=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:po(g,E,b,R,f),cu(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?po(g,E,b,R,f):fu(g,E):(X._visibility|=2,po(g,E,b,R,f)),f&&F&2048&&Gm(E.alternate,E);break;case 24:po(g,E,b,R,f),f&&F&2048&&Qm(E.alternate,E);break;default:po(g,E,b,R,f)}s=s.sibling}}function fu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:fu(o,u),f&2048&&Gm(u.alternate,u);break;case 24:fu(o,u),f&2048&&Qm(u.alternate,u);break;default:fu(o,u)}s=s.sibling}}var du=8192;function yo(n){if(n.subtreeFlags&du)for(n=n.child;n!==null;)l_(n),n=n.sibling}function l_(n){switch(n.tag){case 26:yo(n),n.flags&du&&n.memoizedState!==null&&h5(rr,n.memoizedState,n.memoizedProps);break;case 5:yo(n);break;case 3:case 4:var s=rr;rr=$h(n.stateNode.containerInfo),yo(n),rr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=du,du=16777216,yo(n),du=s):yo(n));break;default:yo(n)}}function u_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function mu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,h_(u,n)}u_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 0:case 11:case 15:mu(n),n.flags&2048&&Pi(9,n,n.return);break;case 3:mu(n);break;case 12:mu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Lh(n)):mu(n);break;default:mu(n)}}function Lh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,h_(u,n)}u_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pi(8,s,s.return),Lh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(s));break;default:Lh(s)}n=n.sibling}}function h_(n,s){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:Pi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,He=u;else t:for(o=n;He!==null;){u=He;var f=u.sibling,g=u.return;if(n_(u),u===o){He=null;break t}if(f!==null){f.return=g,He=f;break t}He=g}}}var IT={getCacheForType:function(n){var s=sn(Le),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},xT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Nt=null,Bt=0,$t=0,Nn=null,zi=!1,_o=!1,Km=!1,ai=0,ve=0,Bi=0,ia=0,Ym=0,$n=0,vo=0,gu=null,bn=null,$m=!1,Xm=0,zh=1/0,Bh=null,Ui=null,Je=0,ji=null,Eo=null,To=0,Zm=0,Jm=null,f_=null,pu=0,Wm=null;function Mn(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if($.T!==null){var n=oo;return n!==0?n:ag()}return bi()}function d_(){$n===0&&($n=(Bt&536870912)===0||Ht?Sl():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),$n}function On(n,s,o){(n===se&&($t===2||$t===9)||n.cancelPendingCommit!==null)&&(bo(n,0),qi(n,Bt,$n,!1)),zr(n,o),((Yt&2)===0||n!==se)&&(n===se&&((Yt&2)===0&&(ia|=o),ve===4&&qi(n,Bt,$n,!1)),Sr(n))}function m_(n,s,o){if((Yt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||Cs(n,s),f=u?VT(n,s):ng(n,s,!0),g=u;do{if(f===0){_o&&!u&&qi(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!DT(o)){f=ng(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var b=n;f=gu;var R=b.current.memoizedState.isDehydrated;if(R&&(bo(b,E).flags|=256),E=ng(b,E,!1),E!==2){if(Km&&!R){b.errorRecoveryDisabledLanes|=g,ia|=g,f=4;break t}g=bn,bn=f,g!==null&&(bn===null?bn=g:bn.push.apply(bn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){bo(n,0),qi(n,s,0,!0);break}t:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:qi(u,s,$n,!zi);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Xm+300-zn(),10<f)){if(qi(u,s,$n,!zi),za(u,0,!0)!==0)break t;u.timeoutHandle=F_(g_.bind(null,u,o,bn,Bh,$m,s,$n,ia,vo,zi,g,2,-0,0),f);break t}g_(u,o,bn,Bh,$m,s,$n,ia,vo,zi,g,0,-0,0)}}break}while(!0);Sr(n)}function g_(n,s,o,u,f,g,E,b,R,F,X,tt,H,G){if(n.timeoutHandle=-1,tt=s.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(wu={stylesheets:null,count:0,unsuspend:c5},l_(s),tt=f5(),tt!==null)){n.cancelPendingCommit=tt(b_.bind(null,n,s,g,o,u,f,E,b,R,X,1,H,G)),qi(n,g,E,!F);return}b_(n,s,g,o,u,f,E,b,R)}function DT(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!xn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(n,s,o,u){s&=~Ym,s&=~ia,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-rn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&cr(n,o,s)}function Uh(){return(Yt&6)===0?(yu(0),!1):!0}function tg(){if(Nt!==null){if($t===0)var n=Nt.return;else n=Nt,Jr=Js=null,ym(n),mo=null,ou=0,n=Nt;for(;n!==null;)Yy(n.alternate,n),n=n.return;Nt=null}}function bo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,KT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),tg(),se=n,Nt=o=$r(n.current,null),Bt=s,$t=0,Nn=null,zi=!1,_o=Cs(n,s),Km=!1,vo=$n=Ym=ia=Bi=ve=0,bn=gu=null,$m=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-rn(u),g=1<<f;s|=n[f],u&=~g}return ai=s,lh(),o}function p_(n,s){Dt=null,$.H=Ih,s===Jl||s===yh?(s=M0(),$t=3):s===C0?(s=M0(),$t=4):$t=s===Oy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Nt===null&&(ve=1,Nh(n,Hn(s,n.current)))}function y_(){var n=$.H;return $.H=Ih,n===null?Ih:n}function __(){var n=$.A;return $.A=IT,n}function eg(){ve=4,zi||(Bt&4194048)!==Bt&&Yn.current!==null||(_o=!0),(Bi&134217727)===0&&(ia&134217727)===0||se===null||qi(se,Bt,$n,!1)}function ng(n,s,o){var u=Yt;Yt|=2;var f=y_(),g=__();(se!==n||Bt!==s)&&(Bh=null,bo(n,s)),s=!1;var E=ve;t:do try{if($t!==0&&Nt!==null){var b=Nt,R=Nn;switch($t){case 8:tg(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var F=$t;if($t=0,Nn=null,wo(n,b,R,F),o&&_o){E=0;break t}break;default:F=$t,$t=0,Nn=null,wo(n,b,R,F)}}CT(),E=ve;break}catch(X){p_(n,X)}while(!0);return s&&n.shellSuspendCounter++,Jr=Js=null,Yt=u,$.H=f,$.A=g,Nt===null&&(se=null,Bt=0,lh()),E}function CT(){for(;Nt!==null;)v_(Nt)}function VT(n,s){var o=Yt;Yt|=2;var u=y_(),f=__();se!==n||Bt!==s?(Bh=null,zh=zn()+500,bo(n,s)):_o=Cs(n,s);t:do try{if($t!==0&&Nt!==null){s=Nt;var g=Nn;e:switch($t){case 1:$t=0,Nn=null,wo(n,s,g,1);break;case 2:case 9:if(V0(g)){$t=0,Nn=null,E_(s);break}s=function(){$t!==2&&$t!==9||se!==n||($t=7),Sr(n)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:V0(g)?($t=0,Nn=null,E_(s)):($t=0,Nn=null,wo(n,s,g,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var b=Nt;if(!E||e2(E)){$t=0,Nn=null;var R=b.sibling;if(R!==null)Nt=R;else{var F=b.return;F!==null?(Nt=F,jh(F)):Nt=null}break e}}$t=0,Nn=null,wo(n,s,g,5);break;case 6:$t=0,Nn=null,wo(n,s,g,6);break;case 8:tg(),ve=6;break t;default:throw Error(r(462))}}NT();break}catch(X){p_(n,X)}while(!0);return Jr=Js=null,$.H=u,$.A=f,Yt=o,Nt!==null?0:(se=null,Bt=0,lh(),ve)}function NT(){for(;Nt!==null&&!Tl();)v_(Nt)}function v_(n){var s=Qy(n.alternate,n,ai);n.memoizedProps=n.pendingProps,s===null?jh(n):Nt=s}function E_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Uy(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=Uy(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:ym(s);default:Yy(o,s),s=Nt=T0(s,ai),s=Qy(o,s,ai)}n.memoizedProps=n.pendingProps,s===null?jh(n):Nt=s}function wo(n,s,o,u){Jr=Js=null,ym(s),mo=null,ou=0;var f=s.return;try{if(TT(n,f,s,o,Bt)){ve=1,Nh(n,Hn(o,n.current)),Nt=null;return}}catch(g){if(f!==null)throw Nt=f,g;ve=1,Nh(n,Hn(o,n.current)),Nt=null;return}s.flags&32768?(Ht||u===1?n=!0:_o||(Bt&536870912)!==0?n=!1:(zi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T_(s,n)):jh(s)}function jh(n){var s=n;do{if((s.flags&32768)!==0){T_(s,zi);return}n=s.return;var o=wT(s.alternate,s,ai);if(o!==null){Nt=o;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=n}while(s!==null);ve===0&&(ve=5)}function T_(n,s){do{var o=AT(n.alternate,n);if(o!==null){o.flags&=32767,Nt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Nt=n;return}Nt=n=o}while(n!==null);ve=6,Nt=null}function b_(n,s,o,u,f,g,E,b,R){n.cancelPendingCommit=null;do qh();while(Je!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Qd,Il(n,o,g,E,b,R),n===se&&(Nt=se=null,Bt=0),Eo=s,ji=n,To=o,Zm=g,Jm=f,f_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kT(Rs,function(){return I_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=ut.p,ut.p=2,E=Yt,Yt|=4;try{ST(n,s,o)}finally{Yt=E,ut.p=f,$.T=u}}Je=1,w_(),A_(),S_()}}function w_(){if(Je===1){Je=0;var n=ji,s=Eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=ut.p;ut.p=2;var f=Yt;Yt|=4;try{s_(s,n);var g=mg,E=h0(n.containerInfo),b=g.focusedElem,R=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&c0(b.ownerDocument.documentElement,b)){if(R!==null&&jd(b)){var F=R.start,X=R.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var tt=b.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var G=H.getSelection(),At=b.textContent.length,bt=Math.min(R.start,At),ee=R.end===void 0?bt:Math.min(R.end,At);!G.extend&&bt>ee&&(E=ee,ee=bt,bt=E);var P=u0(b,bt),N=u0(b,ee);if(P&&N&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var U=tt.createRange();U.setStart(P.node,P.offset),G.removeAllRanges(),bt>ee?(G.addRange(U),G.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),G.addRange(U))}}}}for(tt=[],G=b;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<tt.length;b++){var Z=tt[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}tf=!!dg,mg=dg=null}finally{Yt=f,ut.p=u,$.T=o}}n.current=s,Je=2}}function A_(){if(Je===2){Je=0;var n=ji,s=Eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=ut.p;ut.p=2;var f=Yt;Yt|=4;try{e_(n,s.alternate,s)}finally{Yt=f,ut.p=u,$.T=o}}Je=3}}function S_(){if(Je===4||Je===3){Je=0,Lc();var n=ji,s=Eo,o=To,u=f_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Je=5:(Je=0,Eo=ji=null,R_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ui=null),Ba(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ye,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,f=ut.p,ut.p=2,$.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{$.T=s,ut.p=f}}(To&3)!==0&&qh(),Sr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Wm?pu++:(pu=0,Wm=n):pu=0,yu(0)}}function R_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Xl(s)))}function qh(n){return w_(),A_(),S_(),I_()}function I_(){if(Je!==5)return!1;var n=ji,s=Zm;Zm=0;var o=Ba(To),u=$.T,f=ut.p;try{ut.p=32>o?32:o,$.T=null,o=Jm,Jm=null;var g=ji,E=To;if(Je=0,Eo=ji=null,To=0,(Yt&6)!==0)throw Error(r(331));var b=Yt;if(Yt|=4,c_(g.current),o_(g,g.current,E,o),Yt=b,yu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ye,g)}catch{}return!0}finally{ut.p=f,$.T=u,R_(n,s)}}function x_(n,s,o){s=Hn(o,s),s=Vm(n.stateNode,s,2),n=Vi(n,s,2),n!==null&&(zr(n,2),Sr(n))}function ne(n,s,o){if(n.tag===3)x_(n,n,o);else for(;s!==null;){if(s.tag===3){x_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){n=Hn(o,n),o=Ny(2),u=Vi(s,o,2),u!==null&&(My(o,u,s,n),zr(u,2),Sr(u));break}}s=s.return}}function rg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new xT;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Km=!0,f.add(o),n=MT.bind(null,n,s,o),s.then(n,n))}function MT(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,se===n&&(Bt&o)===o&&(ve===4||ve===3&&(Bt&62914560)===Bt&&300>zn()-Xm?(Yt&2)===0&&bo(n,0):Ym|=o,vo===Bt&&(vo=0)),Sr(n)}function D_(n,s){s===0&&(s=Rl()),n=ro(n,s),n!==null&&(zr(n,s),Sr(n))}function OT(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),D_(n,o)}function PT(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),D_(n,o)}function kT(n,s){return As(n,s)}var Fh=null,Ao=null,ig=!1,Hh=!1,sg=!1,sa=0;function Sr(n){n!==Ao&&n.next===null&&(Ao===null?Fh=Ao=n:Ao=Ao.next=n),Hh=!0,ig||(ig=!0,zT())}function yu(n,s){if(!sg&&Hh){sg=!0;do for(var o=!1,u=Fh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-rn(42|n)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,M_(u,g))}else g=Bt,g=za(u,u===se?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Cs(u,g)||(o=!0,M_(u,g));u=u.next}while(o);sg=!1}}function LT(){C_()}function C_(){Hh=ig=!1;var n=0;sa!==0&&(QT()&&(n=sa),sa=0);for(var s=zn(),o=null,u=Fh;u!==null;){var f=u.next,g=V_(u,s);g===0?(u.next=null,o===null?Fh=f:o.next=f,f===null&&(Ao=o)):(o=u,(n!==0||(g&3)!==0)&&(Hh=!0)),u=f}yu(n)}function V_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-rn(g),b=1<<E,R=f[E];R===-1?((b&o)===0||(b&u)!==0)&&(f[E]=Al(b,s)):R<=s&&(n.expiredLanes|=b),g&=~b}if(s=se,o=Bt,o=za(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&($t===2||$t===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ss(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Cs(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Ss(u),Ba(o)){case 2:case 8:o=ka;break;case 32:o=Rs;break;case 268435456:o=La;break;default:o=Rs}return u=N_.bind(null,n),o=As(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Ss(u),n.callbackPriority=2,n.callbackNode=null,2}function N_(n,s){if(Je!==0&&Je!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(qh()&&n.callbackNode!==o)return null;var u=Bt;return u=za(n,n===se?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(m_(n,u,s),V_(n,zn()),n.callbackNode!=null&&n.callbackNode===o?N_.bind(null,n):null)}function M_(n,s){if(qh())return null;m_(n,s,!0)}function zT(){YT(function(){(Yt&6)!==0?As(bl,LT):C_()})}function ag(){return sa===0&&(sa=Sl()),sa}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ga(""+n)}function P_(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function BT(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=O_((f[Ie]||null).action),E=u.submitter;E&&(s=(s=E[Ie]||null)?O_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var b=new Qa("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(sa!==0){var R=E?P_(f,E):new FormData(f);Rm(o,{pending:!0,data:R,method:f.method,action:g},null,R)}}else typeof g=="function"&&(b.preventDefault(),R=E?P_(f,E):new FormData(f),Rm(o,{pending:!0,data:R,method:f.method,action:g},g,R))},currentTarget:f}]})}}for(var og=0;og<Gd.length;og++){var lg=Gd[og],UT=lg.toLowerCase(),jT=lg[0].toUpperCase()+lg.slice(1);nr(UT,"on"+jT)}nr(m0,"onAnimationEnd"),nr(g0,"onAnimationIteration"),nr(p0,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(iT,"onTransitionRun"),nr(sT,"onTransitionStart"),nr(aT,"onTransitionCancel"),nr(y0,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function k_(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],R=b.instance,F=b.currentTarget;if(b=b.listener,R!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=F;try{g(f)}catch(X){Vh(X)}f.currentTarget=null,g=R}else for(E=0;E<u.length;E++){if(b=u[E],R=b.instance,F=b.currentTarget,b=b.listener,R!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=F;try{g(f)}catch(X){Vh(X)}f.currentTarget=null,g=R}}}}function Mt(n,s){var o=s[Dl];o===void 0&&(o=s[Dl]=new Set);var u=n+"__bubble";o.has(u)||(L_(s,n,2,!1),o.add(u))}function ug(n,s,o){var u=0;s&&(u|=4),L_(o,n,u,s)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function cg(n){if(!n[Gh]){n[Gh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(qT.has(o)||ug(o,!1,n),ug(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Gh]||(s[Gh]=!0,ug("selectionchange",!1,s))}}function L_(n,s,o,u){switch(o2(s)){case 2:var f=g5;break;case 8:f=p5;break;default:f=Ag}o=f.bind(null,s,o,n),f=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function hg(n,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Br(b),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){u=g=E;continue t}b=b.parentNode}}u=u.return}Kc(function(){var F=g,X=jn(o),tt=[];t:{var H=_0.get(n);if(H!==void 0){var G=Qa,At=n;switch(n){case"keypress":if(pr(o)===0)break t;case"keydown":case"keyup":G=Ja;break;case"focusin":At="focus",G=$a;break;case"focusout":At="blur",G=$a;break;case"beforeblur":case"afterblur":G=$a;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=eh;break;case m0:case g0:case p0:G=Xa;break;case y0:G=rh;break;case"scroll":case"scrollend":G=Yc;break;case"wheel":G=Wa;break;case"copy":case"cut":case"paste":G=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ql;break;case"toggle":case"beforetoggle":G=sh}var bt=(s&4)!==0,ee=!bt&&(n==="scroll"||n==="scrollend"),P=bt?H!==null?H+"Capture":null:H;bt=[];for(var N=F,U;N!==null;){var Z=N;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||P===null||(Z=zs(N,P),Z!=null&&bt.push(vu(N,Z,U))),ee)break;N=N.return}0<bt.length&&(H=new G(H,At,null,o,X),tt.push({event:H,listeners:bt}))}}if((s&7)===0){t:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&o!==Fr&&(At=o.relatedTarget||o.fromElement)&&(Br(At)||At[Bn]))break t;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(At=o.relatedTarget||o.toElement,G=F,At=At?Br(At):null,At!==null&&(ee=l(At),bt=At.tag,At!==ee||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(G=null,At=F),G!==At)){if(bt=Fn,Z="onMouseLeave",P="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(bt=ql,Z="onPointerLeave",P="onPointerEnter",N="pointer"),ee=G==null?H:fr(G),U=At==null?H:fr(At),H=new bt(Z,N+"leave",G,o,X),H.target=ee,H.relatedTarget=U,Z=null,Br(X)===F&&(bt=new bt(P,N+"enter",At,o,X),bt.target=U,bt.relatedTarget=ee,Z=bt),ee=Z,G&&At)e:{for(bt=G,P=At,N=0,U=bt;U;U=So(U))N++;for(U=0,Z=P;Z;Z=So(Z))U++;for(;0<N-U;)bt=So(bt),N--;for(;0<U-N;)P=So(P),U--;for(;N--;){if(bt===P||P!==null&&bt===P.alternate)break e;bt=So(bt),P=So(P)}bt=null}else bt=null;G!==null&&z_(tt,H,G,bt,!1),At!==null&&ee!==null&&z_(tt,ee,At,bt,!0)}}t:{if(H=F?fr(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var mt=r0;else if(ke(H))if(i0)mt=eT;else{mt=W6;var Vt=J6}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Pl(F.elementType)&&(mt=r0):mt=tT;if(mt&&(mt=mt(n,F))){Yr(tt,mt,o,X);break t}Vt&&Vt(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Ri(H,"number",H.value)}switch(Vt=F?fr(F):window,n){case"focusin":(ke(Vt)||Vt.contentEditable==="true")&&(to=Vt,qd=F,Gl=null);break;case"focusout":Gl=qd=to=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,f0(tt,o,X);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":f0(tt,o,X)}var yt;if(vr)t:{switch(n){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Lt?Y(n,o)&&(wt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(wt="onCompositionStart");wt&&(v&&o.locale!=="ko"&&(Lt||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Lt&&(yt=Ll()):(gr=X,Ii="value"in gr?gr.value:gr.textContent,Lt=!0)),Vt=Qh(F,wt),0<Vt.length&&(wt=new Ul(wt,n,null,o,X),tt.push({event:wt,listeners:Vt}),yt?wt.data=yt:(yt=ot(o),yt!==null&&(wt.data=yt)))),(yt=y?Pe(n,o):zt(n,o))&&(wt=Qh(F,"onBeforeInput"),0<wt.length&&(Vt=new Ul("onBeforeInput","beforeinput",null,o,X),tt.push({event:Vt,listeners:wt}),Vt.data=yt)),BT(tt,n,F,o,X)}k_(tt,s)})}function vu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Qh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=zs(n,o),f!=null&&u.unshift(vu(n,f,g)),f=zs(n,s),f!=null&&u.push(vu(n,f,g))),n.tag===3)return u;n=n.return}return[]}function So(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z_(n,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var b=o,R=b.alternate,F=b.stateNode;if(b=b.tag,R!==null&&R===u)break;b!==5&&b!==26&&b!==27||F===null||(R=F,f?(F=zs(o,g),F!=null&&E.unshift(vu(o,F,R))):f||(F=zs(o,g),F!=null&&E.push(vu(o,F,R)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var FT=/\r\n?/g,HT=/\u0000|\uFFFD/g;function B_(n){return(typeof n=="string"?n:""+n).replace(FT,`
`).replace(HT,"")}function U_(n,s){return s=B_(s),B_(n)===s}function Kh(){}function te(n,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Un(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Un(n,""+u);break;case"className":dr(n,"class",u);break;case"tabIndex":dr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,o,u);break;case"style":Ol(n,u,g);break;case"data":if(s!=="object"){dr(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&te(n,s,"name",f.name,f,null),te(n,s,"formEncType",f.formEncType,f,null),te(n,s,"formMethod",f.formMethod,f,null),te(n,s,"formTarget",f.formTarget,f,null)):(te(n,s,"encType",f.encType,f,null),te(n,s,"method",f.method,f,null),te(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ga(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ga(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),Si(n,"popover",u);break;case"xlinkActuate":$e(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$e(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$e(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$e(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$e(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$e(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$e(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$e(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$e(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Si(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pd.get(o)||o,Si(n,o,u))}}function fg(n,s,o,u,f,g){switch(o){case"style":Ol(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Un(n,u):(typeof u=="number"||typeof u=="bigint")&&Un(n,""+u);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=n[Ie]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break t}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Si(n,o,u)}}}function We(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(n,s,g,E,o,null)}}f&&te(n,s,"srcSet",o.srcSet,o,null),u&&te(n,s,"src",o.src,o,null);return;case"input":Mt("invalid",n);var b=g=E=f=null,R=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":R=X;break;case"defaultChecked":F=X;break;case"value":g=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:te(n,s,u,X,o,null)}}Ps(n,g,b,R,F,E,f,!1),Ha(n);return;case"select":Mt("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:te(n,s,f,b,o,null)}s=g,o=E,n.multiple=!!u,s!=null?qr(n,!!u,s,!1):o!=null&&qr(n,!!u,o,!0);return;case"textarea":Mt("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:te(n,s,E,b,o,null)}ks(n,u,f,g),Ha(n);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(n,s,R,u,o,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(u=0;u<_u.length;u++)Mt(_u[u],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(n,s,F,u,o,null)}return;default:if(Pl(s)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&fg(n,s,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&te(n,s,b,u,o,null))}function GT(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,R=null,F=null,X=null;for(G in o){var tt=o[G];if(o.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=tt;default:u.hasOwnProperty(G)||te(n,s,G,null,u,tt)}}for(var H in u){var G=u[H];if(tt=o[H],u.hasOwnProperty(H)&&(G!=null||tt!=null))switch(H){case"type":g=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==tt&&te(n,s,H,G,u,tt)}}In(n,E,b,R,F,X,g,f);return;case"select":G=E=b=H=null;for(g in o)if(R=o[g],o.hasOwnProperty(g)&&R!=null)switch(g){case"value":break;case"multiple":G=R;default:u.hasOwnProperty(g)||te(n,s,g,null,u,R)}for(f in u)if(g=u[f],R=o[f],u.hasOwnProperty(f)&&(g!=null||R!=null))switch(f){case"value":H=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==R&&te(n,s,f,g,u,R)}s=b,o=E,u=G,H!=null?qr(n,!!o,H,!1):!!u!=!!o&&(s!=null?qr(n,!!o,s,!0):qr(n,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:te(n,s,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&te(n,s,E,f,u,g)}Jt(n,H,G);return;case"option":for(var At in o)if(H=o[At],o.hasOwnProperty(At)&&H!=null&&!u.hasOwnProperty(At))switch(At){case"selected":n.selected=!1;break;default:te(n,s,At,null,u,H)}for(R in u)if(H=u[R],G=o[R],u.hasOwnProperty(R)&&H!==G&&(H!=null||G!=null))switch(R){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:te(n,s,R,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!u.hasOwnProperty(bt)&&te(n,s,bt,null,u,H);for(F in u)if(H=u[F],G=o[F],u.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:te(n,s,F,H,u,G)}return;default:if(Pl(s)){for(var ee in o)H=o[ee],o.hasOwnProperty(ee)&&H!==void 0&&!u.hasOwnProperty(ee)&&fg(n,s,ee,void 0,u,H);for(X in u)H=u[X],G=o[X],!u.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||fg(n,s,X,H,u,G);return}}for(var P in o)H=o[P],o.hasOwnProperty(P)&&H!=null&&!u.hasOwnProperty(P)&&te(n,s,P,null,u,H);for(tt in u)H=u[tt],G=o[tt],!u.hasOwnProperty(tt)||H===G||H==null&&G==null||te(n,s,tt,H,u,G)}var dg=null,mg=null;function Yh(n){return n.nodeType===9?n:n.ownerDocument}function j_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function gg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pg=null;function QT(){var n=window.event;return n&&n.type==="popstate"?n===pg?!1:(pg=n,!0):(pg=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,YT=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(n){return H_.resolve(null).then(n).catch($T)}:F_;function $T(n){setTimeout(function(){throw n})}function Fi(n){return n==="head"}function G_(n,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Eu(E.documentElement),o&2&&Eu(E.body),o&4)for(o=E.head,Eu(o),E=o.firstChild;E;){var b=E.nextSibling,R=E.nodeName;E[Vs]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(g),xu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);xu(s)}function yg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yg(o),Ai(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function XT(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Vs])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ir(n.nextSibling),n===null)break}return null}function ZT(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ir(n.nextSibling),n===null))return null;return n}function _g(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function JT(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ir(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var vg=null;function Q_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function K_(n,s,o){switch(s=Yh(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Eu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ai(n)}var Xn=new Map,Y_=new Set;function $h(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=ut.d;ut.d={f:WT,r:t5,D:e5,C:n5,L:r5,m:i5,X:a5,S:s5,M:o5};function WT(){var n=oi.f(),s=Uh();return n||s}function t5(n){var s=hr(n);s!==null&&s.tag===5&&s.type==="form"?my(s):oi.r(n)}var Ro=typeof document>"u"?null:document;function $_(n,s,o){var u=Ro;if(u&&typeof s=="string"&&s){var f=xe(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Y_.has(f)||(Y_.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),We(s,"link",n),Te(s),u.head.appendChild(s)))}}function e5(n){oi.D(n),$_("dns-prefetch",n,null)}function n5(n,s){oi.C(n,s),$_("preconnect",n,s)}function r5(n,s,o){oi.L(n,s,o);var u=Ro;if(u&&n&&s){var f='link[rel="preload"][as="'+xe(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+xe(o.imageSizes)+'"]')):f+='[href="'+xe(n)+'"]';var g=f;switch(s){case"style":g=Io(n);break;case"script":g=xo(n)}Xn.has(g)||(n=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Xn.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Tu(g))||s==="script"&&u.querySelector(bu(g))||(s=u.createElement("link"),We(s,"link",n),Te(s),u.head.appendChild(s)))}}function i5(n,s){oi.m(n,s);var o=Ro;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+xe(u)+'"][href="'+xe(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(n)}if(!Xn.has(g)&&(n=_({rel:"modulepreload",href:n},s),Xn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bu(g)))return}u=o.createElement("link"),We(u,"link",n),Te(u),o.head.appendChild(u)}}}function s5(n,s,o){oi.S(n,s,o);var u=Ro;if(u&&n){var f=fn(u).hoistableStyles,g=Io(n);s=s||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Tu(g)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Xn.get(g))&&Eg(n,o);var R=E=u.createElement("link");Te(R),We(R,"link",n),R._p=new Promise(function(F,X){R.onload=F,R.onerror=X}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function a5(n,s){oi.X(n,s);var o=Ro;if(o&&n){var u=fn(o).hoistableScripts,f=xo(n),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(n=_({src:n,async:!0},s),(s=Xn.get(f))&&Tg(n,s),g=o.createElement("script"),Te(g),We(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function o5(n,s){oi.M(n,s);var o=Ro;if(o&&n){var u=fn(o).hoistableScripts,f=xo(n),g=u.get(f);g||(g=o.querySelector(bu(f)),g||(n=_({src:n,async:!0,type:"module"},s),(s=Xn.get(f))&&Tg(n,s),g=o.createElement("script"),Te(g),We(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function X_(n,s,o,u){var f=(f=St.current)?$h(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Io(o.href),o=fn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Io(o.href);var g=fn(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Tu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Xn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(n,o),g||l5(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=fn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Io(n){return'href="'+xe(n)+'"'}function Tu(n){return'link[rel="stylesheet"]['+n+"]"}function Z_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function l5(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),We(s,"link",o),Te(s),n.head.appendChild(s))}function xo(n){return'[src="'+xe(n)+'"]'}function bu(n){return"script[async]"+n}function J_(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+xe(o.href)+'"]');if(u)return s.instance=u,Te(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Te(u),We(u,"style",f),Xh(u,o.precedence,n),s.instance=u;case"stylesheet":f=Io(o.href);var g=n.querySelector(Tu(f));if(g)return s.state.loading|=4,s.instance=g,Te(g),g;u=Z_(o),(f=Xn.get(f))&&Eg(u,f),g=(n.ownerDocument||n).createElement("link"),Te(g);var E=g;return E._p=new Promise(function(b,R){E.onload=b,E.onerror=R}),We(g,"link",u),s.state.loading|=4,Xh(g,o.precedence,n),s.instance=g;case"script":return g=xo(o.src),(f=n.querySelector(bu(g)))?(s.instance=f,Te(f),f):(u=o,(f=Xn.get(g))&&(u=_({},o),Tg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Te(f),We(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xh(u,o.precedence,n));return s.instance}function Xh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Eg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Tg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Zh=null;function W_(n,s,o){if(Zh===null){var u=new Map,f=Zh=new Map;f.set(o,u)}else f=Zh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Vs]||g[Oe]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=n+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function t2(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function u5(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function e2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var wu=null;function c5(){}function h5(n,s,o){if(wu===null)throw Error(r(475));var u=wu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Io(o.href),g=n.querySelector(Tu(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Jh.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,Te(g);return}g=n.ownerDocument||n,o=Z_(o),(f=Xn.get(f))&&Eg(o,f),g=g.createElement("link"),Te(g);var E=g;E._p=new Promise(function(b,R){E.onload=b,E.onerror=R}),We(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Jh.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function f5(){if(wu===null)throw Error(r(475));var n=wu;return n.stylesheets&&n.count===0&&bg(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&bg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wh=null;function bg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wh=new Map,s.forEach(d5,n),Wh=null,Jh.call(n))}function d5(n,s){if(!(s.state.loading&4)){var o=Wh.get(n);if(o)var u=o.get(null);else{o=new Map,Wh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Au={$$typeof:it,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function m5(n,s,o,u,f,g,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function n2(n,s,o,u,f,g,E,b,R,F,X,tt){return n=new m5(n,s,o,E,b,R,F,tt),s=1,g===!0&&(s|=24),g=Dn(3,null,null,s),n.current=g,g.stateNode=n,s=rm(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},om(g),n}function r2(n){return n?(n=io,n):io}function i2(n,s,o,u,f,g){f=r2(f),u.context===null?u.context=f:u.pendingContext=f,u=Ci(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Vi(n,u,s),o!==null&&(On(o,n,s),tu(o,n,s))}function s2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function wg(n,s){s2(n,s),(n=n.alternate)&&s2(n,s)}function a2(n){if(n.tag===13){var s=ro(n,67108864);s!==null&&On(s,n,67108864),wg(n,67108864)}}var tf=!0;function g5(n,s,o,u){var f=$.T;$.T=null;var g=ut.p;try{ut.p=2,Ag(n,s,o,u)}finally{ut.p=g,$.T=f}}function p5(n,s,o,u){var f=$.T;$.T=null;var g=ut.p;try{ut.p=8,Ag(n,s,o,u)}finally{ut.p=g,$.T=f}}function Ag(n,s,o,u){if(tf){var f=Sg(u);if(f===null)hg(n,s,u,ef,o),l2(n,u);else if(_5(f,n,s,o,u))u.stopPropagation();else if(l2(n,u),s&4&&-1<y5.indexOf(n)){for(;f!==null;){var g=hr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Wn(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var R=1<<31-rn(E);b.entanglements[1]|=R,E&=~R}Sr(g),(Yt&6)===0&&(zh=zn()+500,yu(0))}}break;case 13:b=ro(g,2),b!==null&&On(b,g,2),Uh(),wg(g,2)}if(g=Sg(u),g===null&&hg(n,s,u,ef,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else hg(n,s,u,null,o)}}function Sg(n){return n=jn(n),Rg(n)}var ef=null;function Rg(n){if(ef=null,n=Br(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ef=n,null}function o2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dd()){case bl:return 2;case ka:return 8;case Rs:case Cd:return 32;case La:return 268435456;default:return 32}default:return 32}}var Ig=!1,Hi=null,Gi=null,Qi=null,Su=new Map,Ru=new Map,Ki=[],y5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l2(n,s){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(s.pointerId)}}function Iu(n,s,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=hr(s),s!==null&&a2(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function _5(n,s,o,u,f){switch(s){case"focusin":return Hi=Iu(Hi,n,s,o,u,f),!0;case"dragenter":return Gi=Iu(Gi,n,s,o,u,f),!0;case"mouseover":return Qi=Iu(Qi,n,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Su.set(g,Iu(Su.get(g)||null,n,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Ru.set(g,Iu(Ru.get(g)||null,n,s,o,u,f)),!0}return!1}function u2(n){var s=Br(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Uc(n.priority,function(){if(o.tag===13){var u=Mn();u=Ti(u);var f=ro(o,u);f!==null&&On(f,o,u),wg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Sg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Fr=u,o.target.dispatchEvent(u),Fr=null}else return s=hr(o),s!==null&&a2(s),n.blockedOn=o,!1;s.shift()}return!0}function c2(n,s,o){nf(n)&&o.delete(s)}function v5(){Ig=!1,Hi!==null&&nf(Hi)&&(Hi=null),Gi!==null&&nf(Gi)&&(Gi=null),Qi!==null&&nf(Qi)&&(Qi=null),Su.forEach(c2),Ru.forEach(c2)}function rf(n,s){n.blockedOn===s&&(n.blockedOn=null,Ig||(Ig=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,v5)))}var sf=null;function h2(n){sf!==n&&(sf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sf===n&&(sf=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Rg(u||o)===null)continue;break}var g=hr(o);g!==null&&(n.splice(s,3),s-=3,Rm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function xu(n){function s(R){return rf(R,n)}Hi!==null&&rf(Hi,n),Gi!==null&&rf(Gi,n),Qi!==null&&rf(Qi,n),Su.forEach(s),Ru.forEach(s);for(var o=0;o<Ki.length;o++){var u=Ki[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ki.length&&(o=Ki[0],o.blockedOn===null);)u2(o),o.blockedOn===null&&Ki.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Ie]||null;if(typeof g=="function")E||h2(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Ie]||null)b=E.formAction;else if(Rg(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),h2(o)}}}function xg(n){this._internalRoot=n}af.prototype.render=xg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Mn();i2(o,u,n,s,null,null)},af.prototype.unmount=xg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;i2(n.current,2,null,n,null,null),Uh(),s[Bn]=null}};function af(n){this._internalRoot=n}af.prototype.unstable_scheduleHydration=function(n){if(n){var s=bi();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Ki.length&&s!==0&&s<Ki[o].priority;o++);Ki.splice(o,0,n),o===0&&u2(n)}};var f2=t.version;if(f2!=="19.1.1")throw Error(r(527,f2,"19.1.1"));ut.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var E5={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{ye=of.inject(E5),Kt=of}catch{}}return Cu.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=xy,g=Dy,E=Cy,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=n2(n,1,!1,null,null,o,u,f,g,E,b,null),n[Bn]=s.current,cg(n),new xg(s)},Cu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=xy,E=Dy,b=Cy,R=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=n2(n,1,!0,s,o??null,u,f,g,E,b,R,F),s.context=r2(null),o=s.current,u=Mn(),u=Ti(u),f=Ci(u),f.callback=null,Vi(o,f,u),o=u,s.current.lanes=o,zr(s,o),Sr(s),n[Bn]=s.current,cg(n),new af(s)},Cu.version="19.1.1",Cu}var b2;function C5(){if(b2)return Vg.exports;b2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vg.exports=D5(),Vg.exports}var V5=C5();const N5=_4(V5);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w2="popstate";function M5(i={}){function t(a,l){let{pathname:c="/",search:d="",hash:m=""}=Ca(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:Ju(l))}function r(a,l){lr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return P5(t,e,r,i)}function ge(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function lr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function O5(){return Math.random().toString(36).substring(2,10)}function A2(i,t){return{usr:i.state,key:i.key,idx:t}}function Zg(i,t,e=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ca(t):t,state:e,key:t&&t.key||r||O5()}}function Ju({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Ca(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let r=i.indexOf("?");r>=0&&(t.search=i.substring(r),i=i.substring(0,r)),i&&(t.pathname=i)}return t}function P5(i,t,e,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let q=_(),st=q==null?null:q-p;p=q,m&&m({action:d,location:K.location,delta:st})}function w(q,st){d="PUSH";let W=Zg(K.location,q,st);e&&e(W,q),p=_()+1;let it=A2(W,p),vt=K.createHref(W);try{c.pushState(it,"",vt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;a.location.assign(vt)}l&&m&&m({action:d,location:K.location,delta:1})}function D(q,st){d="REPLACE";let W=Zg(K.location,q,st);e&&e(W,q),p=_();let it=A2(W,p),vt=K.createHref(W);c.replaceState(it,"",vt),l&&m&&m({action:d,location:K.location,delta:0})}function j(q){return k5(q)}let K={get action(){return d},get location(){return i(a,c)},listen(q){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(w2,T),m=q,()=>{a.removeEventListener(w2,T),m=null}},createHref(q){return t(a,q)},createURL:j,encodeLocation(q){let st=j(q);return{pathname:st.pathname,search:st.search,hash:st.hash}},push:w,replace:D,go(q){return c.go(q)}};return K}function k5(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ge(e,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Ju(i);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function v4(i,t,e="/"){return L5(i,t,e,!1)}function L5(i,t,e,r){let a=typeof t=="string"?Ca(t):t,l=hi(a.pathname||"/",e);if(l==null)return null;let c=E4(i);z5(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=$5(l);d=K5(c[m],p,r)}return d}function E4(i,t=[],e=[],r="",a=!1){let l=(c,d,m=a,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&m)return;ge(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=ui([r,_.relativePath]),w=e.concat(_);c.children&&c.children.length>0&&(ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),E4(c.children,t,w,T,m)),!(c.path==null&&!c.index)&&t.push({path:T,score:G5(T,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of T4(c.path))l(c,d,!0,m)}),t}function T4(i){let t=i.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=T4(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function z5(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:Q5(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var B5=/^:[\w-]+$/,U5=3,j5=2,q5=1,F5=10,H5=-2,S2=i=>i==="*";function G5(i,t){let e=i.split("/"),r=e.length;return e.some(S2)&&(r+=H5),t&&(r+=j5),e.filter(a=>!S2(a)).reduce((a,l)=>a+(B5.test(l)?U5:l===""?q5:F5),r)}function Q5(i,t){return i.length===t.length&&i.slice(0,-1).every((r,a)=>r===t[a])?i[i.length-1]-t[t.length-1]:0}function K5(i,t,e=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,_=l==="/"?t:t.slice(l.length)||"/",T=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),w=m.route;if(!T&&p&&e&&!r[r.length-1].route.index&&(T=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ui([l,T.pathname]),pathnameBase:W5(ui([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=ui([l,T.pathnameBase]))}return c}function Df(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,r]=Y5(i.path,i.caseSensitive,i.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:T},w)=>{if(_==="*"){let j=d[w]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const D=d[w];return T&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:i}}function Y5(i,t=!1,e=!0){lr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function $5(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function hi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=i.charAt(e);return r&&r!=="/"?null:i.slice(e)||"/"}function X5(i,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof i=="string"?Ca(i):i;return{pathname:e?e.startsWith("/")?e:Z5(e,t):t,search:tb(r),hash:eb(a)}}function Z5(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Pg(i,t,e,r){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J5(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function b4(i){let t=J5(i);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function w4(i,t,e,r=!1){let a;typeof i=="string"?a=Ca(i):(a={...i},ge(!a.pathname||!a.pathname.includes("?"),Pg("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),Pg("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),Pg("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?t[T]:"/"}let m=X5(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ui=i=>i.join("/").replace(/\/\/+/g,"/"),W5=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var A4=["POST","PUT","PATCH","DELETE"];new Set(A4);var rb=["GET",...A4];new Set(rb);var fl=J.createContext(null);fl.displayName="DataRouter";var td=J.createContext(null);td.displayName="DataRouterState";J.createContext(!1);var S4=J.createContext({isTransitioning:!1});S4.displayName="ViewTransition";var ib=J.createContext(new Map);ib.displayName="Fetchers";var sb=J.createContext(null);sb.displayName="Await";var Pr=J.createContext(null);Pr.displayName="Navigation";var vc=J.createContext(null);vc.displayName="Location";var gi=J.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Mp=J.createContext(null);Mp.displayName="RouteError";function ab(i,{relative:t}={}){ge(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=J.useContext(Pr),{hash:a,pathname:l,search:c}=Tc(i,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ui([e,l])),r.createHref({pathname:d,search:c,hash:a})}function Ec(){return J.useContext(vc)!=null}function ys(){return ge(Ec(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(vc).location}var R4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I4(i){J.useContext(Pr).static||J.useLayoutEffect(i)}function x4(){let{isDataRoute:i}=J.useContext(gi);return i?vb():ob()}function ob(){ge(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let i=J.useContext(fl),{basename:t,navigator:e}=J.useContext(Pr),{matches:r}=J.useContext(gi),{pathname:a}=ys(),l=JSON.stringify(b4(r)),c=J.useRef(!1);return I4(()=>{c.current=!0}),J.useCallback((m,p={})=>{if(lr(c.current,R4),!c.current)return;if(typeof m=="number"){e.go(m);return}let _=w4(m,JSON.parse(l),a,p.relative==="path");i==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:ui([t,_.pathname])),(p.replace?e.replace:e.push)(_,p.state,p)},[t,e,l,a,i])}J.createContext(null);function Tc(i,{relative:t}={}){let{matches:e}=J.useContext(gi),{pathname:r}=ys(),a=JSON.stringify(b4(e));return J.useMemo(()=>w4(i,JSON.parse(a),r,t==="path"),[i,a,r,t])}function lb(i,t){return D4(i,t)}function D4(i,t,e,r,a){ge(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=J.useContext(Pr),{matches:c}=J.useContext(gi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let W=T&&T.path||"";C4(p,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=ys(),D;if(t){let W=typeof t=="string"?Ca(t):t;ge(_==="/"||W.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),D=W}else D=w;let j=D.pathname||"/",K=j;if(_!=="/"){let W=_.replace(/^\//,"").split("/");K="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let q=v4(i,{pathname:K});lr(T||q!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),lr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let st=db(q&&q.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:ui([_,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:ui([_,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,e,r,a);return t&&st?J.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},st):st}function ub(){let i=_b(),t=nb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=J.createElement(J.Fragment,null,J.createElement("p",null,"💿 Hey developer 👋"),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),e?J.createElement("pre",{style:a},e):null,c)}var cb=J.createElement(ub,null),hb=class extends J.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?J.createElement(gi.Provider,{value:this.props.routeContext},J.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fb({routeContext:i,match:t,children:e}){let r=J.useContext(fl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(gi.Provider,{value:i},e)}function db(i,t=[],e=null,r=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let l=i,c=e?.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);ge(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(e)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:w}=e,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,T)=>{let w,D=!1,j=null,K=null;e&&(w=c&&_.route.id?c[_.route.id]:void 0,j=_.route.errorElement||cb,d&&(m<0&&T===0?(C4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,K=null):m===T&&(D=!0,K=_.route.hydrateFallbackElement||null)));let q=t.concat(l.slice(0,T+1)),st=()=>{let W;return w?W=j:D?W=K:_.route.Component?W=J.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=p,J.createElement(fb,{match:_,routeContext:{outlet:p,matches:q,isDataRoute:e!=null},children:W})};return e&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?J.createElement(hb,{location:e.location,revalidation:e.revalidation,component:j,error:w,children:st(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:r}):st()},null)}function Op(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(i){let t=J.useContext(fl);return ge(t,Op(i)),t}function gb(i){let t=J.useContext(td);return ge(t,Op(i)),t}function pb(i){let t=J.useContext(gi);return ge(t,Op(i)),t}function Pp(i){let t=pb(i),e=t.matches[t.matches.length-1];return ge(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function yb(){return Pp("useRouteId")}function _b(){let i=J.useContext(Mp),t=gb("useRouteError"),e=Pp("useRouteError");return i!==void 0?i:t.errors?.[e]}function vb(){let{router:i}=mb("useNavigate"),t=Pp("useNavigate"),e=J.useRef(!1);return I4(()=>{e.current=!0}),J.useCallback(async(a,l={})=>{lr(e.current,R4),e.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:t,...l}))},[i,t])}var R2={};function C4(i,t,e){!t&&!R2[i]&&(R2[i]=!0,lr(!1,e))}J.memo(Eb);function Eb({routes:i,future:t,state:e,unstable_onError:r}){return D4(i,void 0,e,r,t)}function oa(i){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tb({basename:i="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:l=!1}){ge(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=J.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof e=="string"&&(e=Ca(e));let{pathname:m="/",search:p="",hash:_="",state:T=null,key:w="default"}=e,D=J.useMemo(()=>{let j=hi(m,c);return j==null?null:{location:{pathname:j,search:p,hash:_,state:T,key:w},navigationType:r}},[c,m,p,_,T,w,r]);return lr(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:J.createElement(Pr.Provider,{value:d},J.createElement(vc.Provider,{children:t,value:D}))}function bb({children:i,location:t}){return lb(Jg(i),t)}function Jg(i,t=[]){let e=[];return J.Children.forEach(i,(r,a)=>{if(!J.isValidElement(r))return;let l=[...t,a];if(r.type===J.Fragment){e.push.apply(e,Jg(r.props.children,l));return}ge(r.type===oa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Jg(r.props.children,l)),e.push(c)}),e}var pf="get",yf="application/x-www-form-urlencoded";function ed(i){return i!=null&&typeof i.tagName=="string"}function wb(i){return ed(i)&&i.tagName.toLowerCase()==="button"}function Ab(i){return ed(i)&&i.tagName.toLowerCase()==="form"}function Sb(i){return ed(i)&&i.tagName.toLowerCase()==="input"}function Rb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ib(i,t){return i.button===0&&(!t||t==="_self")&&!Rb(i)}var lf=null;function xb(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var Db=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(i){return i!=null&&!Db.has(i)?(lr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):i}function Cb(i,t){let e,r,a,l,c;if(Ab(i)){let d=i.getAttribute("action");r=d?hi(d,t):null,e=i.getAttribute("method")||pf,a=kg(i.getAttribute("enctype"))||yf,l=new FormData(i)}else if(wb(i)||Sb(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(r=m?hi(m,t):null,e=i.getAttribute("formmethod")||d.getAttribute("method")||pf,a=kg(i.getAttribute("formenctype"))||kg(d.getAttribute("enctype"))||yf,l=new FormData(d,i),!xb()){let{name:p,type:_,value:T}=i;if(_==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if(ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=pf,r=null,a=yf,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Vb(i,t,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&hi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function Nb(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mb(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ob(i,t,e){let r=await Promise.all(i.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await Nb(l,e);return c.links?c.links():[]}return[]}));return zb(r.flat(1).filter(Mb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I2(i,t,e,r,a,l){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,d=(m,p)=>e[p].pathname!==m.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Pb(i,t,{includeHydrateFallback:e}={}){return kb(i.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function kb(i){return[...new Set(i)]}function Lb(i){let t={},e=Object.keys(i).sort();for(let r of e)t[r]=i[r];return t}function zb(i,t){let e=new Set;return new Set(t),i.reduce((r,a)=>{let l=JSON.stringify(Lb(a));return e.has(l)||(e.add(l),r.push({key:l,link:a})),r},[])}function V4(){let i=J.useContext(fl);return kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Bb(){let i=J.useContext(td);return kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Lp=J.createContext(void 0);Lp.displayName="FrameworkContext";function N4(){let i=J.useContext(Lp);return kp(i,"You must render this element inside a <HydratedRouter> element"),i}function Ub(i,t){let e=J.useContext(Lp),[r,a]=J.useState(!1),[l,c]=J.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=t,w=J.useRef(null);J.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let K=st=>{st.forEach(W=>{c(W.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[i]),J.useEffect(()=>{if(r){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[r]);let D=()=>{a(!0)},j=()=>{a(!1),c(!1)};return e?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Vu(d,D),onBlur:Vu(m,j),onMouseEnter:Vu(p,D),onMouseLeave:Vu(_,j),onTouchStart:Vu(T,D)}]:[!1,w,{}]}function Vu(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function jb({page:i,...t}){let{router:e}=V4(),r=J.useMemo(()=>v4(e.routes,i,e.basename),[e.routes,i,e.basename]);return r?J.createElement(Fb,{page:i,matches:r,...t}):null}function qb(i){let{manifest:t,routeModules:e}=N4(),[r,a]=J.useState([]);return J.useEffect(()=>{let l=!1;return Ob(i,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[i,t,e]),r}function Fb({page:i,matches:t,...e}){let r=ys(),{manifest:a,routeModules:l}=N4(),{basename:c}=V4(),{loaderData:d,matches:m}=Bb(),p=J.useMemo(()=>I2(i,t,m,a,r,"data"),[i,t,m,a,r]),_=J.useMemo(()=>I2(i,t,m,a,r,"assets"),[i,t,m,a,r]),T=J.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let j=new Set,K=!1;if(t.forEach(st=>{let W=a.routes[st.route.id];!W||!W.hasLoader||(!p.some(it=>it.route.id===st.route.id)&&st.route.id in d&&l[st.route.id]?.shouldRevalidate||W.hasClientLoader?K=!0:j.add(st.route.id))}),j.size===0)return[];let q=Vb(i,c,"data");return K&&j.size>0&&q.searchParams.set("_routes",t.filter(st=>j.has(st.route.id)).map(st=>st.route.id).join(",")),[q.pathname+q.search]},[c,d,r,a,p,t,i,l]),w=J.useMemo(()=>Pb(_,a),[_,a]),D=qb(_);return J.createElement(J.Fragment,null,T.map(j=>J.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...e})),w.map(j=>J.createElement("link",{key:j,rel:"modulepreload",href:j,...e})),D.map(({key:j,link:K})=>J.createElement("link",{key:j,nonce:e.nonce,...K})))}function Hb(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var M4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M4&&(window.__reactRouterVersion="7.8.2")}catch{}function Gb({basename:i,children:t,window:e}){let r=J.useRef();r.current==null&&(r.current=M5({window:e,v5Compat:!0}));let a=r.current,[l,c]=J.useState({action:a.action,location:a.location}),d=J.useCallback(m=>{J.startTransition(()=>c(m))},[c]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.createElement(Tb,{basename:i,children:t,location:l.location,navigationType:l.action,navigator:a})}var O4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cf=J.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:T,...w},D){let{basename:j}=J.useContext(Pr),K=typeof p=="string"&&O4.test(p),q,st=!1;if(typeof p=="string"&&K&&(q=p,M4))try{let I=new URL(window.location.href),M=p.startsWith("//")?new URL(I.protocol+p):new URL(p),O=hi(M.pathname,j);M.origin===I.origin&&O!=null?p=O+M.search+M.hash:st=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ab(p,{relative:a}),[it,vt,ft]=Ub(r,w),Tt=$b(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:T});function V(I){t&&t(I),I.defaultPrevented||Tt(I)}let S=J.createElement("a",{...w,...ft,href:q||W,onClick:st||l?t:V,ref:Hb(D,vt),target:m,"data-discover":!K&&e==="render"?"true":void 0});return it&&!K?J.createElement(J.Fragment,null,S,J.createElement(jb,{page:W})):S});Cf.displayName="Link";var Qb=J.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let T=Tc(c,{relative:p.relative}),w=ys(),D=J.useContext(td),{navigator:j,basename:K}=J.useContext(Pr),q=D!=null&&tw(T)&&d===!0,st=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,W=w.pathname,it=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;e||(W=W.toLowerCase(),it=it?it.toLowerCase():null,st=st.toLowerCase()),it&&K&&(it=hi(it,K)||it);const vt=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let ft=W===st||!a&&W.startsWith(st)&&W.charAt(vt)==="/",Tt=it!=null&&(it===st||!a&&it.startsWith(st)&&it.charAt(st.length)==="/"),V={isActive:ft,isPending:Tt,isTransitioning:q},S=ft?t:void 0,I;typeof r=="function"?I=r(V):I=[r,ft?"active":null,Tt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(V):l;return J.createElement(Cf,{...p,"aria-current":S,className:I,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(V):m)});Qb.displayName="NavLink";var Kb=J.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:l,method:c=pf,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,...w},D)=>{let j=Jb(),K=Wb(d,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",st=typeof d=="string"&&O4.test(d),W=it=>{if(m&&m(it),it.defaultPrevented)return;it.preventDefault();let vt=it.nativeEvent.submitter,ft=vt?.getAttribute("formmethod")||c;j(vt||it.currentTarget,{fetcherKey:t,method:ft,navigate:e,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return J.createElement("form",{ref:D,method:q,action:K,onSubmit:r?m:W,...w,"data-discover":!st&&i==="render"?"true":void 0})});Kb.displayName="Form";function Yb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P4(i){let t=J.useContext(fl);return ge(t,Yb(i)),t}function $b(i,{target:t,replace:e,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=x4(),m=ys(),p=Tc(i,{relative:l});return J.useCallback(_=>{if(Ib(_,t)){_.preventDefault();let T=e!==void 0?e:Ju(m)===Ju(p);d(i,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,e,r,t,i,a,l,c])}var Xb=0,Zb=()=>`__${String(++Xb)}__`;function Jb(){let{router:i}=P4("useSubmit"),{basename:t}=J.useContext(Pr),e=yb();return J.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=Cb(r,t);if(a.navigate===!1){let _=a.fetcherKey||Zb();await i.fetch(_,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,t,e])}function Wb(i,{relative:t}={}){let{basename:e}=J.useContext(Pr),r=J.useContext(gi);ge(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Tc(i||".",{relative:t})},c=ys();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ui([e,l.pathname])),Ju(l)}function tw(i,{relative:t}={}){let e=J.useContext(S4);ge(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=P4("useViewTransitionState"),a=Tc(i,{relative:t});if(!e.isTransitioning)return!1;let l=hi(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=hi(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Df(a.pathname,c)!=null||Df(a.pathname,l)!=null}const ew=()=>{const[i,t]=J.useState(!1),e=ys(),r=[{title:"Home",path:"/"},{title:"Certifications",path:"/certifications"},{title:"About",path:"/about"},{title:"Contacts",path:"/contact"},{title:"Projects",path:"/projects"}];return J.useEffect(()=>{const a=l=>{const c=l.target;!c.closest(".menu-btn")&&!c.closest(".mobile-menu")&&t(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),J.useEffect(()=>{document.body.style.overflow=i?"hidden":"auto"},[i]),L.jsxs("header",{className:"fixed top-0 left-0 w-full z-50",children:[L.jsx("div",{className:"w-full bg-gray-900/95 backdrop-blur-sm shadow-md",children:L.jsxs("nav",{className:"max-w-screen-xl mx-auto px-4 md:px-8 flex items-center justify-between py-4",children:[L.jsx("div",{className:"flex items-center gap-3",children:L.jsx("h1",{className:"text-xl font-bold tracking-wide text-white",children:"The Cantina"})}),L.jsxs("ul",{className:"hidden md:flex gap-8 items-center",children:[r.map((a,l)=>L.jsx("li",{children:L.jsx(Cf,{to:a.path,className:`text-white font-medium hover:text-sky-400 transition-colors duration-200 ${e.pathname===a.path?"text-sky-400":""}`,children:a.title})},l)),L.jsx("li",{children:L.jsx("a",{href:"/CV.pdf",download:!0,className:"bg-sky-400 text-white px-4 py-2 rounded-md font-medium hover:bg-sky-500 transition-colors duration-200",children:"Download CV"})})]}),L.jsxs("button",{className:"md:hidden menu-btn relative w-10 h-10 flex flex-col justify-center items-center gap-1.5 focus:outline-none z-50","aria-label":"Toggle menu",onClick:()=>t(!i),children:[L.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"rotate-45 translate-y-2":""}`}),L.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`}),L.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"-rotate-45 -translate-y-2":""}`})]})]})}),L.jsxs("div",{className:`mobile-menu md:hidden fixed inset-0 z-50 flex flex-col transform transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full"}`,style:{background:"linear-gradient(to bottom, rgba(30, 41, 59, 0.95), rgba(30, 41, 59, 0.9))"},children:[L.jsx("div",{className:"flex justify-end p-6",children:L.jsx("button",{className:"text-white text-3xl font-bold focus:outline-none","aria-label":"Close menu",onClick:()=>t(!1),children:"✖"})}),L.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-8 text-2xl",children:[r.map((a,l)=>L.jsx(Cf,{to:a.path,className:`text-white hover:text-sky-400 transition-colors duration-200 ${e.pathname===a.path?"text-sky-400 font-bold":""}`,onClick:()=>t(!1),children:a.title},l)),L.jsx("a",{href:"/CV.pdf",download:!0,className:"bg-sky-400 text-white px-6 py-3 rounded-md font-medium hover:bg-sky-500 transition-colors duration-200",onClick:()=>t(!1),children:"Download CV"})]})]})]})};var k4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x2=ns.createContext&&ns.createContext(k4),nw=["attr","size","title"];function rw(i,t){if(i==null)return{};var e=iw(i,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(e[r]=i[r])}return e}function iw(i,t){if(i==null)return{};var e={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(t.indexOf(r)>=0)continue;e[r]=i[r]}return e}function Vf(){return Vf=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r])}return i},Vf.apply(this,arguments)}function D2(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),e.push.apply(e,r)}return e}function Nf(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(e),!0).forEach(function(r){sw(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):D2(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function sw(i,t,e){return t=aw(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function aw(i){var t=ow(i,"string");return typeof t=="symbol"?t:t+""}function ow(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function L4(i){return i&&i.map((t,e)=>ns.createElement(t.tag,Nf({key:e},t.attr),L4(t.child)))}function re(i){return t=>ns.createElement(lw,Vf({attr:Nf({},i.attr)},t),L4(i.child))}function lw(i){var t=e=>{var{attr:r,size:a,title:l}=i,c=rw(i,nw),d=a||e.size||"1em",m;return e.className&&(m=e.className),i.className&&(m=(m?m+" ":"")+i.className),ns.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,c,{className:m,style:Nf(Nf({color:i.color||e.color},e.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ns.createElement("title",null,l),i.children)};return x2!==void 0?ns.createElement(x2.Consumer,null,e=>t(e)):t(k4)}function uw(i){return re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M185.7 268.1h76.2l-38.1-91.6-38.1 91.6zM223.8 32L16 106.4l31.8 275.7 176 97.9 176-97.9 31.8-275.7zM354 373.8h-48.6l-26.2-65.4H168.6l-26.2 65.4H93.7L223.8 81.5z"},child:[]}]})(i)}function cw(i){return re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"},child:[]}]})(i)}function qo(i){return re({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function hw(i){return re({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(i)}function fw(i){return re({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(i)}function z4(i){return re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function dw(i){return re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"},child:[]}]})(i)}function mw(i){return re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(i)}function gw(i){return re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(i)}function B4(i){return re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function pw(i){return re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(i)}function yw(i){return re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function _w(i){return re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function vw(i){return re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function Ew(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726a17.617 17.617 0 01-10.951-.577 17.88 17.88 0 01-5.43-3.35c-.1-.074-.151-.15-.151-.22 0-.047.021-.09.051-.13zm6.565-6.218c0-1.005.247-1.863.743-2.577.495-.71 1.17-1.25 2.04-1.615.796-.335 1.756-.575 2.912-.72.39-.046 1.033-.103 1.92-.174v-.37c0-.93-.105-1.558-.3-1.875-.302-.43-.78-.65-1.44-.65h-.182c-.48.046-.896.196-1.246.46-.35.27-.575.63-.675 1.096-.06.3-.206.465-.435.51l-2.52-.315c-.248-.06-.372-.18-.372-.39 0-.046.007-.09.022-.15.247-1.29.855-2.25 1.82-2.88.976-.616 2.1-.975 3.39-1.05h.54c1.65 0 2.957.434 3.888 1.29.135.15.27.3.405.48.12.165.224.314.283.45.075.134.15.33.195.57.06.254.105.42.135.51.03.104.062.3.076.615.01.313.02.493.02.553v5.28c0 .376.06.72.165 1.036.105.313.21.54.315.674l.51.674c.09.136.136.256.136.36 0 .12-.06.226-.18.314-1.2 1.05-1.86 1.62-1.963 1.71-.165.135-.375.15-.63.045a6.062 6.062 0 01-.526-.496l-.31-.347a9.391 9.391 0 01-.317-.42l-.3-.435c-.81.886-1.603 1.44-2.4 1.665-.494.15-1.093.227-1.83.227-1.11 0-2.04-.343-2.76-1.034-.72-.69-1.08-1.665-1.08-2.94l-.05-.076zm3.753-.438c0 .566.14 1.02.425 1.364.285.34.675.512 1.155.512.045 0 .106-.007.195-.02.09-.016.134-.023.166-.023.614-.16 1.08-.553 1.424-1.178.165-.28.285-.58.36-.91.09-.32.12-.59.135-.8.015-.195.015-.54.015-1.005v-.54c-.84 0-1.484.06-1.92.18-1.275.36-1.92 1.17-1.92 2.43l-.035-.02zm9.162 7.027c.03-.06.075-.11.132-.17.362-.243.714-.41 1.05-.5a8.094 8.094 0 011.612-.24c.14-.012.28 0 .41.03.65.06 1.05.168 1.172.33.063.09.099.228.099.39v.15c0 .51-.149 1.11-.424 1.8-.278.69-.664 1.248-1.156 1.68-.073.06-.14.09-.197.09-.03 0-.06 0-.09-.012-.09-.044-.107-.12-.064-.24.54-1.26.806-2.143.806-2.64 0-.15-.03-.27-.087-.344-.145-.166-.55-.257-1.224-.257-.243 0-.533.016-.87.046-.363.045-.7.09-1 .135-.09 0-.148-.014-.18-.044-.03-.03-.036-.047-.02-.077 0-.017.006-.03.02-.063v-.06z"},child:[]}]})(i)}function Tw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(i)}function bw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.146 0h3.924v18.166c-2.013.382-3.491.535-5.096.535-4.791 0-7.288-2.166-7.288-6.32 0-4.002 2.65-6.6 6.753-6.6.637 0 1.121.05 1.707.203zm0 9.143a3.894 3.894 0 00-1.325-.204c-1.988 0-3.134 1.223-3.134 3.365 0 2.09 1.096 3.236 3.109 3.236.433 0 .79-.025 1.35-.102V9.142zM21.314 6.06v9.098c0 3.134-.229 4.638-.917 5.937-.637 1.249-1.478 2.039-3.211 2.905l-3.644-1.733c1.733-.815 2.574-1.53 3.109-2.625.561-1.121.739-2.421.739-5.835V6.059h3.924zM17.39.021h3.924v4.026H17.39z"},child:[]}]})(i)}function ww(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 8.77h-2.468v7.565h-1.425V8.77h-2.462V7.53H24zm-6.852 7.565h-4.821V7.53h4.63v1.24h-3.205v2.494h2.953v1.234h-2.953v2.604h3.396zm-6.708 0H8.882L4.78 9.863a2.896 2.896 0 0 1-.258-.51h-.036c.032.189.048.592.048 1.21v5.772H3.157V7.53h1.659l3.965 6.32c.167.261.275.442.323.54h.024c-.04-.233-.06-.629-.06-1.185V7.529h1.372zm-8.703-.693a.868.829 0 0 1-.869.829.868.829 0 0 1-.868-.83.868.829 0 0 1 .868-.828.868.829 0 0 1 .869.829Z"},child:[]}]})(i)}function Aw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(i)}function Sw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.455 8.369c-.538-.748-1.778-2.285-3.681-4.569-.826-.991-1.535-1.832-1.884-2.245a146 146 0 0 0-.488-.576l-.207-.245-.113-.133-.022-.032-.01-.005L12.57 0l-.609.488c-1.555 1.246-2.828 2.851-3.681 4.64-.523 1.064-.864 2.105-1.043 3.176-.047.241-.088.489-.121.738-.209-.017-.421-.028-.632-.033-.018-.001-.035-.002-.059-.003a7.46 7.46 0 0 0-2.28.274l-.317.089-.163.286c-.765 1.342-1.198 2.869-1.252 4.416-.07 2.01.477 3.954 1.583 5.625 1.082 1.633 2.61 2.882 4.42 3.611l.236.095.071.025.003-.001a9.59 9.59 0 0 0 2.941.568q.171.006.342.006c1.273 0 2.513-.249 3.69-.742l.008.004.313-.145a9.63 9.63 0 0 0 3.927-3.335c1.01-1.49 1.577-3.234 1.641-5.042.075-2.161-.643-4.304-2.133-6.371m-7.083 6.695c.328 1.244.264 2.44-.191 3.558-1.135-1.12-1.967-2.352-2.475-3.665-.543-1.404-.87-2.74-.974-3.975.48.157.922.366 1.315.622 1.132.737 1.914 1.902 2.325 3.461zm.207 6.022c.482.368.99.712 1.513 1.028-.771.21-1.565.302-2.369.273a8 8 0 0 1-.373-.022c.458-.394.869-.823 1.228-1.279zm1.347-6.431c-.516-1.957-1.527-3.437-3.002-4.398-.647-.421-1.385-.741-2.194-.95.011-.134.026-.268.043-.4.014-.113.03-.216.046-.313.133-.689.332-1.37.589-2.025.099-.25.206-.499.321-.74l.004-.008c.177-.358.376-.719.61-1.105l.092-.152-.003-.001c.544-.851 1.197-1.627 1.942-2.311l.288.341c.672.796 1.304 1.548 1.878 2.237 1.291 1.549 2.966 3.583 3.612 4.48 1.277 1.771 1.893 3.579 1.83 5.375-.049 1.395-.461 2.755-1.195 3.933-.694 1.116-1.661 2.05-2.8 2.708-.636-.318-1.559-.839-2.539-1.599.79-1.575.952-3.28.479-5.072zm-2.575 5.397c-.725.939-1.587 1.55-2.09 1.856-.081-.029-.163-.06-.243-.093l-.065-.026c-1.49-.616-2.747-1.656-3.635-3.01-.907-1.384-1.356-2.993-1.298-4.653.041-1.19.338-2.327.882-3.379.316-.07.638-.114.96-.131l.084-.002c.162-.003.324-.003.478 0 .227.011.454.035.677.07.073 1.513.445 3.145 1.105 4.852.637 1.644 1.694 3.162 3.144 4.515z"},child:[]}]})(i)}function Rw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z"},child:[]}]})(i)}function Iw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(i)}function xw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(i)}function Dw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(i)}function Cw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.2209.0875v5.9613l-3.7433.5012v3.5233l3.7433-.5012v3.5735l3.492-.4672V9.1047L24 8.2634l-.4631-3.4613-5.824.7794V.0875zM6.287 1.145v5.9618L0 7.9483l.4634 3.4613 5.8514-.7834 3.4644-.4637V1.145zm3.5198 9.7185l-3.492.4675v3.578l-6.183.8276.4633 3.4613 5.8239-.7796v5.4942h3.492v-5.962l3.6114-.4834V13.944l-3.7156.4973zm13.73 1.7405l-5.824.779-3.492.4673v9.0179h3.492v-5.9618L24 16.0652Z"},child:[]}]})(i)}function Vw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71 8.71 0 0 0-.547.535c-2.109 2.237-4.066 6.38-4.674 9.544.237.48.422 1.093.544 1.561a13.044 13.044 0 0 1 .164.703s-.019-.071-.096-.296l-.05-.146a1.689 1.689 0 0 0-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376 1.176.484.884.778 2.4.778 2.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304 1.346-.226 1.478.152.256.296.698.422 1.186.286 1.1.485 2.44.485 2.44l.017.224a22.41 22.41 0 0 0 .056 2.748c.095 1.146.273 2.13.5 2.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29 1.661-8.304 1.723-4.55 4.113-8.201 6.3-9.945-1.993 1.8-4.692 7.63-5.5 9.788-.904 2.416-1.545 4.684-1.931 6.857.666-2.037 2.821-2.912 2.821-2.912s1.057-1.304 2.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184 3.613-1.72C21.695 7.9 24.195 2.767 21.678.521m-18.573.543A1.842 1.842 0 0 0 1.27 2.9v16.608a1.84 1.84 0 0 0 1.835 1.834h9.418a22.953 22.953 0 0 1-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01 27.01 0 0 0-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432 0-.12.015-.245.037-.386a9.98 9.98 0 0 1 .234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8 32.8 0 0 1 .382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28 2.587-7.443 4.8-9.791.066-.069.133-.128.198-.194Z"},child:[]}]})(i)}function Nw(i){return re({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(i)}const Mw=[{name:"C++",icon:L.jsx(Tw,{})},{name:"Python",icon:L.jsx(mw,{})},{name:"Java",icon:L.jsx(fw,{})},{name:"C#",icon:L.jsx(Cw,{})},{name:"HTML5",icon:L.jsx(hw,{})},{name:"CSS3",icon:L.jsx(cw,{})},{name:"TypeScript",icon:L.jsx(Nw,{})},{name:"Node.js",icon:L.jsx(dw,{})},{name:"Express",icon:L.jsx(Aw,{})},{name:"Angular",icon:L.jsx(uw,{})},{name:"React",icon:L.jsx(gw,{})},{name:"Django",icon:L.jsx(bw,{})},{name:".NET / ASP.NET",icon:L.jsx(ww,{})},{name:"Next.js",icon:L.jsx(xw,{})},{name:"UI/UX"},{name:"ChatBots"},{name:"MySQL",icon:L.jsx(Iw,{})},{name:"PostgreSQL",icon:L.jsx(Dw,{})},{name:"SQLite",icon:L.jsx(Vw,{})},{name:"Firebase",icon:L.jsx(Sw,{})},{name:"Google Cloud",icon:L.jsx(Rw,{})},{name:"AWS",icon:L.jsx(Ew,{})}],Ow=[{icon:L.jsx(z4,{size:24}),href:"https://www.linkedin.com/in/Kiuliumov"},{icon:L.jsx(B4,{size:24}),href:"https://x.com/DKiuliumov"},{icon:L.jsx(qo,{size:24}),href:"https://github.com/Kiuliumov"}],Pw=()=>L.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),L.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:[L.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[L.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp mt-20",children:L.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/image-banner.jpg",alt:"Dimitur Kiuliumov",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),L.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp mt-25 ",children:[L.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"Dimitur Kiuliumov"}),L.jsxs("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:["Hello! I'm a ",L.jsx("span",{className:"text-sky-400",children:"full-stack developer"})," from Bulgaria with a strong passion for programming and mathematics. After graduating from high school, I will go after a degree in"," ",L.jsx("a",{href:"https://fpmi.bg/cms/informatics/",target:"_blank",rel:"noreferrer",className:"underline text-red-300 hover:text-red-400",children:"Computer Science at the Technical University of Sofia"}),"."]}),L.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-6",children:[L.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[L.jsx(qo,{})," See My Work"]}),L.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Contact Me"})]}),L.jsx("div",{className:"flex justify-center md:justify-start gap-6 pt-4 text-gray-400",children:Ow.map((i,t)=>L.jsx("a",{href:i.href,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400 transition-transform duration-300 transform hover:scale-110",children:i.icon},t))})]})]}),L.jsxs("div",{className:"pt-16 animate-fadeInUp",children:[L.jsx("h2",{className:"text-xl font-semibold text-sky-400 text-center md:text-left",children:"My Skills:"}),L.jsx("div",{className:"flex flex-wrap gap-3 pt-4 justify-center md:justify-start",children:Mw.map((i,t)=>L.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 bg-gray-800 rounded-full text-sm text-gray-200 transition-transform duration-300 hover:scale-105 animate-fadeInUp delay-${t*100}`,children:[i.icon," ",i.name]},i.name))})]})]})]}),kw=()=>L.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col justify-center items-center overflow-hidden",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),L.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:L.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[L.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp",children:L.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/cantina.png",alt:"The Cantina",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),L.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp",children:[L.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"About Us"}),L.jsx("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:"The Cantina is a self-run project with no outside financing. Our mission is to create the best chatbots in the market while building modern, responsive web applications."}),L.jsxs("ul",{className:"flex flex-col gap-2 text-gray-300 max-w-xl list-disc list-inside",children:[L.jsx("li",{children:"🤖 Experienced in building custom Discord bots with JavaScript and Python"}),L.jsx("li",{children:"🌐 Skilled at creating modern, responsive web apps using React and Tailwind"}),L.jsx("li",{children:"⚙️ Integrating APIs, handling databases, and automating tasks"}),L.jsx("li",{children:"🚀 Always learning new frameworks and best practices in full-stack development"}),L.jsx("li",{children:"Our goal is to create the best chatbots in the market."})]}),L.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-4",children:[L.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[L.jsx(qo,{})," GitHub"]}),L.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Discord"})]})]})]})})]}),Lw=()=>{};var C2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=function(i){const t=[];let e=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},zw=function(i){const t=[];let e=0,r=0;for(;e<i.length;){const a=i[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[e++],c=i[e++],d=i[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=i[e++],c=i[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},j4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,p=m?i[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,D=p&63;m||(D=64,c||(w=64)),r.push(e[_],e[T],e[w],e[D])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(U4(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):zw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=e[i.charAt(a++)],d=a<i.length?e[i.charAt(a)]:0;++a;const p=a<i.length?e[i.charAt(a)]:64;++a;const T=a<i.length?e[i.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new Bw;const w=l<<2|d>>4;if(r.push(w),p!==64){const D=d<<4&240|p>>2;if(r.push(D),T!==64){const j=p<<6&192|T;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(i){const t=U4(i);return j4.encodeByteArray(t,!0)},Mf=function(i){return Uw(i).replace(/\./g,"")},q4=function(i){try{return j4.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Of(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!jw(e)||(i[e]=Of(i[e],t[e]));return i}function jw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>zp().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof C2>"u")return;const i=C2.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Hw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&q4(i[1]);return t&&JSON.parse(t)},F4=()=>{try{return Lw()||qw()||Fw()||Hw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Bp=()=>F4()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mf(JSON.stringify(e)),Mf(JSON.stringify(c)),""].join(".")}const qu={};function Yw(){const i={prod:[],emulator:[]};for(const t of Object.keys(qu))qu[t]?i.emulator.push(t):i.prod.push(t);return i}function $w(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let V2=!1;function Xw(i,t){if(typeof window>"u"||typeof document>"u"||!Up(window.location.host)||qu[i]===t||qu[i]||V2)return;qu[i]=t;function e(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=Yw().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{V2=!0,c()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=$w(r),D=e("text"),j=document.getElementById(D)||document.createElement("span"),K=e("learnmore"),q=document.getElementById(K)||document.createElement("a"),st=e("preprendIcon"),W=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;d(it),_(q,K);const vt=p();m(W,st),it.append(W,j,q,vt),document.body.appendChild(it)}l?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H4(){const i=F4()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zw(){return typeof window<"u"||G4()}function G4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Q4(){return!H4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K4(){return!H4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Y4(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((i,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="FirebaseError";class Va extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Ww,Object.setPrototypeOf(this,Va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?tA(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Va(a,d,r)}}function tA(i,t){return i.replace(eA,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const eA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Fo(i,t){if(i===t)return!0;const e=Object.keys(i),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=i[a],c=t[a];if(M2(l)&&M2(c)){if(!Fo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function M2(i){return i!==null&&typeof i=="object"}function nA(i,t){const e=new rA(i,t);return e.subscribe.bind(e)}class rA{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");iA(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=Lg),a.error===void 0&&(a.error=Lg),a.complete===void 0&&(a.complete=Lg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(i){return i&&i._delegate?i._delegate:i}class Ea{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Gw;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oA(t))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=la){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=la){return this.instances.has(t)}getOptions(t=la){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=la){return this.component?this.component.multipleInstances?t:la:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(i){return i===la?void 0:i}function oA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new sA(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=[];var kt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(kt||(kt={}));const X4={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},lA=kt.INFO,uA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},cA=(i,t,...e)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),a=uA[t];if(a)console[a](`[${r}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qp{constructor(t){this.name=t,this._logLevel=lA,this._logHandler=cA,this._userLogHandler=null,jp.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?X4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}function hA(i){jp.forEach(t=>{t.setLogLevel(i)})}function fA(i,t){for(const e of jp){let r=null;t&&t.level&&(r=X4[t.level]),i===null?e.userLogHandler=null:e.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(r??a.logLevel)&&i({level:kt[l].toLowerCase(),message:d,args:c,type:a.name})}}}const dA=(i,t)=>t.some(e=>i instanceof e);let O2,P2;function mA(){return O2||(O2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return P2||(P2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z4=new WeakMap,Wg=new WeakMap,J4=new WeakMap,zg=new WeakMap,Fp=new WeakMap;function pA(i){const t=new Promise((e,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{e(rs(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Z4.set(e,i)}).catch(()=>{}),Fp.set(t,i),t}function yA(i){if(Wg.has(i))return;const t=new Promise((e,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Wg.set(i,t)}let tp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Wg.get(i);if(t==="objectStoreNames")return i.objectStoreNames||J4.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return rs(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function _A(i){tp=i(tp)}function vA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=i.call(Bg(this),t,...e);return J4.set(r,t.sort?t.sort():[t]),rs(r)}:gA().includes(i)?function(...t){return i.apply(Bg(this),t),rs(Z4.get(this))}:function(...t){return rs(i.apply(Bg(this),t))}}function EA(i){return typeof i=="function"?vA(i):(i instanceof IDBTransaction&&yA(i),dA(i,mA())?new Proxy(i,tp):i)}function rs(i){if(i instanceof IDBRequest)return pA(i);if(zg.has(i))return zg.get(i);const t=EA(i);return t!==i&&(zg.set(i,t),Fp.set(t,i)),t}const Bg=i=>Fp.get(i);function TA(i,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,t),d=rs(c);return r&&c.addEventListener("upgradeneeded",m=>{r(rs(c.result),m.oldVersion,m.newVersion,rs(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const bA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],Ug=new Map;function k2(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ug.get(t))return Ug.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=wA.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||bA.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),a&&m.done]))[0]};return Ug.set(t,l),l}_A(i=>({...i,get:(t,e,r)=>k2(t,e)||i.get(t,e,r),has:(t,e)=>!!k2(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(SA(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function SA(i){return i.getComponent()?.type==="VERSION"}const kf="@firebase/app",ep="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new qp("@firebase/app"),RA="@firebase/app-compat",IA="@firebase/analytics-compat",xA="@firebase/analytics",DA="@firebase/app-check-compat",CA="@firebase/app-check",VA="@firebase/auth",NA="@firebase/auth-compat",MA="@firebase/database",OA="@firebase/data-connect",PA="@firebase/database-compat",kA="@firebase/functions",LA="@firebase/functions-compat",zA="@firebase/installations",BA="@firebase/installations-compat",UA="@firebase/messaging",jA="@firebase/messaging-compat",qA="@firebase/performance",FA="@firebase/performance-compat",HA="@firebase/remote-config",GA="@firebase/remote-config-compat",QA="@firebase/storage",KA="@firebase/storage-compat",YA="@firebase/firestore",$A="@firebase/ai",XA="@firebase/firestore-compat",ZA="firebase",JA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]",WA={[kf]:"fire-core",[RA]:"fire-core-compat",[xA]:"fire-analytics",[IA]:"fire-analytics-compat",[CA]:"fire-app-check",[DA]:"fire-app-check-compat",[VA]:"fire-auth",[NA]:"fire-auth-compat",[MA]:"fire-rtdb",[OA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[kA]:"fire-fn",[LA]:"fire-fn-compat",[zA]:"fire-iid",[BA]:"fire-iid-compat",[UA]:"fire-fcm",[jA]:"fire-fcm-compat",[qA]:"fire-perf",[FA]:"fire-perf-compat",[HA]:"fire-rc",[GA]:"fire-rc-compat",[QA]:"fire-gcs",[KA]:"fire-gcs-compat",[YA]:"fire-fst",[XA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Map,Ho=new Map,Go=new Map;function Wu(i,t){try{i.container.addComponent(t)}catch(e){fi.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function W4(i,t){i.container.addOrOverwriteComponent(t)}function Qo(i){const t=i.name;if(Go.has(t))return fi.debug(`There were multiple attempts to register component ${t}.`),!1;Go.set(t,i);for(const e of ls.values())Wu(e,i);for(const e of Ho.values())Wu(e,i);return!0}function t3(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function tS(i,t,e=os){t3(i,t).clearInstance(e)}function Hp(i){return i.options!==void 0}function e3(i){return Hp(i)?!1:"authIdToken"in i||"appCheckToken"in i||"releaseOnDeref"in i||"automaticDataCollectionEnabled"in i}function n3(i){return i==null?!1:i.settings!==void 0}function eS(){Go.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kn=new nd("app","Firebase",nS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r3=class{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i,t){const e=q4(i.split(".")[1]);if(e===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}if(JSON.parse(e).exp===void 0){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(e).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class rS extends r3{constructor(t,e,r,a){const l=e.automaticDataCollectionEnabled!==void 0?e.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(t.apiKey!==void 0)super(t,c,a);else{const d=t;super(d.options,c,a)}this._serverConfig={automaticDataCollectionEnabled:l,...e},this._serverConfig.authIdToken&&L2(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&L2(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,e.releaseOnDeref=void 0,ci(kf,ep,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Kp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw kn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=JA;function Qp(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const r={name:os,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw kn.create("bad-app-name",{appName:String(a)});if(e||(e=Bp()),!e)throw kn.create("no-options");const l=ls.get(a);if(l){if(Fo(e,l.options)&&Fo(r,l.config))return l;throw kn.create("duplicate-app",{appName:a})}const c=new $4(a);for(const m of Go.values())c.addComponent(m);const d=new r3(e,r,c);return ls.set(a,d),d}function iS(i,t={}){if(Zw()&&!G4())throw kn.create("invalid-server-app-environment");let e,r=t||{};if(i&&(Hp(i)?e=i.options:e3(i)?r=i:e=i),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),e||(e=Bp()),!e)throw kn.create("no-options");const a={...r,...e};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=_=>[..._].reduce((T,w)=>Math.imul(31,T)+w.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw kn.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(a)),d=Ho.get(c);if(d)return d.incRefCount(r.releaseOnDeref),d;const m=new $4(c);for(const _ of Go.values())m.addComponent(_);const p=new rS(e,r,c,m);return Ho.set(c,p),p}function sS(i=os){const t=ls.get(i);if(!t&&i===os&&Bp())return Qp();if(!t)throw kn.create("no-app",{appName:i});return t}function aS(){return Array.from(ls.values())}async function Kp(i){let t=!1;const e=i.name;ls.has(e)?(t=!0,ls.delete(e)):Ho.has(e)&&i.decRefCount()<=0&&(Ho.delete(e),t=!0),t&&(await Promise.all(i.container.getProviders().map(r=>r.delete())),i.isDeleted=!0)}function ci(i,t,e){let r=WA[i]??i;e&&(r+=`-${e}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}Qo(new Ea(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function i3(i,t){if(i!==null&&typeof i!="function")throw kn.create("invalid-log-argument");fA(i,t)}function s3(i){hA(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebase-heartbeat-database",lS=1,tc="firebase-heartbeat-store";let jg=null;function a3(){return jg||(jg=TA(oS,lS,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(tc)}catch(e){console.warn(e)}}}}).catch(i=>{throw kn.create("idb-open",{originalErrorMessage:i.message})})),jg}async function uS(i){try{const e=(await a3()).transaction(tc),r=await e.objectStore(tc).get(o3(i));return await e.done,r}catch(t){if(t instanceof Va)fi.warn(t.message);else{const e=kn.create("idb-get",{originalErrorMessage:t?.message});fi.warn(e.message)}}}async function z2(i,t){try{const r=(await a3()).transaction(tc,"readwrite");await r.objectStore(tc).put(t,o3(i)),await r.done}catch(e){if(e instanceof Va)fi.warn(e.message);else{const r=kn.create("idb-set",{originalErrorMessage:e?.message});fi.warn(r.message)}}}function o3(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=1024,hS=30;class fS{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new mS(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>hS){const a=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B2(),{heartbeatsToSend:e,unsentEntries:r}=dS(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fi.warn(t),""}}}function B2(){return new Date().toISOString().substring(0,10)}function dS(i,t=cS){const e=[];let r=i.slice();for(const a of i){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),U2(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),U2(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class mS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y4()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await uS(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return z2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return z2(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U2(i){return Mf(JSON.stringify({version:2,heartbeats:i})).length}function gS(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let r=1;r<i.length;r++)i[r].date<e&&(e=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(i){Qo(new Ea("platform-logger",t=>new AA(t),"PRIVATE")),Qo(new Ea("heartbeat",t=>new fS(t),"PRIVATE")),ci(kf,ep,i),ci(kf,ep,"esm2020"),ci("fire-js","")}pS("");const yS=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Va,SDK_VERSION:Gp,_DEFAULT_ENTRY_NAME:os,_addComponent:Wu,_addOrOverwriteComponent:W4,_apps:ls,_clearComponents:eS,_components:Go,_getProvider:t3,_isFirebaseApp:Hp,_isFirebaseServerApp:n3,_isFirebaseServerAppSettings:e3,_registerComponent:Qo,_removeServiceInstance:tS,_serverApps:Ho,deleteApp:Kp,getApp:sS,getApps:aS,initializeApp:Qp,initializeServerApp:iS,onLog:i3,registerVersion:ci,setLogLevel:s3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t,e){this._delegate=t,this.firebase=e,Wu(t,new Ea("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Kp(this._delegate)))}_getService(t,e=os){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=os){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){Wu(this._delegate,t)}_addOrOverwriteComponent(t){W4(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},j2=new nd("app-compat","Firebase",vS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(i){const t={},e={__esModule:!0,initializeApp:l,app:a,registerVersion:ci,setLogLevel:s3,onLog:i3,apps:null,SDK_VERSION:Gp,INTERNAL:{registerComponent:d,removeApp:r,useAsService:m,modularAPIs:yS}};e.default=e,Object.defineProperty(e,"apps",{get:c});function r(p){delete t[p]}function a(p){if(p=p||os,!N2(t,p))throw j2.create("no-app",{appName:p});return t[p]}a.App=i;function l(p,_={}){const T=Qp(p,_);if(N2(t,T.name))return t[T.name];const w=new i(T,e);return t[T.name]=w,w}function c(){return Object.keys(t).map(p=>t[p])}function d(p){const _=p.name,T=_.replace("-compat","");if(Qo(p)&&p.type==="PUBLIC"){const w=(D=a())=>{if(typeof D[T]!="function")throw j2.create("invalid-app-argument",{appName:_});return D[T]()};p.serviceProps!==void 0&&Of(w,p.serviceProps),e[T]=w,i.prototype[T]=function(...D){return this._getService.bind(this,_).apply(this,p.multipleInstances?D:[])}}return p.type==="PUBLIC"?e[T]:null}function m(p,_){return _==="serverAuth"?null:_}return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){const i=ES(_S);i.INTERNAL={...i.INTERNAL,createFirebaseNamespace:l3,extendNamespace:t,createSubscribe:nA,ErrorFactory:nd,deepExtend:Of};function t(e){Of(i,e)}return i}const TS=l3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new qp("@firebase/app-compat"),bS="@firebase/app-compat",wS="0.5.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(i){ci(bS,wS,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const i=zp();if(i.firebase!==void 0){q2.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const t=i.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&q2.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ec=TS;AS();var SS="firebase",RS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ec.registerVersion(SS,RS,"app-compat");var F2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,u3;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(M,O,k){for(var x=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)x[Ye-2]=arguments[Ye];return S.prototype[O].apply(M,x)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,S,I){I||(I=0);var M=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)M[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;16>O;++O)M[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],O=V.g[2];var k=V.g[3],x=S+(k^I&(O^k))+M[0]+3614090360&4294967295;S=I+(x<<7&4294967295|x>>>25),x=k+(O^S&(I^O))+M[1]+3905402710&4294967295,k=S+(x<<12&4294967295|x>>>20),x=O+(I^k&(S^I))+M[2]+606105819&4294967295,O=k+(x<<17&4294967295|x>>>15),x=I+(S^O&(k^S))+M[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=S+(k^I&(O^k))+M[4]+4118548399&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(O^S&(I^O))+M[5]+1200080426&4294967295,k=S+(x<<12&4294967295|x>>>20),x=O+(I^k&(S^I))+M[6]+2821735955&4294967295,O=k+(x<<17&4294967295|x>>>15),x=I+(S^O&(k^S))+M[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=S+(k^I&(O^k))+M[8]+1770035416&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(O^S&(I^O))+M[9]+2336552879&4294967295,k=S+(x<<12&4294967295|x>>>20),x=O+(I^k&(S^I))+M[10]+4294925233&4294967295,O=k+(x<<17&4294967295|x>>>15),x=I+(S^O&(k^S))+M[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=S+(k^I&(O^k))+M[12]+1804603682&4294967295,S=I+(x<<7&4294967295|x>>>25),x=k+(O^S&(I^O))+M[13]+4254626195&4294967295,k=S+(x<<12&4294967295|x>>>20),x=O+(I^k&(S^I))+M[14]+2792965006&4294967295,O=k+(x<<17&4294967295|x>>>15),x=I+(S^O&(k^S))+M[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=S+(O^k&(I^O))+M[1]+4129170786&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^O&(S^I))+M[6]+3225465664&4294967295,k=S+(x<<9&4294967295|x>>>23),x=O+(S^I&(k^S))+M[11]+643717713&4294967295,O=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(O^k))+M[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=S+(O^k&(I^O))+M[5]+3593408605&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^O&(S^I))+M[10]+38016083&4294967295,k=S+(x<<9&4294967295|x>>>23),x=O+(S^I&(k^S))+M[15]+3634488961&4294967295,O=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(O^k))+M[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=S+(O^k&(I^O))+M[9]+568446438&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^O&(S^I))+M[14]+3275163606&4294967295,k=S+(x<<9&4294967295|x>>>23),x=O+(S^I&(k^S))+M[3]+4107603335&4294967295,O=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(O^k))+M[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=S+(O^k&(I^O))+M[13]+2850285829&4294967295,S=I+(x<<5&4294967295|x>>>27),x=k+(I^O&(S^I))+M[2]+4243563512&4294967295,k=S+(x<<9&4294967295|x>>>23),x=O+(S^I&(k^S))+M[7]+1735328473&4294967295,O=k+(x<<14&4294967295|x>>>18),x=I+(k^S&(O^k))+M[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=S+(I^O^k)+M[5]+4294588738&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^O)+M[8]+2272392833&4294967295,k=S+(x<<11&4294967295|x>>>21),x=O+(k^S^I)+M[11]+1839030562&4294967295,O=k+(x<<16&4294967295|x>>>16),x=I+(O^k^S)+M[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=S+(I^O^k)+M[1]+2763975236&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^O)+M[4]+1272893353&4294967295,k=S+(x<<11&4294967295|x>>>21),x=O+(k^S^I)+M[7]+4139469664&4294967295,O=k+(x<<16&4294967295|x>>>16),x=I+(O^k^S)+M[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=S+(I^O^k)+M[13]+681279174&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^O)+M[0]+3936430074&4294967295,k=S+(x<<11&4294967295|x>>>21),x=O+(k^S^I)+M[3]+3572445317&4294967295,O=k+(x<<16&4294967295|x>>>16),x=I+(O^k^S)+M[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=S+(I^O^k)+M[9]+3654602809&4294967295,S=I+(x<<4&4294967295|x>>>28),x=k+(S^I^O)+M[12]+3873151461&4294967295,k=S+(x<<11&4294967295|x>>>21),x=O+(k^S^I)+M[15]+530742520&4294967295,O=k+(x<<16&4294967295|x>>>16),x=I+(O^k^S)+M[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=S+(O^(I|~k))+M[0]+4096336452&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~O))+M[7]+1126891415&4294967295,k=S+(x<<10&4294967295|x>>>22),x=O+(S^(k|~I))+M[14]+2878612391&4294967295,O=k+(x<<15&4294967295|x>>>17),x=I+(k^(O|~S))+M[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=S+(O^(I|~k))+M[12]+1700485571&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~O))+M[3]+2399980690&4294967295,k=S+(x<<10&4294967295|x>>>22),x=O+(S^(k|~I))+M[10]+4293915773&4294967295,O=k+(x<<15&4294967295|x>>>17),x=I+(k^(O|~S))+M[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=S+(O^(I|~k))+M[8]+1873313359&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~O))+M[15]+4264355552&4294967295,k=S+(x<<10&4294967295|x>>>22),x=O+(S^(k|~I))+M[6]+2734768916&4294967295,O=k+(x<<15&4294967295|x>>>17),x=I+(k^(O|~S))+M[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=S+(O^(I|~k))+M[4]+4149444226&4294967295,S=I+(x<<6&4294967295|x>>>26),x=k+(I^(S|~O))+M[11]+3174756917&4294967295,k=S+(x<<10&4294967295|x>>>22),x=O+(S^(k|~I))+M[2]+718787259&4294967295,O=k+(x<<15&4294967295|x>>>17),x=I+(k^(O|~S))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,M=this.B,O=this.h,k=0;k<S;){if(O==0)for(;k<=I;)a(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<S;)if(M[O++]=V.charCodeAt(k++),O==this.blockSize){a(this,M),O=0;break}}else for(;k<S;)if(M[O++]=V[k++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var M=0;32>M;M+=8)V[I++]=this.g[S]>>>M&255;return V};function l(V,S){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function c(V,S){this.h=S;for(var I=[],M=!0,O=V.length-1;0<=O;O--){var k=V[O]|0;M&&k==S||(I[O]=k,M=!1)}this.g=I}var d={};function m(V){return-128<=V&&128>V?l(V,function(S){return new c([S|0],0>S?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return q(p(-V));for(var S=[],I=1,M=0;V>=I;M++)S[M]=V/I|0,I*=4294967296;return new c(S,0)}function _(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return q(_(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(S,8)),M=T,O=0;O<V.length;O+=8){var k=Math.min(8,V.length-O),x=parseInt(V.substring(O,O+k),S);8>k?(k=p(Math.pow(S,k)),M=M.j(k).add(p(x))):(M=M.j(I),M=M.add(p(x)))}return M}var T=m(0),w=m(1),D=m(16777216);i=c.prototype,i.m=function(){if(K(this))return-q(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var M=this.i(I);V+=(0<=M?M:4294967296+M)*S,S*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(j(this))return"0";if(K(this))return"-"+q(this).toString(V);for(var S=p(Math.pow(V,6)),I=this,M="";;){var O=vt(I,S).g;I=st(I,O.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=O,j(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function j(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function K(V){return V.h==-1}i.l=function(V){return V=st(this,V),K(V)?-1:j(V)?0:1};function q(V){for(var S=V.g.length,I=[],M=0;M<S;M++)I[M]=~V.g[M];return new c(I,~V.h).add(w)}i.abs=function(){return K(this)?q(this):this},i.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],M=0,O=0;O<=S;O++){var k=M+(this.i(O)&65535)+(V.i(O)&65535),x=(k>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);M=x>>>16,k&=65535,x&=65535,I[O]=x<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function st(V,S){return V.add(q(S))}i.j=function(V){if(j(this)||j(V))return T;if(K(this))return K(V)?q(this).j(q(V)):q(q(this).j(V));if(K(V))return q(this.j(q(V)));if(0>this.l(D)&&0>V.l(D))return p(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<V.g.length;O++){var k=this.i(M)>>>16,x=this.i(M)&65535,Ye=V.i(O)>>>16,pe=V.i(O)&65535;I[2*M+2*O]+=x*pe,W(I,2*M+2*O),I[2*M+2*O+1]+=k*pe,W(I,2*M+2*O+1),I[2*M+2*O+1]+=x*Ye,W(I,2*M+2*O+1),I[2*M+2*O+2]+=k*Ye,W(I,2*M+2*O+2)}for(M=0;M<S;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=S;M<2*S;M++)I[M]=0;return new c(I,0)};function W(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function it(V,S){this.g=V,this.h=S}function vt(V,S){if(j(S))throw Error("division by zero");if(j(V))return new it(T,T);if(K(V))return S=vt(q(V),S),new it(q(S.g),q(S.h));if(K(S))return S=vt(V,q(S)),new it(q(S.g),S.h);if(30<V.g.length){if(K(V)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=S;0>=M.l(V);)I=ft(I),M=ft(M);var O=Tt(I,1),k=Tt(M,1);for(M=Tt(M,2),I=Tt(I,2);!j(M);){var x=k.add(M);0>=x.l(V)&&(O=O.add(I),k=x),M=Tt(M,1),I=Tt(I,1)}return S=st(V,O.j(S)),new it(O,S)}for(O=T;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=p(I),x=k.j(S);K(x)||0<x.l(V);)I-=M,k=p(I),x=k.j(S);j(k)&&(k=w),O=O.add(k),V=st(V,x)}return new it(O,V)}i.A=function(V){return vt(this,V).h},i.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)&V.i(M);return new c(I,this.h&V.h)},i.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)|V.i(M);return new c(I,this.h|V.h)},i.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)^V.i(M);return new c(I,this.h^V.h)};function ft(V){for(var S=V.g.length+1,I=[],M=0;M<S;M++)I[M]=V.i(M)<<1|V.i(M-1)>>>31;return new c(I,V.h)}function Tt(V,S){var I=S>>5;S%=32;for(var M=V.g.length-I,O=[],k=0;k<M;k++)O[k]=0<S?V.i(k+I)>>>S|V.i(k+I+1)<<32-S:V.i(k+I);return new c(O,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,is=c}).apply(typeof F2<"u"?F2:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c3,Lu,h3,_f,np,f3,d3,m3;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=e(this);function a(h,y){if(y)t:{var v=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var z=h[A];if(!(z in v))break t;v=v[z]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&t(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,A=!1,z={next:function(){if(!A&&v<h.length){var Y=v++;return{value:y(Y,h[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function T(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),h.apply(y,z)}}return function(){return h.apply(y,arguments)}}function w(h,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function D(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function j(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,z,Y){for(var ot=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ot[Lt-2]=arguments[Lt];return y.prototype[z].apply(A,ot)}}function K(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function q(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const z=h.length||0,Y=A.length||0;h.length=z+Y;for(let ot=0;ot<Y;ot++)h[z+ot]=A[ot]}else h.push(A)}}class st{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(h){return/^[\s\xa0]*$/.test(h)}function it(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function vt(h){return vt[" "](h),h}vt[" "]=function(){};var ft=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Tt(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function S(h){const y={};for(const v in h)y[v]=h[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)h[v]=A[v];for(let Y=0;Y<I.length;Y++)v=I[Y],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function O(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function k(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ft;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,v){const A=pe.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new st(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,_t=!1,Ft=new Ye,C=()=>{const h=d.Promise.resolve(void 0);ut=()=>{h.then(nt)}};var nt=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(v){k(v)}var y=pe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}_t=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var Et=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h})();function Ct(h,y){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ft){t:{try{vt(y.nodeName);var z=!0;break t}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ct.aa.h.call(this)}}j(Ct,at);var St={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ur(h,y,v,A,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++ie,this.da=this.fa=!1}function Ei(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function kr(h){this.src=h,this.g={},this.h=0}kr.prototype.add=function(h,y,v,A,z){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ot=As(h,y,A,z);return-1<ot?(y=h[ot],v||(y.fa=!1)):(y=new ur(y,this.src,Y,!!A,z),y.fa=v,h.push(y)),y};function ws(h,y){var v=y.type;if(v in h.g){var A=h.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(Ei(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function As(h,y,v,A){for(var z=0;z<h.length;++z){var Y=h[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return z}return-1}var Ss="closure_lm_"+(1e6*Math.random()|0),Tl={};function Lc(h,y,v,A,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Lc(h,y[Y],v,A,z);return null}return v=zc(v),h&&h[Ue]?h.K(y,v,p(A)?!!A.capture:!1,z):zn(h,y,v,!1,A,z)}function zn(h,y,v,A,z,Y){if(!y)throw Error("Invalid event type");var ot=p(z)?!!z.capture:!!z,Lt=La(h);if(Lt||(h[Ss]=Lt=new kr(h)),v=Lt.add(y,v,A,ot,Y),v.proxy)return v;if(A=Dd(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)Et||(z=ot),z===void 0&&(z=!1),h.addEventListener(y.toString(),A,z);else if(h.attachEvent)h.attachEvent(Rs(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Dd(){function h(v){return y.call(h.src,h.listener,v)}const y=Cd;return h}function bl(h,y,v,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)bl(h,y[Y],v,A,z);else A=p(A)?!!A.capture:!!A,v=zc(v),h&&h[Ue]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],v=As(Y,v,A,z),-1<v&&(Ei(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=La(h))&&(y=h.g[y.toString()],h=-1,y&&(h=As(y,v,A,z)),(v=-1<h?y[h]:null)&&ka(v))}function ka(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ue])ws(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(Rs(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=La(y))?(ws(v,h),v.h==0&&(v.src=null,y[Ss]=null)):Ei(h)}}}function Rs(h){return h in Tl?Tl[h]:Tl[h]="on"+h}function Cd(h,y){if(h.da)h=!0;else{y=new Ct(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&ka(h),h=v.call(A,y)}return h}function La(h){return h=h[Ss],h instanceof kr?h:null}var wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function zc(h){return typeof h=="function"?h:(h[wl]||(h[wl]=function(y){return h.handleEvent(y)}),h[wl])}function ye(){ht.call(this),this.i=new kr(this),this.M=this,this.F=null}j(ye,ht),ye.prototype[Ue]=!0,ye.prototype.removeEventListener=function(h,y,v,A){bl(this,h,y,v,A)};function Kt(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new at(y,h);else if(y instanceof at)y.target=y.target||h;else{var z=y;y=new at(A,h),M(y,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ot=y.g=v[Y];z=Rn(ot,A,!0,y)&&z}if(ot=y.g=h,z=Rn(ot,A,!0,y)&&z,z=Rn(ot,A,!1,y)&&z,v)for(Y=0;Y<v.length;Y++)ot=y.g=v[Y],z=Rn(ot,A,!1,y)&&z}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)Ei(v[A]);delete h.g[y],h.h--}}this.F=null},ye.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},ye.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Rn(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var ot=y[Y];if(ot&&!ot.da&&ot.capture==v){var Lt=ot.listener,Pe=ot.ha||ot.src;ot.fa&&ws(h.i,ot),z=Lt.call(Pe,A)!==!1&&z}}return z&&!A.defaultPrevented}function rn(h,y,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Bc(h){h.g=rn(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Vd extends ht{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(h){ht.call(this),this.h=h,this.g={}}j(Is,ht);var xs=[];function Ds(h){Tt(h.g,function(y,v){this.g.hasOwnProperty(v)&&ka(y)},h),h.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Ds(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=d.JSON.stringify,za=d.JSON.parse,Cs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Al(){}Al.prototype.h=null;function Sl(h){return h.h||(h.h=h.i())}function Rl(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){at.call(this,"d")}j(zr,at);function Il(){at.call(this,"c")}j(Il,at);var cr={},xl=null;function Ti(){return xl=xl||new ye}cr.La="serverreachability";function Ba(h){at.call(this,cr.La,h)}j(Ba,at);function bi(h){const y=Ti();Kt(y,new Ba(y))}cr.STAT_EVENT="statevent";function Uc(h,y){at.call(this,cr.STAT_EVENT,h),this.stat=y}j(Uc,at);function ue(h){const y=Ti();Kt(y,new Uc(y,h))}cr.Ma="timingevent";function Oe(h,y){at.call(this,cr.Ma,h),this.size=y}j(Oe,at);function Ie(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Dl(h,y,v,A,z,Y){h.info(function(){if(h.g)if(Y)for(var ot="",Lt=Y.split("&"),Pe=0;Pe<Lt.length;Pe++){var zt=Lt[Pe].split("=");if(1<zt.length){var qe=zt[0];zt=zt[1];var ke=qe.split("_");ot=2<=ke.length&&ke[1]=="type"?ot+(qe+"="+zt+"&"):ot+(qe+"=redacted&")}}else ot=null;else ot=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ot})}function Nd(h,y,v,A,z,Y,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+ot})}function wi(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vs(h,v)+(A?" "+A:"")})}function jc(h,y){h.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function Vs(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ot=1;ot<z.length;ot++)z[ot]=""}}}}return Wn(v)}catch{return y}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function fr(){}j(fr,Al),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},hr=new fr;function fn(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Cl={},Ua={};function tr(h,y,v){h.L=1,h.v=ks(In(y)),h.m=v,h.P=!0,Ur(h,null)}function Ur(h,y){h.F=Date.now(),Ns(h),h.A=In(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),kl(v.i,"t",A),h.C=0,v=h.j.J,h.h=new Te,h.g=rh(h.j,v?y:null,!h.m),0<h.O&&(h.M=new Vd(w(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var z="readystatechange";Array.isArray(z)||(z&&(xs[0]=z.toString()),z=xs);for(var Y=0;Y<z.length;Y++){var ot=Lc(v,z[Y],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),bi(),Dl(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Fn(h)==3?y.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)t:{const ke=Fn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>ke)&&(ke!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||ke!=4||y==7||(y==8||0>=Yr?bi(3):bi(2)),Si(this);var v=this.g.Z();this.X=v;e:if(qc(this)){var A=$c(this.g);h="";var z=A.length,Y=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),dr(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Y&&y==z-1)});A.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=v==200,Nd(this.i,this.u,this.A,this.l,this.R,ke,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Pe=this.g;if((Lt=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Lt)){var zt=Lt;break e}}zt=null}if(v=zt)wi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ms(this,v);else{this.o=!1,this.s=3,ue(12),$e(this),dr(this);break t}}if(this.P){v=!0;let Xe;for(;!this.J&&this.C<ot.length;)if(Xe=Fc(this,ot),Xe==Ua){ke==4&&(this.s=4,ue(14),v=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==Cl){this.s=4,ue(15),wi(this.i,this.l,ot,"[Invalid Chunk]"),v=!1;break}else wi(this.i,this.l,Xe,null),Ms(this,Xe);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||ot.length!=0||this.h.h||(this.s=1,ue(16),v=!1),this.o=this.o&&v,!v)wi(this.i,this.l,ot,"[Invalid Chunked Response]"),$e(this),dr(this);else if(0<ot.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Hs(qe),qe.M=!0,ue(11))}}else wi(this.i,this.l,ot,null),Ms(this,ot);ke==4&&$e(this),this.o&&!this.J&&(ke==4?th(this.j,this):(this.o=!1,Ns(this)))}else Ld(this.g),v==400&&0<ot.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),$e(this),dr(this)}}}catch{}finally{}};function qc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fc(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?Ua:(v=Number(y.substring(v,A)),isNaN(v)?Cl:(A+=1,A+v>y.length?Ua:(y=y.slice(A,A+v),h.C=A+v,y)))}fn.prototype.cancel=function(){this.J=!0,$e(this)};function Ns(h){h.S=Date.now()+h.I,Hc(h,h.I)}function Hc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ie(w(h.ba,h),y)}function Si(h){h.B&&(d.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(jc(this.i,this.A),this.L!=2&&(bi(),ue(17)),$e(this),this.s=2,dr(this)):Hc(this,this.S-h)};function dr(h){h.j.G==0||h.J||th(h.j,h)}function $e(h){Si(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ds(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Ms(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Vl(v.h,h))){if(!h.K&&Vl(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Ja(v),Xa(v);else break t;jl(v),ue(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ie(w(v.Za,v),6e3));if(1>=qa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Kr(v,11)}else if((h.K||v.g==h)&&Ja(v),!W(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let zt=z[y];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const qe=zt[3];qe!=null&&(v.la=qe,v.j.info("VER="+v.la));const ke=zt[4];ke!=null&&(v.Aa=ke,v.j.info("SVER="+v.Aa));const Yr=zt[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(A=1.5*Yr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xe=h.g;if(Xe){const Er=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var Y=A.h;Y.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fa(Y,Y.h),Y.h=null))}if(A.D){const Fl=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(A.ya=Fl,Jt(A.I,A.D,Fl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ot=h;if(A.qa=nh(A,A.J?A.ia:null,A.W),ot.K){dn(A.h,ot);var Lt=ot,Pe=A.L;Pe&&(Lt.I=Pe),Lt.B&&(Si(Lt),Ns(Lt)),A.g=ot}else Jc(A);0<v.i.length&&Za(v)}else zt[0]!="stop"&&zt[0]!="close"||Kr(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Kr(v,7):Bl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}bi(4)}catch{}}var Gc=class{constructor(h,y){this.g=h,this.map=y}};function jr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qa(h){return h.h?1:h.g?h.g.size:0}function Vl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Fa(h,y){h.g?h.g.add(y):h.h=y}function dn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}jr.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Nl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return K(h.i)}function Md(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function Ha(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function Ml(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=Ha(h),A=Md(h),z=A.length,Y=0;Y<z;Y++)y.call(void 0,A[Y],v&&v[Y],h)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),z=null;if(0<=A){var Y=h[v].substring(0,A);z=h[v].substring(A+1)}else Y=h[v];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xe(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof xe){this.h=h.h,Ps(this,h.j),this.o=h.o,this.g=h.g,Ri(this,h.s),this.l=h.l;var y=h.i,v=new Fr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),qr(this,v),this.m=h.m}else h&&(y=String(h).match(Os))?(this.h=!1,Ps(this,y[1]||"",!0),this.o=Un(y[2]||""),this.g=Un(y[3]||"",!0),Ri(this,y[4]),this.l=Un(y[5]||"",!0),qr(this,y[6]||"",!0),this.m=Un(y[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}xe.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Ls(y,Ol,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ls(y,Ol,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ls(v,v.charAt(0)=="/"?Pd:Pl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ls(v,Ga)),h.join("")};function In(h){return new xe(h)}function Ps(h,y,v){h.j=v?Un(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ri(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function qr(h,y,v){y instanceof Fr?(h.i=y,Kc(h.i,h.h)):(v||(y=Ls(y,kd)),h.i=new Fr(y,h.h))}function Jt(h,y,v){h.i.set(y,v)}function ks(h){return Jt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Un(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ls(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Qc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ol=/[#\/\?@]/g,Pl=/[#\?:]/g,Pd=/[#\?]/g,kd=/[#\?@]/g,Ga=/#/g;function Fr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Od(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Fr.prototype,i.add=function(h,y){jn(this),this.i=null,h=mr(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Hr(h,y){jn(h),y=mr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Gr(h,y){return jn(h),y=mr(h,y),h.g.has(y)}i.forEach=function(h,y){jn(this),this.g.forEach(function(v,A){v.forEach(function(z){h.call(y,z,A,this)},this)},this)},i.na=function(){jn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=h[A];for(let Y=0;Y<z.length;Y++)v.push(y[A])}return v},i.V=function(h){jn(this);let y=[];if(typeof h=="string")Gr(this,h)&&(y=y.concat(this.g.get(mr(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},i.set=function(h,y){return jn(this),this.i=null,h=mr(this,h),Gr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function kl(h,y,v){Hr(h,y),0<v.length&&(h.i=null,h.g.set(mr(h,y),K(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var z=Y;ot[A]!==""&&(z+="="+encodeURIComponent(String(ot[A]))),h.push(z)}}return this.i=h.join("&")};function mr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Kc(h,y){y&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Hr(this,A),kl(this,z,v))},h)),h.j=y}function zs(h,y){const v=new Bn;if(d.Image){const A=new Image;A.onload=D(qn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(qn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(qn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(qn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function er(h,y){const v=new Bn,A=new AbortController,z=setTimeout(()=>{A.abort(),qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?qn(v,"TestPingServer: ok",!0,y):qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),qn(v,"TestPingServer: error",!1,y)})}function qn(h,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Bs(){this.g=new Cs}function gr(h,y,v){const A=v||"";try{Ml(h,function(z,Y){let ot=z;p(z)&&(ot=Wn(z)),y.push(A+Y+"="+encodeURIComponent(ot))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Ii(h){this.l=h.Ub||null,this.j=h.eb||!1}j(Ii,Al),Ii.prototype.g=function(){return new Qr(this.l,this.j)},Ii.prototype.i=(function(h){return function(){return h}})({});function Qr(h,y){ye.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Qr,ye),i=Qr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,yr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?pr(this):yr(this),this.readyState==3&&Ll(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,pr(this))},i.Qa=function(h){this.g&&(this.response=h,pr(this))},i.ga=function(){this.g&&pr(this)};function pr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yr(h)}i.setRequestHeader=function(h,y){this.u.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function yr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function zl(h){let y="";return Tt(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function je(h,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=zl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Jt(h,y,v))}function Gt(h){ye.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Gt,ye);var Qa=/^https?$/i,Us=["POST","PUT"];i=Gt.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?Sl(this.o):Sl(hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Yc(this,Y);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ot]of v)this.g.setRequestHeader(Y,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Yc(this,Y)}};function Yc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ka(h),_r(h)}function Ka(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),_r(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Gt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},i.bb=function(){Ya(this)};function Ya(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)rn(h.Ea,0,h);else if(Kt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=ot===0){var z=String(h.D).match(Os)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Qa.test(z?z.toLowerCase():"")}v=A}if(v)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var Y=2<Fn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Ka(h)}}finally{_r(h)}}}}function _r(h,y){if(h.g){js(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Kt(h,"ready");try{v.onreadystatechange=A}catch{}}}function js(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),za(y)}};function $c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ld(h){const y={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(W(h[A]))continue;var v=O(h[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}V(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function $a(h){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,h),this.cb=qs("retryDelaySeedMs",1e4,h),this.Wa=qs("forwardChannelMaxRetries",2,h),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(h&&h.concurrentRequestLimit),this.Da=new Bs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=$a.prototype,i.la=8,i.G=1,i.connect=function(h,y,v,A){ue(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=nh(this,null,this.W),Za(this)};function Bl(h){if(Xc(h),h.G==3){var y=h.U++,v=In(h.I);if(Jt(v,"SID",h.K),Jt(v,"RID",y),Jt(v,"TYPE","terminate"),Fs(h,v),y=new fn(h,h.j,y),y.L=2,y.v=ks(In(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=rh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ns(y)}eh(h)}function Xa(h){h.g&&(Hs(h),h.g.cancel(),h.g=null)}function Xc(h){Xa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ja(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Za(h){if(!ja(h.h)&&!h.s){h.s=!0;var y=h.Ga;ut||C(),_t||(ut(),_t=!0),Ft.add(y,h),h.B=0}}function zd(h,y){return qa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ie(w(h.Ga,h,y),ql(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const z=new fn(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=S(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Zc(this,z,y),v=In(this.I),Jt(v,"RID",h),Jt(v,"CVER",22),this.D&&Jt(v,"X-HTTP-Session-Id",this.D),Fs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(zl(Y)))+"&"+y:this.m&&je(v,this.m,Y)),Fa(this.h,z),this.Ua&&Jt(v,"TYPE","init"),this.P?(Jt(v,"$req",y),Jt(v,"SID","null"),z.T=!0,tr(z,v,null)):tr(z,v,y),this.G=2}}else this.G==3&&(h?Ul(this,h):this.i.length==0||ja(this.h)||Ul(this))};function Ul(h,y){var v;y?v=y.l:v=h.U++;const A=In(h.I);Jt(A,"SID",h.K),Jt(A,"RID",v),Jt(A,"AID",h.T),Fs(h,A),h.m&&h.o&&je(A,h.m,h.o),v=new fn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Fa(h.h,v),tr(v,A,y)}function Fs(h,y){h.H&&Tt(h.H,function(v,A){Jt(y,A,v)}),h.l&&Ml({},function(v,A){Jt(y,A,v)})}function Zc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?w(h.l.Na,h.l,h):null;t:{var z=h.i;let Y=-1;for(;;){const ot=["count="+v];Y==-1?0<v?(Y=z[0].g,ot.push("ofs="+Y)):Y=0:ot.push("ofs="+Y);let Lt=!0;for(let Pe=0;Pe<v;Pe++){let zt=z[Pe].g;const qe=z[Pe].map;if(zt-=Y,0>zt)Y=Math.max(0,z[Pe].g-100),Lt=!1;else try{gr(qe,ot,"req"+zt+"_")}catch{A&&A(qe)}}if(Lt){A=ot.join("&");break t}}}return h=h.i.splice(0,v),y.D=h,A}function Jc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ut||C(),_t||(ut(),_t=!0),Ft.add(y,h),h.v=0}}function jl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ie(w(h.Fa,h),ql(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ie(w(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Xa(this),Wc(this))};function Hs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Wc(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=In(h.qa);Jt(y,"RID","rpc"),Jt(y,"SID",h.K),Jt(y,"AID",h.T),Jt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Jt(y,"TO",h.ja),Jt(y,"TYPE","xmlhttp"),Fs(h,y),h.m&&h.o&&je(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=ks(In(y)),v.m=null,v.P=!0,Ur(v,h)}i.Za=function(){this.C!=null&&(this.C=null,Xa(this),jl(this),ue(19))};function Ja(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function th(h,y){var v=null;if(h.g==y){Ja(h),Hs(h),h.g=null;var A=2}else if(Vl(h.h,y))v=y.D,dn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=h.B;A=Ti(),Kt(A,new Oe(A,v)),Za(h)}else Jc(h);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&zd(h,y)||A==2&&jl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),z){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function ql(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Kr(h,y){if(h.j.info("Error code "+y),y==2){var v=w(h.fb,h),A=h.Xa;const z=!A;A=new xe(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ps(A,"https"),ks(A),z?zs(A.toString(),v):er(A.toString(),v)}else ue(2);h.G=0,h.l&&h.l.sa(y),eh(h),Xc(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function eh(h){if(h.G=0,h.ka=[],h.l){const y=Nl(h.h);(y.length!=0||h.i.length!=0)&&(q(h.ka,y),q(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function nh(h,y,v){var A=v instanceof xe?In(v):new xe(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ri(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new xe(null);A&&Ps(Y,A),y&&(Y.g=y),z&&Ri(Y,z),v&&(Y.l=v),A=Y}return v=h.D,y=h.ya,v&&y&&Jt(A,v,y),Jt(A,"VER",h.la),Fs(h,A),A}function rh(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Gt(new Ii({eb:v})):new Gt(h.pa),y.Ha(h.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}i=ih.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Wa(){}Wa.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){ye.call(this),this.g=new $a(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!W(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vr(this)}j(mn,ye),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Bl(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Wn(h),h=v);y.i.push(new Gc(y.Ya++,h)),y.G==3&&Za(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,mn.aa.N.call(this)};function sh(h){zr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const v in y){h=v;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}j(sh,zr);function ah(){Il.call(this),this.status=1}j(ah,Il);function vr(h){this.g=h}j(vr,ih),vr.prototype.ua=function(){Kt(this.g,"a")},vr.prototype.ta=function(h){Kt(this.g,new sh(h))},vr.prototype.sa=function(h){Kt(this.g,new ah)},vr.prototype.ra=function(){Kt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,m3=function(){return new Wa},d3=function(){return Ti()},f3=cr,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,_f=Ai,Br.COMPLETE="complete",h3=Br,Rl.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Lu=Rl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,c3=Gt}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const H2="@firebase/firestore",G2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new qp("@firebase/firestore");function Po(){return us.logLevel}function IS(i){us.setLogLevel(i)}function rt(i,...t){if(us.logLevel<=kt.DEBUG){const e=t.map(Yp);us.debug(`Firestore (${dl}): ${i}`,...e)}}function Ae(i,...t){if(us.logLevel<=kt.ERROR){const e=t.map(Yp);us.error(`Firestore (${dl}): ${i}`,...e)}}function Mr(i,...t){if(us.logLevel<=kt.WARN){const e=t.map(Yp);us.warn(`Firestore (${dl}): ${i}`,...e)}}function Yp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(i,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,g3(i,r,e)}function g3(i,t,e){let r=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Ae(r),new Error(r)}function gt(i,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,i||g3(t,a,r)}function xS(i,t){i||dt(57014,t)}function ct(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class et extends Va{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class DS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Ke.UNAUTHENTICATED)))}shutdown(){}}class CS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class VS{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let l=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new nn,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new nn)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new p3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return gt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class NS{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MS{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new NS(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OS{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n3(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){gt(this.o===void 0,3512);const r=l=>{l.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q2(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(gt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Q2(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<i;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=PS(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function Rt(i,t){return i<t?-1:i>t?1:0}function rp(i,t){const e=Math.min(i.length,t.length);for(let r=0;r<e;r++){const a=i.charAt(r),l=t.charAt(r);if(a!==l)return qg(a)===qg(l)?Rt(a,l):qg(a)?1:-1}return Rt(i.length,t.length)}const kS=55296,LS=57343;function qg(i){const t=i.charCodeAt(0);return t>=kS&&t<=LS}function Ko(i,t,e){return i.length===t.length&&i.every(((r,a)=>e(r,t[a])))}function y3(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__name__";class Rr{constructor(t,e,r){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&dt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Rr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Rr?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=Rr.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Rt(t.length,e.length)}static compareSegments(t,e){const r=Rr.isNumericId(t),a=Rr.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Rr.extractNumericId(t).compare(Rr.extractNumericId(e)):rp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return is.fromString(t.substring(4,t.length-2))}}class Ot extends Rr{construct(t,e,r){return new Ot(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new et(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new Ot(e)}static emptyPath(){return new Ot([])}}const zS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends Rr{construct(t,e,r){return new fe(t,e,r)}static isValidIdentifier(t){return zS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K2}static keyField(){return new fe([K2])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new et(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new et(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new et(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fe(e)}static emptyPath(){return new fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Ot.fromString(t))}static fromName(t){return new lt(Ot.fromString(t).popFirst(5))}static empty(){return new lt(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ot.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Ot(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,t,e){if(!e)throw new et(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function _3(i,t,e,r){if(t===!0&&r===!0)throw new et(Q.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function Y2(i){if(!lt.isDocumentKey(i))throw new et(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $2(i){if(lt.isDocumentKey(i))throw new et(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function v3(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":dt(12329,{type:typeof i})}function qt(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new et(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=rd(i);throw new et(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function E3(i,t){if(t<=0)throw new et(Q.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i,t){const e={typeString:i};return t&&(e.value=t),e}function bc(i,t){if(!v3(i))throw new et(Q.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in i)){e=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){e=`Expected '${r}' field to equal '${l.value}'`;break}}if(e)throw new et(Q.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=-62135596800,Z2=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(t){return Qt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Z2);return new Qt(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new et(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<X2)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new et(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z2}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bc(t,Qt._jsonSchema))return new Qt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X2;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:Ne("string",Qt._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(t){return new pt(t)}static min(){return new pt(new Qt(0,0))}static max(){return new pt(new Qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=-1;class Lf{constructor(t,e,r,a){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=a}}function ip(i){return i.fields.find((t=>t.kind===2))}function ua(i){return i.fields.filter((t=>t.kind!==2))}Lf.UNKNOWN_ID=-1;class vf{constructor(t,e){this.fieldPath=t,this.kind=e}}class nc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new nc(0,Ln.min())}}function T3(i,t){const e=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=pt.fromTimestamp(r===1e9?new Qt(e+1,0):new Qt(e,r));return new Ln(a,lt.empty(),t)}function b3(i){return new Ln(i.readTime,i.key,Yo)}class Ln{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Ln(pt.min(),lt.empty(),Yo)}static max(){return new Ln(pt.max(),lt.empty(),Yo)}}function Zp(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=lt.comparator(i.documentKey,t.documentKey),e!==0?e:Rt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==w3)throw i;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new B(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof B?e:B.resolve(e)}catch(e){return B.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):B.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):B.reject(e)}static resolve(t){return new B(((e,r)=>{e(t)}))}static reject(t){return new B(((e,r)=>{r(t)}))}static waitFor(t){return new B(((e,r)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&e()}),(m=>r(m)))})),c=!0,l===a&&e()}))}static or(t){let e=B.resolve(!1);for(const r of t)e=e.next((a=>a?B.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,l)=>{r.push(e.call(this,a,l))})),this.waitFor(r)}static mapArray(t,e){return new B(((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((_=>{c[p]=_,++d,d===l&&r(c)}),(_=>a(_)))}}))}static doWhile(t,e){return new B(((r,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="SimpleDb";class id{static open(t,e,r,a){try{return new id(e,t.transaction(a,r))}catch(l){throw new Fu(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new nn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Fu(t,e.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Jp(r.target.error);this.S.reject(new Fu(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(rt(Pn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new US(e)}}class Cr{static delete(t){return rt(Pn,"Removing database:",t),ha(zp().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!Y4())return!1;if(Cr.F())return!0;const t=Pf(),e=Cr.M(t),r=0<e&&e<10,a=S3(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,e,r){this.name=t,this.version=e,this.N=r,this.B=null,Cr.M(Pf())===12.2&&Ae("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(rt(Pn,"Opening database:",this.name),this.db=await new Promise(((e,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;e(c)},a.onblocked=()=>{r(new Fu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new et(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new et(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Fu(t,c))},a.onupgradeneeded=l=>{rt(Pn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{rt(Pn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,a){const l=e==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(t);const d=id.open(this.db,t,l?"readonly":"readwrite",r),m=a(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),B.reject(p)))).toPromise();return m.catch((()=>{})),await d.D,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(rt(Pn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function S3(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class BS{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return ha(this.U.delete())}}class Fu extends et{constructor(t,e){super(Q.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function vs(i){return i.name==="IndexedDbTransactionError"}class US{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(rt(Pn,"PUT",this.store.name,t,e),r=this.store.put(e,t)):(rt(Pn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ha(r)}add(t){return rt(Pn,"ADD",this.store.name,t,t),ha(this.store.add(t))}get(t){return ha(this.store.get(t)).next((e=>(e===void 0&&(e=null),rt(Pn,"GET",this.store.name,t,e),e)))}delete(t){return rt(Pn,"DELETE",this.store.name,t),ha(this.store.delete(t))}count(){return rt(Pn,"COUNT",this.store.name),ha(this.store.count())}J(t,e){const r=this.options(t,e),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new B(((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(r),c=[];return this.H(l,((d,m)=>{c.push(m)})).next((()=>c))}}Y(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new B(((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(t,e){rt(Pn,"DELETE ALL",this.store.name);const r=this.options(t,e);r.X=!1;const a=this.cursor(r);return this.H(a,((l,c,d)=>d.delete()))}ee(t,e){let r;e?r=t:(r={},e=t);const a=this.cursor(r);return this.H(a,e)}te(t){const e=this.cursor({});return new B(((r,a)=>{e.onerror=l=>{const c=Jp(l.target.error);a(c)},e.onsuccess=l=>{const c=l.target.result;c?t(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}H(t,e){const r=[];return new B(((a,l)=>{t.onerror=c=>{l(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new BS(d),p=e(d.primaryKey,d.value,m);if(p instanceof B){const _=p.catch((T=>(m.done(),B.reject(T))));r.push(_)}m.isDone?a():m.G===null?d.continue():d.continue(m.G)}})).next((()=>B.waitFor(r)))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ha(i){return new B(((t,e)=>{i.onsuccess=r=>{const a=r.target.result;t(a)},i.onerror=r=>{const a=Jp(r.target.error);e(a)}}))}let J2=!1;function Jp(i){const t=Cr.M(Pf());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const r=new et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return J2||(J2=!0,setTimeout((()=>{throw r}),0)),r}}return i}const Hu="IndexBackfiller";class jS{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){rt(Hu,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();rt(Hu,`Documents written: ${e}`)}catch(e){vs(e)?rt(Hu,"Ignoring IndexedDB error during index backfill: ",e):await _s(e)}await this.re(6e4)}))}}class qS{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const r=new Set;let a=e,l=!0;return B.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((c=>{if(c!==null&&!r.has(c))return rt(Hu,`Processing collection: ${c}`),this.oe(t,c,a).next((d=>{a-=d,r.add(c)}));l=!1})))).next((()=>e-a))}oe(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next((()=>this._e(a,l))).next((d=>(rt(Hu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d)))).next((()=>c.size))}))))}_e(t,e){let r=t;return e.changes.forEach(((a,l)=>{const c=b3(l);Zp(c,r)>0&&(r=c)})),new Ln(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=-1;function wc(i){return i==null}function rc(i){return i===0&&1/i==-1/0}function R3(i){return typeof i=="number"&&Number.isInteger(i)&&!rc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="";function cn(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=W2(t)),t=FS(i.get(e),t);return W2(t)}function FS(i,t){let e=t;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":e+="";break;case zf:e+="";break;default:e+=l}}return e}function W2(i){return i+zf+""}function xr(i){const t=i.length;if(gt(t>=2,64408,{path:i}),t===2)return gt(i.charAt(0)===zf&&i.charAt(1)==="",56145,{path:i}),Ot.emptyPath();const e=t-2,r=[];let a="";for(let l=0;l<t;){const c=i.indexOf(zf,l);switch((c<0||c>e)&&dt(50515,{path:i}),i.charAt(c+1)){case"":const d=i.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),r.push(m);break;case"":a+=i.substring(l,c),a+="\0";break;case"":a+=i.substring(l,c+1);break;default:dt(61167,{path:i})}l=c+2}return new Ot(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="remoteDocuments",Ac="owner",Do="owner",ic="mutationQueues",HS="userId",sr="mutations",tv="batchId",pa="userMutationsIndex",ev=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(i,t){return[i,cn(t)]}function I3(i,t,e){return[i,cn(t),e]}const GS={},$o="documentMutations",Bf="remoteDocumentsV14",QS=["prefixPath","collectionGroup","readTime","documentId"],Tf="documentKeyIndex",KS=["prefixPath","collectionGroup","documentId"],x3="collectionGroupIndex",YS=["collectionGroup","readTime","prefixPath","documentId"],sc="remoteDocumentGlobal",sp="remoteDocumentGlobalKey",Xo="targets",D3="queryTargetsIndex",$S=["canonicalId","targetId"],Zo="targetDocuments",XS=["targetId","path"],Wp="documentTargetsIndex",ZS=["path","targetId"],Uf="targetGlobalKey",va="targetGlobal",ac="collectionParents",JS=["collectionId","parent"],Jo="clientMetadata",WS="clientId",sd="bundles",t9="bundleId",ad="namedQueries",e9="name",t1="indexConfiguration",n9="indexId",ap="collectionGroupIndex",r9="collectionGroup",Gu="indexState",i9=["indexId","uid"],C3="sequenceNumberIndex",s9=["uid","sequenceNumber"],Qu="indexEntries",a9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],V3="documentKeyIndex",o9=["indexId","uid","orderedDocumentKey"],od="documentOverlays",l9=["userId","collectionPath","documentId"],op="collectionPathOverlayIndex",u9=["userId","collectionPath","largestBatchId"],N3="collectionGroupOverlayIndex",c9=["userId","collectionGroup","largestBatchId"],e1="globals",h9="name",M3=[ic,sr,$o,ca,Xo,Ac,va,Zo,Jo,sc,ac,sd,ad],f9=[...M3,od],O3=[ic,sr,$o,Bf,Xo,Ac,va,Zo,Jo,sc,ac,sd,ad,od],P3=O3,n1=[...P3,t1,Gu,Qu],d9=n1,k3=[...n1,e1],m9=k3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends A3{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Be(i,t){const e=ct(i);return Cr.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Es(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function L3(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new oe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cf(this.root,t,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cf(this.root,t,this.comparator,!0)}}class cf{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new tn(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,r,a,l){return this}insert(t,e,r){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Zt(this.comparator);return e.data=t,e}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Co(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(fe.comparator)}static empty(){return new An([])}unionWith(t){let e=new Zt(fe.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new An(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z3("Invalid base64 string: "+l):l}})(t);return new Ee(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new Ee(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ee.EMPTY_BYTE_STRING=new Ee("");const p9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(i){if(gt(!!i,39018),typeof i=="string"){let t=0;const e=p9.exec(i);if(gt(!!e,46558,{timestamp:i}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:he(i.seconds),nanos:he(i.nanos)}}function he(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mi(i){return typeof i=="string"?Ee.fromBase64String(i):Ee.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="server_timestamp",U3="__type__",j3="__previous_value__",q3="__local_write_time__";function ld(i){return(i?.mapValue?.fields||{})[U3]?.stringValue===B3}function ud(i){const t=i.mapValue.fields[j3];return ld(t)?ud(t):t}function oc(i){const t=di(i.mapValue.fields[q3].timestampValue);return new Qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t,e,r,a,l,c,d,m,p,_){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const up="(default)";class cs{constructor(t,e){this.projectId=t,this.database=e||up}static empty(){return new cs("","")}get isDefaultDatabase(){return this.database===up}isEqual(t){return t instanceof cs&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",F3="__max__",ts={mapValue:{fields:{__type__:{stringValue:F3}}}},i1="__vector__",Wo="value",bf={nullValue:"NULL_VALUE"};function hs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ld(i)?4:H3(i)?9007199254740991:cd(i)?10:11:dt(28295,{value:i})}function Or(i,t){if(i===t)return!0;const e=hs(i);if(e!==hs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return oc(i).isEqual(oc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=di(a.timestampValue),d=di(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(a,l){return mi(a.bytesValue).isEqual(mi(l.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(a,l){return he(a.geoPointValue.latitude)===he(l.geoPointValue.latitude)&&he(a.geoPointValue.longitude)===he(l.geoPointValue.longitude)})(i,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return he(a.integerValue)===he(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=he(a.doubleValue),d=he(l.doubleValue);return c===d?rc(c)===rc(d):isNaN(c)&&isNaN(d)}return!1})(i,t);case 9:return Ko(i.arrayValue.values||[],t.arrayValue.values||[],Or);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(nv(c)!==nv(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Or(c[m],d[m])))return!1;return!0})(i,t);default:return dt(52216,{left:i})}}function lc(i,t){return(i.values||[]).find((e=>Or(e,t)))!==void 0}function fs(i,t){if(i===t)return 0;const e=hs(i),r=hs(t);if(e!==r)return Rt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rt(i.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=he(l.integerValue||l.doubleValue),m=he(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,t);case 3:return iv(i.timestampValue,t.timestampValue);case 4:return iv(oc(i),oc(t));case 5:return rp(i.stringValue,t.stringValue);case 6:return(function(l,c){const d=mi(l),m=mi(c);return d.compareTo(m)})(i.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=Rt(d[p],m[p]);if(_!==0)return _}return Rt(d.length,m.length)})(i.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Rt(he(l.latitude),he(c.latitude));return d!==0?d:Rt(he(l.longitude),he(c.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return sv(i.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Wo]?.arrayValue,_=m[Wo]?.arrayValue,T=Rt(p?.values?.length||0,_?.values?.length||0);return T!==0?T:sv(p,_)})(i.mapValue,t.mapValue);case 11:return(function(l,c){if(l===ts.mapValue&&c===ts.mapValue)return 0;if(l===ts.mapValue)return 1;if(c===ts.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const w=rp(m[T],_[T]);if(w!==0)return w;const D=fs(d[m[T]],p[_[T]]);if(D!==0)return D}return Rt(m.length,_.length)})(i.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function iv(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Rt(i,t);const e=di(i),r=di(t),a=Rt(e.seconds,r.seconds);return a!==0?a:Rt(e.nanos,r.nanos)}function sv(i,t){const e=i.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=fs(e[a],r[a]);if(l)return l}return Rt(e.length,r.length)}function tl(i){return cp(i)}function cp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(e){const r=di(e);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(e){return mi(e).toBase64()})(i.bytesValue):"referenceValue"in i?(function(e){return lt.fromName(e).toString()})(i.referenceValue):"geoPointValue"in i?(function(e){return`geo(${e.latitude},${e.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=cp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${cp(e.fields[c])}`;return a+"}"})(i.mapValue):dt(61005,{value:i})}function wf(i){switch(hs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ud(i);return t?16+wf(t):16;case 5:return 2*i.stringValue.length;case 6:return mi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+wf(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return Es(r.fields,((l,c)=>{a+=l.length+wf(c)})),a})(i.mapValue);default:throw dt(13486,{value:i})}}function Ta(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function hp(i){return!!i&&"integerValue"in i}function uc(i){return!!i&&"arrayValue"in i}function av(i){return!!i&&"nullValue"in i}function ov(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Af(i){return!!i&&"mapValue"in i}function cd(i){return(i?.mapValue?.fields||{})[r1]?.stringValue===i1}function Ku(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return Es(i.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Ku(r))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ku(i.arrayValue.values[e]);return t}return{...i}}function H3(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===F3}const G3={mapValue:{fields:{[r1]:{stringValue:i1},[Wo]:{arrayValue:{}}}}};function _9(i){return"nullValue"in i?bf:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ta(cs.empty(),lt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?cd(i)?G3:{mapValue:{}}:dt(35942,{value:i})}function v9(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ta(cs.empty(),lt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?G3:"mapValue"in i?cd(i)?{mapValue:{}}:ts:dt(61959,{value:i})}function lv(i,t){const e=fs(i.value,t.value);return e!==0?e:i.inclusive&&!t.inclusive?-1:!i.inclusive&&t.inclusive?1:0}function uv(i,t){const e=fs(i.value,t.value);return e!==0?e:i.inclusive&&!t.inclusive?1:!i.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Af(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ku(e)}setAll(t){let e=fe.emptyPath(),r={},a=[];t.forEach(((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,r,a),r={},a=[],e=d.popLast()}c?r[d.lastSegment()]=Ku(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());Af(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Or(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Es(e,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new en(Ku(this.value))}}function Q3(i){const t=[];return Es(i.fields,((e,r)=>{const a=new fe([e]);if(Af(r)){const l=Q3(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,e,r,a,l,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new le(t,0,pt.min(),pt.min(),pt.min(),en.empty(),0)}static newFoundDocument(t,e,r,a){return new le(t,1,e,pt.min(),r,a,0)}static newNoDocument(t,e){return new le(t,2,e,pt.min(),pt.min(),en.empty(),0)}static newUnknownDocument(t,e){return new le(t,3,e,pt.min(),pt.min(),en.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,e){this.position=t,this.inclusive=e}}function cv(i,t,e){let r=0;for(let a=0;a<i.position.length;a++){const l=t[a],c=i.position[a];if(l.field.isKeyField()?r=lt.comparator(lt.fromName(c.referenceValue),e.key):r=fs(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function hv(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Or(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,e="asc"){this.field=t,this.dir=e}}function E9(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{}class Pt extends K3{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new T9(t,e,r):e==="array-contains"?new A9(t,r):e==="in"?new W3(t,r):e==="not-in"?new S9(t,r):e==="array-contains-any"?new R9(t,r):new Pt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new b9(t,r):new w9(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(fs(e,this.value)):e!==null&&hs(this.value)===hs(e)&&this.matchesComparison(fs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xt extends K3{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Xt(t,e)}matches(t){return el(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function el(i){return i.op==="and"}function fp(i){return i.op==="or"}function s1(i){return Y3(i)&&el(i)}function Y3(i){for(const t of i.filters)if(t instanceof Xt)return!1;return!0}function dp(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(s1(i))return i.filters.map((t=>dp(t))).join(",");{const t=i.filters.map((e=>dp(e))).join(",");return`${i.op}(${t})`}}function $3(i,t){return i instanceof Pt?(function(r,a){return a instanceof Pt&&r.op===a.op&&r.field.isEqual(a.field)&&Or(r.value,a.value)})(i,t):i instanceof Xt?(function(r,a){return a instanceof Xt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&$3(c,a.filters[d])),!0):!1})(i,t):void dt(19439)}function X3(i,t){const e=i.filters.concat(t);return Xt.create(e,i.op)}function Z3(i){return i instanceof Pt?(function(e){return`${e.field.canonicalString()} ${e.op} ${tl(e.value)}`})(i):i instanceof Xt?(function(e){return e.op.toString()+" {"+e.getFilters().map(Z3).join(" ,")+"}"})(i):"Filter"}class T9 extends Pt{constructor(t,e,r){super(t,e,r),this.key=lt.fromName(r.referenceValue)}matches(t){const e=lt.comparator(t.key,this.key);return this.matchesComparison(e)}}class b9 extends Pt{constructor(t,e){super(t,"in",e),this.keys=J3("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class w9 extends Pt{constructor(t,e){super(t,"not-in",e),this.keys=J3("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function J3(i,t){return(t.arrayValue?.values||[]).map((e=>lt.fromName(e.referenceValue)))}class A9 extends Pt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return uc(e)&&lc(e.arrayValue,this.value)}}class W3 extends Pt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&lc(this.value.arrayValue,e)}}class S9 extends Pt{constructor(t,e){super(t,"not-in",e)}matches(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!lc(this.value.arrayValue,e)}}class R9 extends Pt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!uc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>lc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(t,e=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function mp(i,t=null,e=[],r=[],a=null,l=null,c=null){return new I9(i,t,e,r,a,l,c)}function ba(i){const t=ct(i);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>dp(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),wc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>tl(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>tl(r))).join(",")),t.Te=e}return t.Te}function Sc(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!E9(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!$3(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!hv(i.startAt,t.startAt)&&hv(i.endAt,t.endAt)}function jf(i){return lt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function qf(i,t){return i.filters.filter((e=>e instanceof Pt&&e.field.isEqual(t)))}function fv(i,t,e){let r=bf,a=!0;for(const l of qf(i,t)){let c=bf,d=!0;switch(l.op){case"<":case"<=":c=_9(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=bf}lv({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(e!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(t)){const c=e.position[l];lv({value:r,inclusive:a},{value:c,inclusive:e.inclusive})<0&&(r=c,a=e.inclusive);break}}return{value:r,inclusive:a}}function dv(i,t,e){let r=ts,a=!0;for(const l of qf(i,t)){let c=ts,d=!0;switch(l.op){case">=":case">":c=v9(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ts}uv({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(e!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(t)){const c=e.position[l];uv({value:r,inclusive:a},{value:c,inclusive:e.inclusive})>0&&(r=c,a=e.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t,e=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tE(i,t,e,r,a,l,c,d){return new pi(i,t,e,r,a,l,c,d)}function ml(i){return new pi(i)}function mv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function a1(i){return i.collectionGroup!==null}function Uo(i){const t=ct(i);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Zt(fe.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new cc(l,r))})),e.has(fe.keyField().canonicalString())||t.Ie.push(new cc(fe.keyField(),r))}return t.Ie}function _n(i){const t=ct(i);return t.Ee||(t.Ee=x9(t,Uo(i))),t.Ee}function x9(i,t){if(i.limitType==="F")return mp(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cc(a.field,l)}));const e=i.endAt?new ds(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new ds(i.startAt.position,i.startAt.inclusive):null;return mp(i.path,i.collectionGroup,t,i.filters,i.limit,e,r)}}function gp(i,t){const e=i.filters.concat([t]);return new pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Ff(i,t,e){return new pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Rc(i,t){return Sc(_n(i),_n(t))&&i.limitType===t.limitType}function eE(i){return`${ba(_n(i))}|lt:${i.limitType}`}function ko(i){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>Z3(a))).join(", ")}]`),wc(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>tl(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>tl(a))).join(",")),`Target(${r})`})(_n(i))}; limitType=${i.limitType})`}function Ic(i,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):lt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,t)&&(function(r,a){for(const l of Uo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,t)&&(function(r,a){return!(r.startAt&&!(function(c,d,m){const p=cv(c,d,m);return c.inclusive?p<=0:p<0})(r.startAt,Uo(r),a)||r.endAt&&!(function(c,d,m){const p=cv(c,d,m);return c.inclusive?p>=0:p>0})(r.endAt,Uo(r),a))})(i,t)}function nE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rE(i){return(t,e)=>{let r=!1;for(const a of Uo(i)){const l=D9(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function D9(i,t,e){const r=i.field.isKeyField()?lt.comparator(t.key,e.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?fs(m,p):dt(42886)})(i.field,t,e);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Es(this.inner,((e,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return L3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new oe(lt.comparator);function Sn(){return C9}const iE=new oe(lt.comparator);function zu(...i){let t=iE;for(const e of i)t=t.insert(e.key,e);return t}function sE(i){let t=iE;return i.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Dr(){return Yu()}function aE(){return Yu()}function Yu(){return new yi((i=>i.toString()),((i,t)=>i.isEqual(t)))}const V9=new oe(lt.comparator),N9=new Zt(lt.comparator);function It(...i){let t=N9;for(const e of i)t=t.add(e);return t}const M9=new Zt(Rt);function o1(){return M9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(t)?"-0":t}}function oE(i){return{integerValue:""+i}}function lE(i,t){return R3(t)?oE(t):l1(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function O9(i,t,e){return i instanceof nl?(function(a,l){const c={fields:{[U3]:{stringValue:B3},[q3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ld(l)&&(l=ud(l)),l&&(c.fields[j3]=l),{mapValue:c}})(e,t):i instanceof wa?cE(i,t):i instanceof Aa?hE(i,t):(function(a,l){const c=uE(a,l),d=gv(c)+gv(a.Ae);return hp(c)&&hp(a.Ae)?oE(d):l1(a.serializer,d)})(i,t)}function P9(i,t,e){return i instanceof wa?cE(i,t):i instanceof Aa?hE(i,t):e}function uE(i,t){return i instanceof rl?(function(r){return hp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class nl extends hd{}class wa extends hd{constructor(t){super(),this.elements=t}}function cE(i,t){const e=fE(t);for(const r of i.elements)e.some((a=>Or(a,r)))||e.push(r);return{arrayValue:{values:e}}}class Aa extends hd{constructor(t){super(),this.elements=t}}function hE(i,t){let e=fE(t);for(const r of i.elements)e=e.filter((a=>!Or(a,r)));return{arrayValue:{values:e}}}class rl extends hd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function gv(i){return he(i.integerValue||i.doubleValue)}function fE(i){return uc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,e){this.field=t,this.transform=e}}function k9(i,t){return i.field.isEqual(t.field)&&(function(r,a){return r instanceof wa&&a instanceof wa||r instanceof Aa&&a instanceof Aa?Ko(r.elements,a.elements,Or):r instanceof rl&&a instanceof rl?Or(r.Ae,a.Ae):r instanceof nl&&a instanceof nl})(i.transform,t.transform)}class L9{constructor(t,e){this.version=t,this.transformResults=e}}class de{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new de}static exists(t){return new de(void 0,t)}static updateTime(t){return new de(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class fd{}function dE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new pl(i.key,de.none()):new gl(i.key,i.data,de.none());{const e=i.data,r=en.empty();let a=new Zt(fe.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new _i(i.key,r,new An(a.toArray()),de.none())}}function z9(i,t,e){i instanceof gl?(function(a,l,c){const d=a.value.clone(),m=yv(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,t,e):i instanceof _i?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=yv(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(mE(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,t,e):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function $u(i,t,e,r){return i instanceof gl?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=l.value.clone(),_=_v(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(i,t,e,r):i instanceof _i?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=_v(l.fieldTransforms,m,c),_=c.data;return _.setAll(mE(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,t,e,r):(function(l,c,d){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,t,e)}function B9(i,t){let e=null;for(const r of i.fieldTransforms){const a=t.data.field(r.field),l=uE(r.transform,a||null);l!=null&&(e===null&&(e=en.empty()),e.set(r.field,l))}return e||null}function pv(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ko(r,a,((l,c)=>k9(l,c)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class gl extends fd{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _i extends fd{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mE(i){const t=new Map;return i.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=i.data.field(e);t.set(e,r)}})),t}function yv(i,t,e){const r=new Map;gt(i.length===e.length,32656,{Re:e.length,Ve:i.length});for(let a=0;a<e.length;a++){const l=i[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,P9(c,d,e[a]))}return r}function _v(i,t,e){const r=new Map;for(const a of i){const l=a.transform,c=e.data.field(a.field);r.set(a.field,O9(l,c,t))}return r}class pl extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u1 extends fd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&z9(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=$u(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=$u(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=aE();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=dE(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),It())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,((e,r)=>pv(e,r)))&&Ko(this.baseMutations,t.baseMutations,((e,r)=>pv(e,r)))}}class h1{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return V9})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new h1(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,Ut;function gE(i){switch(i){case Q.OK:return dt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt(15467,{code:i})}}function pE(i){if(i===void 0)return Ae("GRPC error has no .code"),Q.UNKNOWN;switch(i){case Ve.OK:return Q.OK;case Ve.CANCELLED:return Q.CANCELLED;case Ve.UNKNOWN:return Q.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return Q.INTERNAL;case Ve.UNAVAILABLE:return Q.UNAVAILABLE;case Ve.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ve.NOT_FOUND:return Q.NOT_FOUND;case Ve.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ve.ABORTED:return Q.ABORTED;case Ve.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ve.DATA_LOSS:return Q.DATA_LOSS;default:return dt(39323,{code:i})}}(Ut=Ve||(Ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new is([4294967295,4294967295],0);function vv(i){const t=yE().encode(i),e=new u3;return e.update(t),new Uint8Array(e.digest())}function Ev(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new is([e,r],0),new is([a,l],0)]}class d1{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Bu(`Invalid padding: ${e}`);if(r<0)throw new Bu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=is.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(is.fromNumber(r)));return a.compare(j9)===1&&(a=new is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=vv(t),[r,a]=Ev(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new d1(l,a,e);return r.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const e=vv(t),[r,a]=Ev(e);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Cc.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Dc(pt.min(),a,new oe(Rt),Sn(),It())}}class Cc{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Cc(r,e,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class _E{constructor(t,e){this.targetId=t,this.Ce=e}}class vE{constructor(t,e,r=Ee.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class Tv{constructor(){this.ve=0,this.Fe=bv(),this.Me=Ee.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),e=It(),r=It();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:dt(38017,{changeType:l})}})),new Cc(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=bv()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class q9{constructor(t){this.Ge=t,this.ze=new Map,this.je=Sn(),this.Je=hf(),this.He=hf(),this.Ye=new oe(Rt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(jf(l))if(r===0){const c=new lt(l.path);this.et(e,c,le.newNoDocument(c,pt.min()))}else gt(r===1,20013,{expectedCount:r});else{const c=this._t(e);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=mi(r).toUint8Array()}catch(m){if(m instanceof z3)return Mr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new d1(c,a,l)}catch(m){return Mr(m instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jf(d.target)){const m=new lt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,le.newNoDocument(m,t))}l.Be&&(e.set(c,l.ke()),l.qe())}}));let r=It();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Dc(t,e,this.Ye,this.je,r);return this.je=Sn(),this.Je=hf(),this.He=hf(),this.Ye=new oe(Rt),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Tv,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Zt(Rt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Zt(Rt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||rt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Tv),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function hf(){return new oe(lt.comparator)}function bv(){return new oe(lt.comparator)}const F9={asc:"ASCENDING",desc:"DESCENDING"},H9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G9={and:"AND",or:"OR"};class Q9{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pp(i,t){return i.useProto3Json||wc(t)?t:{value:t}}function il(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function K9(i,t){return il(i,t.toTimestamp())}function Se(i){return gt(!!i,49232),pt.fromTimestamp((function(e){const r=di(e);return new Qt(r.seconds,r.nanos)})(i))}function m1(i,t){return yp(i,t).canonicalString()}function yp(i,t){const e=(function(a){return new Ot(["projects",a.projectId,"databases",a.database])})(i).child("documents");return t===void 0?e:e.child(t)}function TE(i){const t=Ot.fromString(i);return gt(VE(t),10190,{key:t.toString()}),t}function hc(i,t){return m1(i.databaseId,t.path)}function Vr(i,t){const e=TE(t);if(e.get(1)!==i.databaseId.projectId)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new et(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new lt(AE(e))}function bE(i,t){return m1(i.databaseId,t)}function wE(i){const t=TE(i);return t.length===4?Ot.emptyPath():AE(t)}function _p(i){return new Ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function AE(i){return gt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function wv(i,t,e){return{name:hc(i,t),fields:e.value.mapValue.fields}}function SE(i,t,e){const r=Vr(i,t.name),a=Se(t.updateTime),l=t.createTime?Se(t.createTime):pt.min(),c=new en({mapValue:{fields:t.fields}}),d=le.newFoundDocument(r,a,l,c);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function Y9(i,t){return"found"in t?(function(r,a){gt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Vr(r,a.found.name),c=Se(a.found.updateTime),d=a.found.createTime?Se(a.found.createTime):pt.min(),m=new en({mapValue:{fields:a.found.fields}});return le.newFoundDocument(l,c,d,m)})(i,t):"missing"in t?(function(r,a){gt(!!a.missing,3894),gt(!!a.readTime,22933);const l=Vr(r,a.missing),c=Se(a.readTime);return le.newNoDocument(l,c)})(i,t):dt(7234,{result:t})}function $9(i,t){let e;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(gt(_===void 0||typeof _=="string",58123),Ee.fromBase64String(_||"")):(gt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ee.fromUint8Array(_||new Uint8Array))})(i,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(p){const _=p.code===void 0?Q.UNKNOWN:pE(p.code);return new et(_,p.message||"")})(c);e=new vE(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vr(i,r.document.name),l=Se(r.document.updateTime),c=r.document.createTime?Se(r.document.createTime):pt.min(),d=new en({mapValue:{fields:r.document.fields}}),m=le.newFoundDocument(a,l,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];e=new Rf(p,_,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Vr(i,r.document),l=r.readTime?Se(r.readTime):pt.min(),c=le.newNoDocument(a,l),d=r.removedTargetIds||[];e=new Rf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Vr(i,r.document),l=r.removedTargetIds||[];e=new Rf([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new U9(a,l),d=r.targetId;e=new _E(d,c)}}return e}function fc(i,t){let e;if(t instanceof gl)e={update:wv(i,t.key,t.value)};else if(t instanceof pl)e={delete:hc(i,t.key)};else if(t instanceof _i)e={update:wv(i,t.key,t.data),updateMask:e7(t.fieldMask)};else{if(!(t instanceof u1))return dt(16599,{Vt:t.type});e={verify:hc(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof nl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Aa)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rl)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw dt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:K9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)})(i,t.precondition)),e}function vp(i,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?de.updateTime(Se(l.updateTime)):l.exists!==void 0?de.exists(l.exists):de.none()})(t.currentDocument):de.none(),r=t.updateTransforms?t.updateTransforms.map((a=>(function(c,d){let m=null;if("setToServerValue"in d)gt(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new nl;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new wa(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new Aa(_)}else"increment"in d?m=new rl(c,d.increment):dt(16584,{proto:d});const p=fe.fromServerFormat(d.fieldPath);return new xc(p,m)})(i,a))):[];if(t.update){t.update.name;const a=Vr(i,t.update.name),l=new en({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=(function(m){const p=m.fieldPaths||[];return new An(p.map((_=>fe.fromServerFormat(_))))})(t.updateMask);return new _i(a,l,c,e,r)}return new gl(a,l,e,r)}if(t.delete){const a=Vr(i,t.delete);return new pl(a,e)}if(t.verify){const a=Vr(i,t.verify);return new u1(a,e)}return dt(1463,{proto:t})}function X9(i,t){return i&&i.length>0?(gt(t!==void 0,14353),i.map((e=>(function(a,l){let c=a.updateTime?Se(a.updateTime):Se(l);return c.isEqual(pt.min())&&(c=Se(l)),new L9(c,a.transformResults||[])})(e,t)))):[]}function RE(i,t){return{documents:[bE(i,t.path)]}}function IE(i,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=bE(i,a);const l=(function(p){if(p.length!==0)return CE(Xt.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(w){return{field:Lo(w.field),direction:J9(w.dir)}})(_)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=pp(i,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function xE(i){let t=wE(i.parent);const e=i.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){gt(r===1,65062);const _=e.from[0];_.allDescendants?a=_.collectionId:t=t.child(_.collectionId)}let l=[];e.where&&(l=(function(T){const w=DE(T);return w instanceof Xt&&s1(w)?w.getFilters():[w]})(e.where));let c=[];e.orderBy&&(c=(function(T){return T.map((w=>(function(j){return new cc(zo(j.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(e.orderBy));let d=null;e.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,wc(w)?null:w})(e.limit));let m=null;e.startAt&&(m=(function(T){const w=!!T.before,D=T.values||[];return new ds(D,w)})(e.startAt));let p=null;return e.endAt&&(p=(function(T){const w=!T.before,D=T.values||[];return new ds(D,w)})(e.endAt)),tE(t,a,c,l,d,"F",m,p)}function Z9(i,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function DE(i){return i.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=zo(e.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(e.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(e.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(e.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(i):i.fieldFilter!==void 0?(function(e){return Pt.create(zo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(e){return Xt.create(e.compositeFilter.filters.map((r=>DE(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(i):dt(30097,{filter:i})}function J9(i){return F9[i]}function W9(i){return H9[i]}function t7(i){return G9[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function zo(i){return fe.fromServerFormat(i.fieldPath)}function CE(i){return i instanceof Pt?(function(e){if(e.op==="=="){if(ov(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NAN"}};if(av(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ov(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NAN"}};if(av(e.value))return{unaryFilter:{field:Lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(e.field),op:W9(e.op),value:e.value}}})(i):i instanceof Xt?(function(e){const r=e.getFilters().map((a=>CE(a)));return r.length===1?r[0]:{compositeFilter:{op:t7(e.op),filters:r}}})(i):dt(54877,{filter:i})}function e7(i){const t=[];return i.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function VE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,e,r,a,l=pt.min(),c=pt.min(),d=Ee.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new li(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t){this.yt=t}}function n7(i,t){let e;if(t.document)e=SE(i.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=lt.fromSegments(t.noDocument.path),a=Ra(t.noDocument.readTime);e=le.newNoDocument(r,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const r=lt.fromSegments(t.unknownDocument.path),a=Ra(t.unknownDocument.version);e=le.newUnknownDocument(r,a)}}return t.readTime&&e.setReadTime((function(a){const l=new Qt(a[0],a[1]);return pt.fromTimestamp(l)})(t.readTime)),e}function Av(i,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Hf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(l,c){return{name:hc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:il(l,c.version.toTimestamp()),createTime:il(l,c.createTime.toTimestamp())}})(i.yt,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:Sa(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});r.unknownDocument={path:e.path.toArray(),version:Sa(t.version)}}return r}function Hf(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function Sa(i){const t=i.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ra(i){const t=new Qt(i.seconds,i.nanoseconds);return pt.fromTimestamp(t)}function fa(i,t){const e=(t.baseMutations||[]).map((l=>vp(i.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const c=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const d=t.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const r=t.mutations.map((l=>vp(i.yt,l))),a=Qt.fromMillis(t.localWriteTimeMs);return new c1(t.batchId,a,e,r)}function Uu(i){const t=Ra(i.readTime),e=i.lastLimboFreeSnapshotVersion!==void 0?Ra(i.lastLimboFreeSnapshotVersion):pt.min();let r;return r=(function(l){return l.documents!==void 0})(i.query)?(function(l){const c=l.documents.length;return gt(c===1,1966,{count:c}),_n(ml(wE(l.documents[0])))})(i.query):(function(l){return _n(xE(l))})(i.query),new li(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,t,e,Ee.fromBase64String(i.resumeToken))}function ME(i,t){const e=Sa(t.snapshotVersion),r=Sa(t.lastLimboFreeSnapshotVersion);let a;a=jf(t.target)?RE(i.yt,t.target):IE(i.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ba(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function g1(i){const t=xE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ff(t,t.limit,"L"):t}function Fg(i,t){return new f1(t.largestBatchId,vp(i.yt,t.overlayMutation))}function Sv(i,t){const e=t.path.lastSegment();return[i,cn(t.path.popLast()),e]}function Rv(i,t,e,r){return{indexId:i,uid:t,sequenceNumber:e,readTime:Sa(r.readTime),documentKey:cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{getBundleMetadata(t,e){return Iv(t).get(e).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Ra(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(t,e){return Iv(t).put((function(a){return{bundleId:a.id,createTime:Sa(Se(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return xv(t).get(e).next((r=>{if(r)return(function(l){return{name:l.name,query:g1(l.bundledQuery),readTime:Ra(l.readTime)}})(r)}))}saveNamedQuery(t,e){return xv(t).put((function(a){return{name:a.name,readTime:Sa(Se(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function Iv(i){return Be(i,sd)}function xv(i){return Be(i,ad)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const r=e.uid||"";return new dd(t,r)}getOverlay(t,e){return Nu(t).get(Sv(this.userId,e)).next((r=>r?Fg(this.serializer,r):null))}getOverlays(t,e){const r=Dr();return B.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,e,r){const a=[];return r.forEach(((l,c)=>{const d=new f1(e,c);a.push(this.St(t,d))})),B.waitFor(a)}removeOverlaysForBatchId(t,e,r){const a=new Set;e.forEach((c=>a.add(cn(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Nu(t).Z(op,d))})),B.waitFor(l)}getOverlaysForCollection(t,e,r){const a=Dr(),l=cn(e),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Nu(t).J(op,c).next((d=>{for(const m of d){const p=Fg(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,r,a){const l=Dr();let c;const d=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Nu(t).ee({index:N3,range:d},((m,p,_)=>{const T=Fg(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()})).next((()=>l))}St(t,e){return Nu(t).put((function(a,l,c){const[d,m,p]=Sv(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:fc(a.yt,c.mutation)}})(this.serializer,this.userId,e))}}function Nu(i){return Be(i,od)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{bt(t){return Be(t,e1)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const r=e?.value;return r?Ee.fromUint8Array(r):Ee.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(he(t.integerValue));else if("doubleValue"in t){const r=he(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),rc(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=di(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(mi(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?H3(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):cd(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):dt(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const r=t.fields||{};this.Ft(e,55);for(const a of Object.keys(r))this.Ot(a,e),this.Ct(r[a],e)}kt(t,e){const r=t.fields||{};this.Ft(e,53);const a=Wo,l=r[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(he(l)),this.Ot(a,e),this.Ct(r[a],e)}Qt(t,e){const r=t.values||[];this.Ft(e,50);for(const a of r)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),lt.fromName(t).path.forEach((r=>{this.Ft(e,60),this.Ut(r,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}da.Kt=new da;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=255;function s7(i){if(i===0)return 8;let t=0;return i>>4||(t+=4,i<<=4),i>>6||(t+=2,i<<=2),i>>7||(t+=1),t}function Dv(i){const t=64-(function(r){let a=0;for(let l=0;l<8;++l){const c=s7(255&r[l]);if(a+=c,c!==8)break}return a})(i);return Math.ceil(t/8)}class a7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Gt(r.value),r=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Jt(r.value),r=e.next();this.Ht()}Yt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=e.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(t){const e=this.en(t),r=Dv(e);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),r=Dv(e);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=e.length-r;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(Vo),this.sn(255)}_n(){this.an(Vo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(t),r=!!(128&e[0]);e[0]^=r?255:128;for(let a=1;a<e.length;++a)e[a]^=r?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===Vo?(this.sn(Vo),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===Vo?(this.an(Vo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class o7{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class l7{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Mu{constructor(){this.cn=new a7,this.ln=new o7(this.cn),this.hn=new l7(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e,r,a){this.Tn=t,this.In=e,this.En=r,this.dn=a}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.dn,0),e!==t?r.set([0],this.dn.length):++r[r.length-1],new ma(this.Tn,this.In,this.En,r)}Rn(t,e,r){return{indexId:this.Tn,uid:t,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(e),documentKey:r.path.toArray()}}Vn(t,e,r){const a=this.Rn(t,e,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function $i(i,t){let e=i.Tn-t.Tn;return e!==0?e:(e=Cv(i.En,t.En),e!==0?e:(e=Cv(i.dn,t.dn),e!==0?e:lt.comparator(i.In,t.In)))}function Cv(i,t){for(let e=0;e<i.length&&e<t.length;++e){const r=i[e]-t[e];if(r!==0)return r}return i.length-t.length}function If(i){return K4()?(function(e){let r="";for(let a=0;a<e.length;a++)r+=String.fromCharCode(e[a]);return r})(i):i}function Vv(i){return typeof i!="string"?i:(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(i)}class Nv{constructor(t){this.mn=new Zt(((e,r)=>fe.comparator(e.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const r=e;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(gt(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=ip(t);if(e!==void 0&&!this.wn(e))return!1;const r=ua(t);let a=new Set,l=0,c=0;for(;l<r.length&&this.wn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=r[l];if(!this.Sn(d,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let t=new Zt(fe.comparator);const e=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new vf(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new vf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new vf(r.field,r.dir==="asc"?0:1)));return new Lf(Lf.UNKNOWN_ID,this.collectionId,e,nc.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i){if(gt(i instanceof Pt||i instanceof Xt,20012),i instanceof Pt){if(i instanceof W3){const e=i.value.arrayValue?.values?.map((r=>Pt.create(i.field,"==",r)))||[];return Xt.create(e,"or")}return i}const t=i.filters.map((e=>OE(e)));return Xt.create(t,i.op)}function u7(i){if(i.getFilters().length===0)return[];const t=bp(OE(i));return gt(PE(t),7391),Ep(t)||Tp(t)?[t]:t.getFilters()}function Ep(i){return i instanceof Pt}function Tp(i){return i instanceof Xt&&s1(i)}function PE(i){return Ep(i)||Tp(i)||(function(e){if(e instanceof Xt&&fp(e)){for(const r of e.getFilters())if(!Ep(r)&&!Tp(r))return!1;return!0}return!1})(i)}function bp(i){if(gt(i instanceof Pt||i instanceof Xt,34018),i instanceof Pt)return i;if(i.filters.length===1)return bp(i.filters[0]);const t=i.filters.map((r=>bp(r)));let e=Xt.create(t,i.op);return e=Gf(e),PE(e)?e:(gt(e instanceof Xt,64498),gt(el(e),40251),gt(e.filters.length>1,57927),e.filters.reduce(((r,a)=>p1(r,a))))}function p1(i,t){let e;return gt(i instanceof Pt||i instanceof Xt,38388),gt(t instanceof Pt||t instanceof Xt,25473),e=i instanceof Pt?t instanceof Pt?(function(a,l){return Xt.create([a,l],"and")})(i,t):Mv(i,t):t instanceof Pt?Mv(t,i):(function(a,l){if(gt(a.filters.length>0&&l.filters.length>0,48005),el(a)&&el(l))return X3(a,l.getFilters());const c=fp(a)?a:l,d=fp(a)?l:a,m=c.filters.map((p=>p1(p,d)));return Xt.create(m,"or")})(i,t),Gf(e)}function Mv(i,t){if(el(t))return X3(t,i.getFilters());{const e=t.filters.map((r=>p1(i,r)));return Xt.create(e,"or")}}function Gf(i){if(gt(i instanceof Pt||i instanceof Xt,11850),i instanceof Pt)return i;const t=i.getFilters();if(t.length===1)return Gf(t[0]);if(Y3(i))return i;const e=t.map((a=>Gf(a))),r=[];return e.forEach((a=>{a instanceof Pt?r.push(a):a instanceof Xt&&(a.op===i.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:Xt.create(r,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.Cn=new y1}addToCollectionParentIndex(t,e){return this.Cn.add(e),B.resolve()}getCollectionParents(t,e){return B.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return B.resolve()}deleteFieldIndex(t,e){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,e){return B.resolve()}getDocumentsMatchingTarget(t,e){return B.resolve(null)}getIndexType(t,e){return B.resolve(0)}getFieldIndexes(t,e){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,e){return B.resolve(Ln.min())}getMinOffsetFromCollectionGroup(t,e){return B.resolve(Ln.min())}updateCollectionGroup(t,e,r){return B.resolve()}updateIndexEntries(t,e){return B.resolve()}}class y1{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Zt(Ot.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Zt(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="IndexedDbIndexManager",ff=new Uint8Array(0);class h7{constructor(t,e){this.databaseId=e,this.vn=new y1,this.Fn=new yi((r=>ba(r)),((r,a)=>Sc(r,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const r=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const l={collectionId:r,parent:cn(a)};return Pv(t).put(l)}return B.resolve()}getCollectionParents(t,e){const r=[],a=IDBKeyRange.bound([e,""],[y3(e),""],!1,!0);return Pv(t).J(a).next((l=>{for(const c of l){if(c.collectionId!==e)break;r.push(xr(c.parent))}return r}))}addFieldIndex(t,e){const r=Ou(t),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=r.add(a);if(e.indexState){const c=Mo(t);return l.next((d=>{c.put(Rv(d,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const r=Ou(t),a=Mo(t),l=No(t);return r.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=Ou(t),r=No(t),a=Mo(t);return e.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(t,e){return B.forEach(this.Mn(e),(r=>this.getIndexType(t,r).next((a=>{if(a===0||a===1){const l=new Nv(r).Dn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const r=No(t);let a=!0;const l=new Map;return B.forEach(this.Mn(e),(c=>this.xn(t,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=It();const d=[];return B.forEach(l,((m,p)=>{rt(Ov,`Using index ${(function(it){return`id=${it.indexId}|cg=${it.collectionGroup}|f=${it.fields.map((vt=>`${vt.fieldPath}:${vt.kind}`)).join(",")}`})(m)} to execute ${ba(e)}`);const _=(function(it,vt){const ft=ip(vt);if(ft===void 0)return null;for(const Tt of qf(it,ft.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null})(p,m),T=(function(it,vt){const ft=new Map;for(const Tt of ua(vt))for(const V of qf(it,Tt.fieldPath))switch(V.op){case"==":case"in":ft.set(Tt.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return ft.set(Tt.fieldPath.canonicalString(),V.value),Array.from(ft.values())}return null})(p,m),w=(function(it,vt){const ft=[];let Tt=!0;for(const V of ua(vt)){const S=V.kind===0?fv(it,V.fieldPath,it.startAt):dv(it,V.fieldPath,it.startAt);ft.push(S.value),Tt&&(Tt=S.inclusive)}return new ds(ft,Tt)})(p,m),D=(function(it,vt){const ft=[];let Tt=!0;for(const V of ua(vt)){const S=V.kind===0?dv(it,V.fieldPath,it.endAt):fv(it,V.fieldPath,it.endAt);ft.push(S.value),Tt&&(Tt=S.inclusive)}return new ds(ft,Tt)})(p,m),j=this.On(m,p,w),K=this.On(m,p,D),q=this.Nn(m,p,T),st=this.Bn(m.indexId,_,j,w.inclusive,K,D.inclusive,q);return B.forEach(st,(W=>r.Y(W,e.limit).next((it=>{it.forEach((vt=>{const ft=lt.fromSegments(vt.documentKey);c.has(ft)||(c=c.add(ft),d.push(ft))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=u7(Xt.create(t.filters,"and")).map((r=>mp(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,r,a,l,c,d){const m=(e!=null?e.length:1)*Math.max(r.length,l.length),p=m/(e!=null?e.length:1),_=[];for(let T=0;T<m;++T){const w=e?this.Ln(e[T/p]):ff,D=this.kn(t,w,r[T%p],a),j=this.qn(t,w,l[T%p],c),K=d.map((q=>this.kn(t,w,q,!0)));_.push(...this.createRange(D,j,K))}return _}kn(t,e,r,a){const l=new ma(t,lt.empty(),e,r);return a?l:l.An()}qn(t,e,r,a){const l=new ma(t,lt.empty(),e,r);return a?l.An():l}xn(t,e){const r=new Nv(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let c=null;for(const d of l)r.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(t,e){let r=2;const a=this.Mn(e);return B.forEach(a,(l=>this.xn(t,l).next((c=>{c?r!==0&&c.fields.length<(function(m){let p=new Zt(fe.comparator),_=!1;for(const T of m.filters)for(const w of T.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:p=p.add(w.field));for(const T of m.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(_?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(e)&&a.length>1&&r===2?1:r))}Qn(t,e){const r=new Mu;for(const a of ua(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const c=r.Pn(a.kind);da.Kt.Dt(l,c)}return r.un()}Ln(t){const e=new Mu;return da.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const r=new Mu;return da.Kt.Dt(Ta(this.databaseId,e),r.Pn((function(l){const c=ua(l);return c.length===0?0:c[c.length-1].kind})(t))),r.un()}Nn(t,e,r){if(r===null)return[];let a=[];a.push(new Mu);let l=0;for(const c of ua(t)){const d=r[l++];for(const m of a)if(this.Un(e,c.fieldPath)&&uc(d))a=this.Kn(a,c,d);else{const p=m.Pn(c.kind);da.Kt.Dt(d,p)}}return this.Wn(a)}On(t,e,r){return this.Nn(t,e,r.position)}Wn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].un();return e}Kn(t,e,r){const a=[...t],l=[];for(const c of r.arrayValue.values||[])for(const d of a){const m=new Mu;m.seed(d.un()),da.Kt.Dt(c,m.Pn(e.kind)),l.push(m)}return l}Un(t,e){return!!t.filters.find((r=>r instanceof Pt&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,e){const r=Ou(t),a=Mo(t);return(e?r.J(ap,IDBKeyRange.bound(e,e)):r.J()).next((l=>{const c=[];return B.forEach(l,(d=>a.get([d.indexId,this.uid]).next((m=>{c.push((function(_,T){const w=T?new nc(T.sequenceNumber,new Ln(Ra(T.readTime),new lt(xr(T.documentKey)),T.largestBatchId)):nc.empty(),D=_.fields.map((([j,K])=>new vf(fe.fromServerFormat(j),K)));return new Lf(_.indexId,_.collectionGroup,D,w)})(d,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Rt(r.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,r){const a=Ou(t),l=Mo(t);return this.Gn(t).next((c=>a.J(ap,IDBKeyRange.bound(e,e)).next((d=>B.forEach(d,(m=>l.put(Rv(m.indexId,this.uid,c,r))))))))}updateIndexEntries(t,e){const r=new Map;return B.forEach(e,((a,l)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(t,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),B.forEach(d,(m=>this.zn(t,a,m).next((p=>{const _=this.jn(l,m);return p.isEqual(_)?B.resolve():this.Jn(t,l,m,p,_)})))))))}))}Hn(t,e,r,a){return No(t).put(a.Rn(this.uid,this.$n(r,e.key),e.key))}Yn(t,e,r,a){return No(t).delete(a.Vn(this.uid,this.$n(r,e.key),e.key))}zn(t,e,r){const a=No(t);let l=new Zt($i);return a.ee({index:V3,range:IDBKeyRange.only([r.indexId,this.uid,If(this.$n(r,e))])},((c,d)=>{l=l.add(new ma(r.indexId,e,Vv(d.arrayValue),Vv(d.directionalValue)))})).next((()=>l))}jn(t,e){let r=new Zt($i);const a=this.Qn(e,t);if(a==null)return r;const l=ip(e);if(l!=null){const c=t.data.field(l.fieldPath);if(uc(c))for(const d of c.arrayValue.values||[])r=r.add(new ma(e.indexId,t.key,this.Ln(d),a))}else r=r.add(new ma(e.indexId,t.key,ff,a));return r}Jn(t,e,r,a,l){rt(Ov,"Updating index entries for document '%s'",e.key);const c=[];return(function(m,p,_,T,w){const D=m.getIterator(),j=p.getIterator();let K=Co(D),q=Co(j);for(;K||q;){let st=!1,W=!1;if(K&&q){const it=_(K,q);it<0?W=!0:it>0&&(st=!0)}else K!=null?W=!0:st=!0;st?(T(q),q=Co(j)):W?(w(K),K=Co(D)):(K=Co(D),q=Co(j))}})(a,l,$i,(d=>{c.push(this.Hn(t,e,r,d))}),(d=>{c.push(this.Yn(t,e,r,d))})),B.waitFor(c)}Gn(t){let e=1;return Mo(t).ee({index:C3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,r){r=r.sort(((c,d)=>$i(c,d))).filter(((c,d,m)=>!d||$i(c,m[d-1])!==0));const a=[];a.push(t);for(const c of r){const d=$i(c,t),m=$i(c,e);if(d===0)a[0]=t.An();else if(d>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(e);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,ff,lt.empty()),m=a[c+1].Vn(this.uid,ff,lt.empty());l.push(IDBKeyRange.bound(d,m))}return l}Zn(t,e){return $i(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(kv)}getMinOffset(t,e){return B.mapArray(this.Mn(e),(r=>this.xn(t,r).next((a=>a||dt(44426))))).next(kv)}}function Pv(i){return Be(i,ac)}function No(i){return Be(i,Qu)}function Ou(i){return Be(i,t1)}function Mo(i){return Be(i,Gu)}function kv(i){gt(i.length!==0,28825);let t=i[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<i.length;r++){const a=i[r].indexState.offset;Zp(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Ln(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i,t,e){const r=i.store(sr),a=i.store($o),l=[],c=IDBKeyRange.only(e.batchId);let d=0;const m=r.ee({range:c},((_,T,w)=>(d++,w.delete())));l.push(m.next((()=>{gt(d===1,47070,{batchId:e.batchId})})));const p=[];for(const _ of e.mutations){const T=I3(t,_.key.path,e.batchId);l.push(a.delete(T)),p.push(_.key)}return B.waitFor(l).next((()=>p))}function Qf(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw dt(14731);t=i.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(kE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class md{constructor(t,e,r,a){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(t,e,r,a){gt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new md(l,e,r,a)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xi(t).ee({index:pa,range:r},((a,l,c)=>{e=!1,c.done()})).next((()=>e))}addMutationBatch(t,e,r,a){const l=Bo(t),c=Xi(t);return c.add({}).next((d=>{gt(typeof d=="number",49019);const m=new c1(d,e,r,a),p=(function(D,j,K){const q=K.baseMutations.map((W=>fc(D.yt,W))),st=K.mutations.map((W=>fc(D.yt,W)));return{userId:j,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:q,mutations:st}})(this.serializer,this.userId,m),_=[];let T=new Zt(((w,D)=>Rt(w.canonicalString(),D.canonicalString())));for(const w of a){const D=I3(this.userId,w.key.path,d);T=T.add(w.key.path.popLast()),_.push(c.put(p)),_.push(l.put(D,GS))}return T.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(t,w))})),t.addOnCommittedListener((()=>{this.Xn[d]=m.keys()})),B.waitFor(_).next((()=>m))}))}lookupMutationBatch(t,e){return Xi(t).get(e).next((r=>r?(gt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:e}),fa(this.serializer,r)):null))}er(t,e){return this.Xn[e]?B.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((r=>{if(r){const a=r.keys();return this.Xn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Xi(t).ee({index:pa,range:a},((c,d,m)=>{d.userId===this.userId&&(gt(d.batchId>=r,47524,{tr:r}),l=fa(this.serializer,d)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=ss;return Xi(t).ee({index:pa,range:e,reverse:!0},((a,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,ss],[this.userId,Number.POSITIVE_INFINITY]);return Xi(t).J(pa,e).next((r=>r.map((a=>fa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Ef(this.userId,e.path),a=IDBKeyRange.lowerBound(r),l=[];return Bo(t).ee({range:a},((c,d,m)=>{const[p,_,T]=c,w=xr(_);if(p===this.userId&&e.path.isEqual(w))return Xi(t).get(T).next((D=>{if(!D)throw dt(61480,{nr:c,batchId:T});gt(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),l.push(fa(this.serializer,D))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Zt(Rt);const a=[];return e.forEach((l=>{const c=Ef(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=Bo(t).ee({range:d},((p,_,T)=>{const[w,D,j]=p,K=xr(D);w===this.userId&&l.path.isEqual(K)?r=r.add(j):T.done()}));a.push(m)})),B.waitFor(a).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1,l=Ef(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new Zt(Rt);return Bo(t).ee({range:c},((m,p,_)=>{const[T,w,D]=m,j=xr(w);T===this.userId&&r.isPrefixOf(j)?j.length===a&&(d=d.add(D)):_.done()})).next((()=>this.rr(t,d)))}rr(t,e){const r=[],a=[];return e.forEach((l=>{a.push(Xi(t).get(l).next((c=>{if(c===null)throw dt(35274,{batchId:l});gt(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(fa(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(t,e){return LE(t.le,this.userId,e).next((r=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Bo(t).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const m=xr(l[1]);a.push(m)}else d.done()})).next((()=>{gt(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return zE(t,this.userId,e)}_r(t){return BE(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:ss,lastStreamToken:""}))}}function zE(i,t,e){const r=Ef(t,e.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Bo(i).ee({range:l,X:!0},((d,m,p)=>{const[_,T,w]=d;_===t&&T===a&&(c=!0),p.done()})).next((()=>c))}function Xi(i){return Be(i,sr)}function Bo(i){return Be(i,$o)}function BE(i){return Be(i,ic)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const r=new Ia(e.highestTargetId);return e.highestTargetId=r.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>pt.fromTimestamp(new Qt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,r){return this.lr(t).next((a=>(a.highestListenSequenceNumber=e,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.hr(t,a))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(e,r),this.hr(t,r))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Oo(t).delete(e.targetId))).next((()=>this.lr(t))).next((r=>(gt(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,e,r){let a=0;const l=[];return Oo(t).ee(((c,d)=>{const m=Uu(d);m.sequenceNumber<=e&&r.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>B.waitFor(l))).next((()=>a))}forEachTarget(t,e){return Oo(t).ee(((r,a)=>{const l=Uu(a);e(l)}))}lr(t){return zv(t).get(Uf).next((e=>(gt(e!==null,2888),e)))}hr(t,e){return zv(t).put(Uf,e)}Pr(t,e){return Oo(t).put(ME(this.serializer,e))}Tr(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const r=ba(e),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Oo(t).ee({range:a,index:D3},((c,d,m)=>{const p=Uu(d);Sc(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,r){const a=[],l=Wi(t);return e.forEach((c=>{const d=cn(c.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(t,r,c))})),B.waitFor(a)}removeMatchingKeys(t,e,r){const a=Wi(t);return B.forEach(e,(l=>{const c=cn(l.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(t,r,l)])}))}removeMatchingKeysForTargetId(t,e){const r=Wi(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),a=Wi(t);let l=It();return a.ee({range:r,X:!0},((c,d,m)=>{const p=xr(c[1]),_=new lt(p);l=l.add(_)})).next((()=>l))}containsKey(t,e){const r=cn(e.path),a=IDBKeyRange.bound([r],[y3(r)],!1,!0);let l=0;return Wi(t).ee({index:Wp,X:!0,range:a},(([c,d],m,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return Oo(t).get(e).next((r=>r?Uu(r):null))}}function Oo(i){return Be(i,Xo)}function zv(i){return Be(i,va)}function Wi(i){return Be(i,Zo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="LruGarbageCollector",d7=1048576;function Uv([i,t],[e,r]){const a=Rt(i,e);return a===0?Rt(t,r):a}class m7{constructor(t){this.Ir=t,this.buffer=new Zt(Uv),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Uv(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class UE{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vs(e)?rt(Bv,"Ignoring IndexedDB error during garbage collection: ",e):await _s(e)}await this.Vr(3e5)}))}}class g7{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return B.resolve(wn.ce);const r=new m7(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Lv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a)))).next((T=>(r=T,d=Date.now(),this.removeTargets(t,r,e)))).next((T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(p=Date.now(),Po()<=kt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function jE(i,t){return new g7(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(t,e){this.db=t,this.garbageCollector=jE(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((r,a)=>e(a)))}addReference(t,e,r){return df(t,r)}removeReference(t,e,r){return df(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return df(t,e)}br(t,e){return(function(a,l){let c=!1;return BE(a).te((d=>zE(a,d,l).next((m=>(m&&(c=!0),B.resolve(!m)))))).next((()=>c))})(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(t,((c,d)=>{if(d<=e){const m=this.br(t,c).next((p=>{if(!p)return l++,r.getEntry(t,c).next((()=>(r.removeEntry(c,pt.min()),Wi(t).delete((function(T){return[0,cn(T.path)]})(c)))))}));a.push(m)}})).next((()=>B.waitFor(a))).next((()=>r.apply(t))).next((()=>l))}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return df(t,e)}Sr(t,e){const r=Wi(t);let a,l=wn.ce;return r.ee({index:Wp},(([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==wn.ce&&e(new lt(xr(a)),l),l=p,a=m):l=wn.ce})).next((()=>{l!==wn.ce&&e(new lt(xr(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function df(i,t){return Wi(i).put((function(r,a){return{targetId:0,path:cn(r.path),sequenceNumber:a}})(t,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.changes=new yi((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?B.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return aa(t).put(r)}removeEntry(t,e,r){return aa(t).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Hf(c),d[d.length-1]]})(e,r))}updateMetadata(t,e){return this.getMetadata(t).next((r=>(r.byteSize+=e,this.Dr(t,r))))}getEntry(t,e){let r=le.newInvalidDocument(e);return aa(t).ee({index:Tf,range:IDBKeyRange.only(Pu(e))},((a,l)=>{r=this.Cr(e,l)})).next((()=>r))}vr(t,e){let r={size:0,document:le.newInvalidDocument(e)};return aa(t).ee({index:Tf,range:IDBKeyRange.only(Pu(e))},((a,l)=>{r={document:this.Cr(e,l),size:Qf(l)}})).next((()=>r))}getEntries(t,e){let r=Sn();return this.Fr(t,e,((a,l)=>{const c=this.Cr(a,l);r=r.insert(a,c)})).next((()=>r))}Mr(t,e){let r=Sn(),a=new oe(lt.comparator);return this.Fr(t,e,((l,c)=>{const d=this.Cr(l,c);r=r.insert(l,d),a=a.insert(l,Qf(c))})).next((()=>({documents:r,Or:a})))}Fr(t,e,r){if(e.isEmpty())return B.resolve();let a=new Zt(Fv);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(Pu(a.first()),Pu(a.last())),c=a.getIterator();let d=c.getNext();return aa(t).ee({index:Tf,range:l},((m,p,_)=>{const T=lt.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&Fv(d,T)<0;)r(d,null),d=c.getNext();d&&d.isEqual(T)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?_.j(Pu(d)):_.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(t,e,r,a,l){const c=e.path,d=[c.popLast().toArray(),c.lastSegment(),Hf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aa(t).J(IDBKeyRange.bound(d,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let _=Sn();for(const T of p){const w=this.Cr(lt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);w.isFoundDocument()&&(Ic(e,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(t,e,r,a){let l=Sn();const c=qv(e,r),d=qv(e,Ln.max());return aa(t).ee({index:x3,range:IDBKeyRange.bound(c,d,!0)},((m,p,_)=>{const T=this.Cr(lt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(t){return new _7(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return jv(t).get(sp).next((e=>(gt(!!e,20021),e)))}Dr(t,e){return jv(t).put(sp,e)}Cr(t,e){if(e){const r=n7(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(pt.min())))return r}return le.newInvalidDocument(t)}}function FE(i){return new y7(i)}class _7 extends qE{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new yi((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(t){const e=[];let r=0,a=new Zt(((l,c)=>Rt(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(e.push(this.Nr.removeEntry(t,l,d.readTime)),c.isValidDocument()){const m=Av(this.Nr.serializer,c);a=a.add(l.path.popLast());const p=Qf(m);r+=p-d.size,e.push(this.Nr.addEntry(t,l,m))}else if(r-=d.size,this.trackRemovals){const m=Av(this.Nr.serializer,c.convertToNoDocument(pt.min()));e.push(this.Nr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Nr.updateMetadata(t,r)),B.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((r=>(this.Br.set(e,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:r,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function jv(i){return Be(i,sc)}function aa(i){return Be(i,Bf)}function Pu(i){const t=i.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qv(i,t){const e=t.documentKey.path.toArray();return[i,Hf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Fv(i,t){const e=i.path.toArray(),r=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<r.length-2;++l)if(a=Rt(e[l],r[l]),a)return a;return a=Rt(e.length,r.length),a||(a=Rt(e[e.length-2],r[r.length-2]),a||Rt(e[e.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&$u(r.mutation,a,An.empty(),Qt.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,It()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=It()){const a=Dr();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((l=>{let c=zu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const r=Dr();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,It())))}populateOverlays(t,e,r){const a=[];return r.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{e.set(c,d)}))}))}computeViews(t,e,r,a){let l=Sn();const c=Yu(),d=(function(){return Yu()})();return e.forEach(((m,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof _i)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),$u(_.mutation,p,_.mutation.getFieldMask(),Qt.now())):c.set(p.key,An.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,_)=>c.set(p,_))),e.forEach(((p,_)=>d.set(p,new v7(_,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(t,e){const r=Yu();let a=new oe(((c,d)=>c-d)),l=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let _=r.get(m)||An.empty();_=d.applyToLocalView(p,_),r.set(m,_);const T=(a.get(d.batchId)||It()).add(m);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,T=aE();_.forEach((w=>{if(!l.has(w)){const D=dE(e.get(w),r.get(w));D!==null&&T.set(w,D),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(c){return lt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):a1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):B.resolve(Dr());let d=Yo,m=l;return c.next((p=>B.forEach(p,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(t,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,It()))).next((_=>({batchId:d,changes:sE(_)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new lt(e)).next((r=>{let a=zu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(t,l).next((d=>B.forEach(d,(m=>{const p=(function(T,w){return new pi(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,le.newInvalidDocument(_)))}));let d=zu();return c.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&$u(_.mutation,p,An.empty(),Qt.now()),Ic(e,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return B.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Se(a.createTime)}})(e)),B.resolve()}getNamedQuery(t,e){return B.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:g1(a.bundledQuery),readTime:Se(a.readTime)}})(e)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.overlays=new oe(lt.comparator),this.qr=new Map}getOverlay(t,e){return B.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Dr();return B.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,l)=>{this.St(t,e,l)})),B.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(t,e,r){const a=Dr(),l=e.length+1,c=new lt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return B.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new oe(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=Dr(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Dr(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=a)););return B.resolve(d)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new f1(e,r));let l=this.qr.get(e);l===void 0&&(l=It(),this.qr.set(e,l)),this.qr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.sessionToken=Ee.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Qr=new Zt(Qe.$r),this.Ur=new Zt(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Qe(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Qe(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new lt(new Ot([])),r=new Qe(e,t),a=new Qe(e,t+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new lt(new Ot([])),r=new Qe(e,t),a=new Qe(e,t+1);let l=It();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const e=new Qe(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Qe{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return lt.comparator(t.key,e.key)||Rt(t.Yr,e.Yr)}static Kr(t,e){return Rt(t.Yr,e.Yr)||lt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(Qe.$r)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new c1(l,e,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Qe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(t,e){return B.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),l=a<0?0:a;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?ss:this.tr-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Qe(e,0),a=new Qe(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Zt(Rt);return e.forEach((a=>{const l=new Qe(a,0),c=new Qe(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;lt.isDocumentKey(l)||(l=l.child(""));const c=new Qe(new lt(l),0);let d=new Zt(Rt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){gt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(e.mutations,(a=>{const l=new Qe(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Qe(e,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(t){this.ri=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return B.resolve(r?r.document.mutableCopy():le.newInvalidDocument(e))}getEntries(t,e){let r=Sn();return e.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():le.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=Sn();const c=e.path,d=new lt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Zp(b3(_),r)<=0||(a.has(_.key)||Ic(e,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(t,e,r,a){dt(9500)}ii(t,e){return B.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new S7(this)}getSize(t){return B.resolve(this.size)}}class S7 extends qE{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),B.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(t){this.persistence=t,this.si=new yi((e=>ba(e)),Sc),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new _1,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),B.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Ia(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,B.resolve()}updateTargetData(t,e){return this.Pr(e),B.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),B.waitFor(l).next((()=>a))}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return B.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),B.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),B.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),B.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return B.resolve(r)}containsKey(t,e){return B.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,e){this.ui={},this.overlays={},this.ci=new wn(0),this.li=!1,this.li=!0,this.hi=new b7,this.referenceDelegate=t(this),this.Pi=new R7(this),this.indexManager=new c7,this.remoteDocumentCache=(function(a){return new A7(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new NE(e),this.Ii=new E7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new T7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new w7(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){rt("MemoryPersistence","Starting transaction:",t);const a=new I7(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,e){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class I7 extends A3{constructor(t){super(),this.currentSequenceNumber=t}}class gd{constructor(t){this.persistence=t,this.Ri=new _1,this.Vi=null}static mi(t){return new gd(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),B.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),B.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=lt.fromPath(r);return this.gi(t,a).next((l=>{l||e.removeEntry(a,pt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return B.or([()=>B.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Kf{constructor(t,e){this.persistence=t,this.pi=new yi((r=>cn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=jE(this,e)}static mi(t,e){return new Kf(t,e)}Ei(){}di(t){return B.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return B.forEach(this.pi,((r,a)=>this.br(t,r,a).next((l=>l?B.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((d=>{d||(r++,l.removeEntry(c,pt.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),B.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),B.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=wf(t.data.value)),e}br(t,e,r){return B.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t){this.serializer=t}k(t,e,r,a){const l=new id("createOrUpgrade",e);r<1&&a>=1&&((function(m){m.createObjectStore(Ac)})(t),(function(m){m.createObjectStore(ic,{keyPath:HS}),m.createObjectStore(sr,{keyPath:tv,autoIncrement:!0}).createIndex(pa,ev,{unique:!0}),m.createObjectStore($o)})(t),Hv(t),(function(m){m.createObjectStore(ca)})(t));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(m){m.deleteObjectStore(Zo),m.deleteObjectStore(Xo),m.deleteObjectStore(va)})(t),Hv(t)),c=c.next((()=>(function(m){const p=m.store(va),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return p.put(Uf,_)})(l)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(m,p){return p.store(sr).J().next((T=>{m.deleteObjectStore(sr),m.createObjectStore(sr,{keyPath:tv,autoIncrement:!0}).createIndex(pa,ev,{unique:!0});const w=p.store(sr),D=T.map((j=>w.put(j)));return B.waitFor(D)}))})(t,l)))),c=c.next((()=>{(function(m){m.createObjectStore(Jo,{keyPath:WS})})(t)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(l)))),r<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(sc)})(t),this.wi(l))))),r<7&&a>=7&&(c=c.next((()=>this.Si(l)))),r<8&&a>=8&&(c=c.next((()=>this.bi(t,l)))),r<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(l)))),r<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(sd,{keyPath:t9})})(t),(function(m){m.createObjectStore(ad,{keyPath:e9})})(t)}))),r<12&&a>=12&&(c=c.next((()=>{(function(m){const p=m.createObjectStore(od,{keyPath:l9});p.createIndex(op,u9,{unique:!1}),p.createIndex(N3,c9,{unique:!1})})(t)}))),r<13&&a>=13&&(c=c.next((()=>(function(m){const p=m.createObjectStore(Bf,{keyPath:QS});p.createIndex(Tf,KS),p.createIndex(x3,YS)})(t))).next((()=>this.Ci(t,l))).next((()=>t.deleteObjectStore(ca)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(t,l)))),r<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(t1,{keyPath:n9,autoIncrement:!0}).createIndex(ap,r9,{unique:!1}),m.createObjectStore(Gu,{keyPath:i9}).createIndex(C3,s9,{unique:!1}),m.createObjectStore(Qu,{keyPath:a9}).createIndex(V3,o9,{unique:!1})})(t)))),r<16&&a>=16&&(c=c.next((()=>{e.objectStore(Gu).clear()})).next((()=>{e.objectStore(Qu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(e1,{keyPath:h9})})(t)}))),r<18&&a>=18&&K4()&&(c=c.next((()=>{e.objectStore(Gu).clear()})).next((()=>{e.objectStore(Qu).clear()}))),c}wi(t){let e=0;return t.store(ca).ee(((r,a)=>{e+=Qf(a)})).next((()=>{const r={byteSize:e};return t.store(sc).put(sp,r)}))}yi(t){const e=t.store(ic),r=t.store(sr);return e.J().next((a=>B.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,ss],[l.userId,l.lastAcknowledgedBatchId]);return r.J(pa,c).next((d=>B.forEach(d,(m=>{gt(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=fa(this.serializer,m);return LE(t,l.userId,p).next((()=>{}))}))))}))))}Si(t){const e=t.store(Zo),r=t.store(ca);return t.store(va).get(Uf).next((a=>{const l=[];return r.ee(((c,d)=>{const m=new Ot(c),p=(function(T){return[0,cn(T)]})(m);l.push(e.get(p).next((_=>_?B.resolve():(T=>e.put({targetId:0,path:cn(T),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>B.waitFor(l)))}))}bi(t,e){t.createObjectStore(ac,{keyPath:JS});const r=e.store(ac),a=new y1,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return r.put({collectionId:d,parent:cn(m)})}};return e.store(ca).ee({X:!0},((c,d)=>{const m=new Ot(c);return l(m.popLast())})).next((()=>e.store($o).ee({X:!0},(([c,d,m],p)=>{const _=xr(d);return l(_.popLast())}))))}Di(t){const e=t.store(Xo);return e.ee(((r,a)=>{const l=Uu(a),c=ME(this.serializer,l);return e.put(c)}))}Ci(t,e){const r=e.store(ca),a=[];return r.ee(((l,c)=>{const d=e.store(Bf),m=(function(T){return T.document?new lt(Ot.fromString(T.document.name).popFirst(5)):T.noDocument?lt.fromSegments(T.noDocument.path):T.unknownDocument?lt.fromSegments(T.unknownDocument.path):dt(36783)})(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))})).next((()=>B.waitFor(a)))}Fi(t,e){const r=e.store(sr),a=FE(this.serializer),l=new v1(gd.mi,this.serializer.yt);return r.J().next((c=>{const d=new Map;return c.forEach((m=>{let p=d.get(m.userId)??It();fa(this.serializer,m).keys().forEach((_=>p=p.add(_))),d.set(m.userId,p)})),B.forEach(d,((m,p)=>{const _=new Ke(p),T=dd.wt(this.serializer,_),w=l.getIndexManager(_),D=md.wt(_,this.serializer,w,l.referenceDelegate);return new HE(a,D,T,w).recalculateAndSaveOverlaysForDocumentKeys(new lp(e,wn.ce),m).next()}))}))}}function Hv(i){i.createObjectStore(Zo,{keyPath:XS}).createIndex(Wp,ZS,{unique:!0}),i.createObjectStore(Xo,{keyPath:"targetId"}).createIndex(D3,$S,{unique:!0}),i.createObjectStore(va)}const Zi="IndexedDbPersistence",Hg=18e5,Gg=5e3,Qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",GE="main";class E1{constructor(t,e,r,a,l,c,d,m,p,_,T=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Mi=l,this.window=c,this.document=d,this.xi=p,this.Oi=_,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!E1.v())throw new et(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new p7(this,a),this.$i=e+GE,this.serializer=new NE(m),this.Ui=new Cr(this.$i,this.Ni,new x7(this.serializer)),this.hi=new i7,this.Pi=new f7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=FE(this.serializer),this.Ii=new r7,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&Ae(Zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new et(Q.FAILED_PRECONDITION,Qg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new wn(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>mf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(vs(t))return rt(Zi,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return rt(Zi,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return ku(t).get(Do).next((e=>B.resolve(this.es(e))))}ts(t){return mf(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Hg)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const r=Be(e,Jo);return r.J().next((a=>{const l=this.ss(a,Hg),c=a.filter((d=>l.indexOf(d)===-1));return B.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?B.resolve(!0):ku(t).get(Do).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Gg)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new et(Q.FAILED_PRECONDITION,Qg);return!1}}return!(!this.networkEnabled||!this.inForeground)||mf(t).J().next((r=>this.ss(r,Gg).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&rt(Zi,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ac,Jo],(t=>{const e=new lp(t,wn.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((r=>this.rs(r.updateTimeMs,e)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>mf(t).J().next((e=>this.ss(e,Hg).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return md.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new h7(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return dd.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,r){rt(Zi,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?m9:m===17?k3:m===16?d9:m===15?n1:m===14?P3:m===13?O3:m===12?f9:m===11?M3:void dt(60245)})(this.Ni);let c;return this.Ui.runTransaction(t,a,l,(d=>(c=new lp(d,this.ci?this.ci.next():wn.ce),e==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw Ae(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new et(Q.FAILED_PRECONDITION,w3);return r(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(t){return ku(t).get(Do).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,Gg)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new et(Q.FAILED_PRECONDITION,Qg)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ku(t).put(Do,e)}static v(){return Cr.v()}Zi(t){const e=ku(t);return e.get(Do).next((r=>this.es(r)?(rt(Zi,"Releasing primary lease."),e.delete(Do)):B.resolve()))}rs(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(Ae(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;Q4()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return rt(Zi,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return Ae(Zi,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){Ae("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ku(i){return Be(i,Ac)}function mf(i){return Be(i,Jo)}function T1(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=It(),a=It();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new b1(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Q4()?8:S3(Pf())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.ys(t,e).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(t,e,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new D7;return this.Ss(t,e,c).next((d=>{if(l.result=d,this.Vs)return this.bs(t,e,c,d.size)}))})).next((()=>l.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(Po()<=kt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ko(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Po()<=kt.DEBUG&&rt("QueryEngine","Query:",ko(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Po()<=kt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ko(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,_n(e))):B.resolve())}ys(t,e){if(mv(e))return B.resolve(null);let r=_n(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Ff(e,null,"F"),r=_n(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=It(...l);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,r).next((m=>{const p=this.Ds(e,d);return this.Cs(e,p,c,m.readTime)?this.ys(t,Ff(e,null,"F")):this.vs(t,p,e,m)}))))})))))}ws(t,e,r,a){return mv(e)||a.isEqual(pt.min())?B.resolve(null):this.ps.getDocuments(t,r).next((l=>{const c=this.Ds(e,l);return this.Cs(e,c,r,a)?B.resolve(null):(Po()<=kt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ko(e)),this.vs(t,c,e,T3(a,Yo)).next((d=>d)))}))}Ds(t,e){let r=new Zt(rE(t));return e.forEach(((a,l)=>{Ic(t,l)&&(r=r.add(l))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,r){return Po()<=kt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ko(e)),this.ps.getDocumentsMatchingQuery(t,e,Ln.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((l=>(e.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="LocalStore",C7=3e8;class V7{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new oe(Rt),this.xs=new yi((l=>ba(l)),Sc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function KE(i,t,e,r){return new V7(i,t,e,r)}async function YE(i,t){const e=ct(i);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let m=It();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return e.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function N7(i,t){const e=ct(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,_){const T=p.batch,w=T.keys();let D=B.resolve();return w.forEach((j=>{D=D.next((()=>_.getEntry(m,j))).next((K=>{const q=p.docVersions.get(j);gt(q!==null,48541),K.version.compareTo(q)<0&&(T.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),_.addEntry(K)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(m,T)))})(e,r,t,l).next((()=>l.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=It();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function $E(i){const t=ct(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function M7(i,t){const e=ct(i),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const d=[];t.targetChanges.forEach(((_,T)=>{const w=a.get(T);if(!w)return;d.push(e.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>e.Pi.addMatchingKeys(l,_.addedDocuments,T))));let D=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(Ee.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),a=a.insert(T,D),(function(K,q,st){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=C7?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(w,D,_)&&d.push(e.Pi.updateTargetData(l,D))}));let m=Sn(),p=It();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(XE(l,c,t.documentUpdates).next((_=>{m=_.ks,p=_.qs}))),!r.isEqual(pt.min())){const _=e.Pi.getLastRemoteSnapshotVersion(l).next((T=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(_)}return B.waitFor(d).next((()=>c.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.Ms=a,l)))}function XE(i,t,e){let r=It(),a=It();return e.forEach((l=>r=r.add(l))),t.getEntries(i,r).next((l=>{let c=Sn();return e.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(pt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):rt(w1,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function O7(i,t){const e=ct(i);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ss),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function sl(i,t){const e=ct(i);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((l=>l?(a=l,B.resolve(a)):e.Pi.allocateTargetId(r).next((c=>(a=new li(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function al(i,t,e){const r=ct(i),a=r.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!vs(c))throw c;rt(w1,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Yf(i,t,e){const r=ct(i);let a=pt.min(),l=It();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,_){const T=ct(m),w=T.xs.get(_);return w!==void 0?B.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,_)})(r,c,_n(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,t,e?a:pt.min(),e?l:It()))).next((d=>(WE(r,nE(t),d),{documents:d,Qs:l})))))}function ZE(i,t){const e=ct(i),r=ct(e.Pi),a=e.Ms.get(t);return a?Promise.resolve(a.target):e.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,t).next((c=>c?c.target:null))))}function JE(i,t){const e=ct(i),r=e.Os.get(t)||pt.min();return e.persistence.runTransaction("Get new document changes","readonly",(a=>e.Ns.getAllFromCollectionGroup(a,t,T3(r,Yo),Number.MAX_SAFE_INTEGER))).then((a=>(WE(e,t,a),a)))}function WE(i,t,e){let r=i.Os.get(t)||pt.min();e.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(t,r)}async function P7(i,t,e,r){const a=ct(i);let l=It(),c=Sn();for(const p of e){const _=t.$s(p.metadata.name);p.document&&(l=l.add(_));const T=t.Us(p);T.setReadTime(t.Ks(p.metadata.readTime)),c=c.insert(_,T)}const d=a.Ns.newChangeBuffer({trackRemovals:!0}),m=await sl(a,(function(_){return _n(ml(Ot.fromString(`__bundle__/docs/${_}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(p=>XE(p,d,c).next((_=>(d.apply(p),_))).next((_=>a.Pi.removeMatchingKeysForTargetId(p,m.targetId).next((()=>a.Pi.addMatchingKeys(p,l,m.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(p,_.ks,_.qs))).next((()=>_.ks))))))}async function k7(i,t,e=It()){const r=await sl(i,_n(g1(t.bundledQuery))),a=ct(i);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=Se(t.readTime);if(r.snapshotVersion.compareTo(c)>=0)return a.Ii.saveNamedQuery(l,t);const d=r.withResumeToken(Ee.EMPTY_BYTE_STRING,c);return a.Ms=a.Ms.insert(d.targetId,d),a.Pi.updateTargetData(l,d).next((()=>a.Pi.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>a.Pi.addMatchingKeys(l,e,r.targetId))).next((()=>a.Ii.saveNamedQuery(l,t)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="firestore_clients";function Gv(i,t){return`${t6}_${i}_${t}`}const e6="firestore_mutations";function Qv(i,t,e){let r=`${e6}_${i}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const n6="firestore_targets";function Kg(i,t){return`${n6}_${i}_${t}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="SharedClientState";class $f{constructor(t,e,r,a){this.user=t,this.batchId=e,this.state=r,this.error=a}static Ws(t,e,r){const a=JSON.parse(r);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new et(a.error.code,a.error.message))),c?new $f(t,e,a.state,l):(Ae(Ir,`Failed to parse mutation state for ID '${e}': ${r}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Xu{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Ws(t,e){const r=JSON.parse(e);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new et(r.error.code,r.error.message))),l?new Xu(t,r.state,a):(Ae(Ir,`Failed to parse target state for ID '${t}': ${e}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Xf{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ws(t,e){const r=JSON.parse(e);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=o1();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=R3(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return a?new Xf(t,l):(Ae(Ir,`Failed to parse client data for instance '${t}': ${e}`),null)}}class A1{constructor(t,e){this.clientId=t,this.onlineState=e}static Ws(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new A1(e.clientId,e.onlineState):(Ae(Ir,`Failed to parse online state: ${t}`),null)}}class wp{constructor(){this.activeTargetIds=o1()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yg{constructor(t,e,r,a,l){this.window=t,this.Mi=e,this.persistenceKey=r,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new oe(Rt),this.started=!1,this.Xs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=Gv(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new wp),this.ro=new RegExp(`^${t6}_${c}_([^_]*)$`),this.io=new RegExp(`^${e6}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${n6}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.Ts();for(const r of t){if(r===this.Js)continue;const a=this.getItem(Gv(this.persistenceKey,r));if(a){const l=Xf.Ws(r,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const e=this.storage.getItem(this.oo);if(e){const r=this.uo(e);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.no,JSON.stringify(t))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(t){let e=!1;return this.Zs.forEach(((r,a)=>{a.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.ho(t,"pending")}updateMutationState(t,e,r){this.ho(t,e,r),this.Po(t)}addLocalQueryTarget(t,e=!0){let r="not-current";if(this.isActiveQueryTarget(t)){const a=this.storage.getItem(Kg(this.persistenceKey,t));if(a){const l=Xu.Ws(t,a);l&&(r=l.state)}}return e&&this.To.zs(t),this.ao(),r}removeLocalQueryTarget(t){this.To.js(t),this.ao()}isLocalQueryTarget(t){return this.To.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Kg(this.persistenceKey,t))}updateQueryState(t,e,r){this.Io(t,e,r)}handleUserChange(t,e,r){e.forEach((a=>{this.Po(a)})),this.currentUser=t,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(t){this.Eo(t)}notifyBundleLoaded(t){this.Ao(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return rt(Ir,"READ",t,e),e}setItem(t,e){rt(Ir,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){rt(Ir,"REMOVE",t),this.storage.removeItem(t)}Ys(t){const e=t;if(e.storageArea===this.storage){if(rt(Ir,"EVENT",e.key,e.newValue),e.key===this.eo)return void Ae("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(e.key!==null){if(this.ro.test(e.key)){if(e.newValue==null){const r=this.Ro(e.key);return this.Vo(r,null)}{const r=this.mo(e.key,e.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(e.key)){if(e.newValue!==null){const r=this.fo(e.key,e.newValue);if(r)return this.po(r)}}else if(this.so.test(e.key)){if(e.newValue!==null){const r=this.yo(e.key,e.newValue);if(r)return this.wo(r)}}else if(e.key===this.oo){if(e.newValue!==null){const r=this.uo(e.newValue);if(r)return this.co(r)}}else if(e.key===this.no){const r=(function(l){let c=wn.ce;if(l!=null)try{const d=JSON.parse(l);gt(typeof d=="number",30636,{So:l}),c=d}catch(d){Ae(Ir,"Failed to read sequence number from WebStorage",d)}return c})(e.newValue);r!==wn.ce&&this.sequenceNumberHandler(r)}else if(e.key===this._o){const r=this.bo(e.newValue);await Promise.all(r.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(e)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(t,e,r){const a=new $f(this.currentUser,t,e,r),l=Qv(this.persistenceKey,this.currentUser,t);this.setItem(l,a.Gs())}Po(t){const e=Qv(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Eo(t){const e={clientId:this.Js,onlineState:t};this.storage.setItem(this.oo,JSON.stringify(e))}Io(t,e,r){const a=Kg(this.persistenceKey,t),l=new Xu(t,e,r);this.setItem(a,l.Gs())}Ao(t){const e=JSON.stringify(Array.from(t));this.setItem(this._o,e)}Ro(t){const e=this.ro.exec(t);return e?e[1]:null}mo(t,e){const r=this.Ro(t);return Xf.Ws(r,e)}fo(t,e){const r=this.io.exec(t),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return $f.Ws(new Ke(l),a,e)}yo(t,e){const r=this.so.exec(t),a=Number(r[1]);return Xu.Ws(a,e)}uo(t){return A1.Ws(t)}bo(t){return JSON.parse(t)}async po(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Co(t.batchId,t.state,t.error);rt(Ir,`Ignoring mutation for non-active user ${t.user.uid}`)}wo(t){return this.syncEngine.vo(t.targetId,t.state,t.error)}Vo(t,e){const r=e?this.Zs.insert(t,e):this.Zs.remove(t),a=this.lo(this.Zs),l=this.lo(r),c=[],d=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||d.push(m)})),this.syncEngine.Fo(c,d).then((()=>{this.Zs=r}))}co(t){this.Zs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}lo(t){let e=o1();return t.forEach(((r,a)=>{e=e.unionWith(a.activeTargetIds)})),e}}class r6{constructor(){this.Mo=new wp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wp,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function Ap(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B7{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===up?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,l){const c=Ap(),d=this.zo(t,e.toUriEncodedString());rt($g,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),_=Up(p);return this.Jo(t,d,m,r,_).then((T=>(rt($g,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Mr($g,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}Ho(t,e,r,a,l,c){return this.Go(t,e,r,a,l)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}zo(t,e){const r=z7[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class j7 extends B7{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,l){const c=Ap();return new Promise(((d,m)=>{const p=new c3;p.setWithCredentials(!0),p.listenOnce(h3.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const T=p.getResponseJson();rt(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case _f.TIMEOUT:rt(on,`RPC '${t}' ${c} timed out`),m(new et(Q.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const w=p.getStatus();if(rt(on,`RPC '${t}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const K=(function(st){const W=st.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(W)>=0?W:Q.UNKNOWN})(j.status);m(new et(K,j.message))}else m(new et(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new et(Q.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{rt(on,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(a);rt(on,`RPC '${t}' ${c} sending request:`,a),p.send(e,"POST",_,r,15)}))}T_(t,e,r){const a=Ap(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=m3(),d=d3(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const _=l.join("");rt(on,`Creating RPC '${t}' stream ${a}: ${_}`,m);const T=c.createWebChannel(_,m);this.I_(T);let w=!1,D=!1;const j=new U7({Yo:q=>{D?rt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,q):(w||(rt(on,`Opening RPC '${t}' stream ${a} transport.`),T.open(),w=!0),rt(on,`RPC '${t}' stream ${a} sending:`,q),T.send(q))},Zo:()=>T.close()}),K=(q,st,W)=>{q.listen(st,(it=>{try{W(it)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return K(T,Lu.EventType.OPEN,(()=>{D||(rt(on,`RPC '${t}' stream ${a} transport opened.`),j.o_())})),K(T,Lu.EventType.CLOSE,(()=>{D||(D=!0,rt(on,`RPC '${t}' stream ${a} transport closed`),j.a_(),this.E_(T))})),K(T,Lu.EventType.ERROR,(q=>{D||(D=!0,Mr(on,`RPC '${t}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),j.a_(new et(Q.UNAVAILABLE,"The operation could not be completed")))})),K(T,Lu.EventType.MESSAGE,(q=>{if(!D){const st=q.data[0];gt(!!st,16349);const W=st,it=W?.error||W[0]?.error;if(it){rt(on,`RPC '${t}' stream ${a} received error:`,it);const vt=it.status;let ft=(function(S){const I=Ve[S];if(I!==void 0)return pE(I)})(vt),Tt=it.message;ft===void 0&&(ft=Q.INTERNAL,Tt="Unknown error status: "+vt+" with message "+it.message),D=!0,j.a_(new et(ft,Tt)),T.close()}else rt(on,`RPC '${t}' stream ${a} received:`,st),j.u_(st)}})),K(d,f3.STAT_EVENT,(q=>{q.stat===np.PROXY?rt(on,`RPC '${t}' stream ${a} detected buffering proxy`):q.stat===np.NOPROXY&&rt(on,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(i){return new Q9(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&rt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class s6{constructor(t,e,r,a,l,c,d,m){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new S1(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Q.RESOURCE_EXHAUSTED?(Ae(e.toString()),Ae("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new et(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt($v,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(rt($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q7 extends s6{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=$9(this.serializer,t),r=(function(l){if(!("targetChange"in l))return pt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?pt.min():c.readTime?Se(c.readTime):pt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=_p(this.serializer),e.addTarget=(function(l,c){let d;const m=c.target;if(d=jf(m)?{documents:RE(l,m)}:{query:IE(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=EE(l,c.resumeToken);const p=pp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(pt.min())>0){d.readTime=il(l,c.snapshotVersion.toTimestamp());const p=pp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,t);const r=Z9(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=_p(this.serializer),e.removeTarget=t,this.q_(e)}}class F7 extends s6{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=X9(t.writeResults,t.commitTime),r=Se(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=_p(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>fc(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{}class G7 extends H7{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(t,yp(e,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new et(Q.UNKNOWN,l.toString())}))}Ho(t,e,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,yp(e,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new et(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ae(e),this.aa=!1):rt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class K7{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ts(this)&&(rt(xa,"Restarting streams for network reachability change."),await(async function(m){const p=ct(m);p.Ea.add(4),await yl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nc(p)})(this))}))})),this.Ra=new Q7(r,a)}}async function Nc(i){if(Ts(i))for(const t of i.da)await t(!0)}async function yl(i){for(const t of i.da)await t(!1)}function pd(i,t){const e=ct(i);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),x1(e)?I1(e):vl(e).O_()&&R1(e,t))}function ol(i,t){const e=ct(i),r=vl(e);e.Ia.delete(t),r.O_()&&a6(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ts(e)&&e.Ra.set("Unknown"))}function R1(i,t){if(i.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vl(i).Y_(t)}function a6(i,t){i.Va.Ue(t),vl(i).Z_(t)}function I1(i){i.Va=new q9({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),vl(i).start(),i.Ra.ua()}function x1(i){return Ts(i)&&!vl(i).x_()&&i.Ia.size>0}function Ts(i){return ct(i).Ea.size===0}function o6(i){i.Va=void 0}async function Y7(i){i.Ra.set("Online")}async function $7(i){i.Ia.forEach(((t,e)=>{R1(i,t)}))}async function X7(i,t){o6(i),x1(i)?(i.Ra.ha(t),I1(i)):i.Ra.set("Unknown")}async function Z7(i,t,e){if(i.Ra.set("Online"),t instanceof vE&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,t)}catch(r){rt(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zf(i,r)}else if(t instanceof Rf?i.Va.Ze(t):t instanceof _E?i.Va.st(t):i.Va.tt(t),!e.isEqual(pt.min()))try{const r=await $E(i.localStore);e.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Ee.EMPTY_BYTE_STRING,_.snapshotVersion)),a6(l,m);const T=new li(_.target,m,p,_.sequenceNumber);R1(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(i,e)}catch(r){rt(xa,"Failed to raise snapshot:",r),await Zf(i,r)}}async function Zf(i,t,e){if(!vs(t))throw t;i.Ea.add(1),await yl(i),i.Ra.set("Offline"),e||(e=()=>$E(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{rt(xa,"Retrying IndexedDB access"),await e(),i.Ea.delete(1),await Nc(i)}))}function l6(i,t){return t().catch((e=>Zf(i,e,t)))}async function _l(i){const t=ct(i),e=ms(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ss;for(;J7(t);)try{const a=await O7(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,W7(t,a)}catch(a){await Zf(t,a)}u6(t)&&c6(t)}function J7(i){return Ts(i)&&i.Ta.length<10}function W7(i,t){i.Ta.push(t);const e=ms(i);e.O_()&&e.X_&&e.ea(t.mutations)}function u6(i){return Ts(i)&&!ms(i).x_()&&i.Ta.length>0}function c6(i){ms(i).start()}async function t8(i){ms(i).ra()}async function e8(i){const t=ms(i);for(const e of i.Ta)t.ea(e.mutations)}async function n8(i,t,e){const r=i.Ta.shift(),a=h1.from(r,t,e);await l6(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await _l(i)}async function r8(i,t){t&&ms(i).X_&&await(async function(r,a){if((function(c){return gE(c)&&c!==Q.ABORTED})(a.code)){const l=r.Ta.shift();ms(r).B_(),await l6(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await _l(r)}})(i,t),u6(i)&&c6(i)}async function Xv(i,t){const e=ct(i);e.asyncQueue.verifyOperationInProgress(),rt(xa,"RemoteStore received new credentials");const r=Ts(e);e.Ea.add(3),await yl(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Nc(e)}async function Sp(i,t){const e=ct(i);t?(e.Ea.delete(2),await Nc(e)):t||(e.Ea.add(2),await yl(e),e.Ra.set("Unknown"))}function vl(i){return i.ma||(i.ma=(function(e,r,a){const l=ct(e);return l.sa(),new q7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:Y7.bind(null,i),t_:$7.bind(null,i),r_:X7.bind(null,i),H_:Z7.bind(null,i)}),i.da.push((async t=>{t?(i.ma.B_(),x1(i)?I1(i):i.Ra.set("Unknown")):(await i.ma.stop(),o6(i))}))),i.ma}function ms(i){return i.fa||(i.fa=(function(e,r,a){const l=ct(e);return l.sa(),new F7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:t8.bind(null,i),r_:r8.bind(null,i),ta:e8.bind(null,i),na:n8.bind(null,i)}),i.da.push((async t=>{t?(i.fa.B_(),await _l(i)):(await i.fa.stop(),i.Ta.length>0&&(rt(xa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,d=new D1(t,e,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new et(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function El(i,t){if(Ae("AsyncQueue",`${t}: ${i}`),vs(i))return new et(Q.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(t){return new jo(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||lt.comparator(e.key,r.key):(e,r)=>lt.comparator(e.key,r.key),this.keyedMap=zu(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new jo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.ga=new oe(lt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ll{constructor(t,e,r,a,l,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach((d=>{c.push({type:0,doc:d})})),new ll(t,e,jo.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class s8{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=ct(e),l=a.queries;a.queries=Jv(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new et(Q.ABORTED,"Firestore shutting down"))}}function Jv(){return new yi((i=>eE(i)),Rc)}async function C1(i,t){const e=ct(i);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new i8,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=El(c,`Initialization of query '${ko(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&N1(e)}async function V1(i,t){const e=ct(i),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function a8(i,t){const e=ct(i);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&N1(e)}function o8(i,t,e){const r=ct(i),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);r.queries.delete(t)}function N1(i){i.Ca.forEach((t=>{t.next()}))}var Rp,Wv;(Wv=Rp||(Rp={})).Ma="default",Wv.Cache="cache";class M1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new ll(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,e){this.Qa=t,this.byteLength=e}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(t){this.serializer=t}$s(t){return Vr(this.serializer,t)}Us(t){return t.metadata.exists?SE(this.serializer,t.document,!1):le.newNoDocument(this.$s(t.metadata.name),this.Ks(t.metadata.readTime))}Ks(t){return Se(t)}}class u8{constructor(t,e){this.Ua=t,this.serializer=e,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=h6(t)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Qa.namedQuery)this.Ka.push(t.Qa.namedQuery);else if(t.Qa.documentMetadata){this.Wa.push({metadata:t.Qa.documentMetadata}),t.Qa.documentMetadata.exists||++e;const r=Ot.fromString(t.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Qa.document&&(this.Wa[this.Wa.length-1].document=t.Qa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,{...this.progress}):null}za(t){const e=new Map,r=new t4(this.serializer);for(const a of t)if(a.metadata.queries){const l=r.$s(a.metadata.name);for(const c of a.metadata.queries){const d=(e.get(c)||It()).add(l);e.set(c,d)}}return e}async ja(t){const e=await P7(t,new t4(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const a of this.Ka)await k7(t,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:e}}}function h6(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t){this.key=t}}class d6{constructor(t){this.key=t}}class m6{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=rE(t),this.tu=new jo(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Zv,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((_,T)=>{const w=a.get(_),D=Ic(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;w&&D?w.data.isEqual(D.data)?j!==K&&(r.track({type:3,doc:D}),q=!0):this.su(w,D)||(r.track({type:2,doc:D}),q=!0,(m&&this.eu(D,m)>0||p&&this.eu(D,p)<0)&&(d=!0)):!w&&D?(r.track({type:0,doc:D}),q=!0):w&&!D&&(r.track({type:1,doc:w}),q=!0,(m||p)&&(d=!0)),q&&(D?(c=c.add(D),l=K?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,T)=>(function(D,j){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:q})}};return K(D)-K(j)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),a=a??!1;const d=e&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ll(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new d6(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new f6(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=It();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bs="SyncEngine";class c8{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class h8{constructor(t){this.key=t,this.hu=!1}}class f8{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new yi((d=>eE(d)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(lt.comparator),this.Au=new Map,this.Ru=new _1,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d8(i,t,e=!0){const r=yd(i);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await g6(r,t,e,!0),a}async function m8(i,t){const e=yd(i);await g6(e,t,!0,!1)}async function g6(i,t,e,r){const a=await sl(i.localStore,_n(t)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await O1(i,t,l,c==="current",a.resumeToken)),i.isPrimaryClient&&e&&pd(i.remoteStore,a),d}async function O1(i,t,e,r,a){i.pu=(T,w,D)=>(async function(K,q,st,W){let it=q.view.ru(st);it.Cs&&(it=await Yf(K.localStore,q.query,!1).then((({documents:V})=>q.view.ru(V,it))));const vt=W&&W.targetChanges.get(q.targetId),ft=W&&W.targetMismatches.get(q.targetId)!=null,Tt=q.view.applyChanges(it,K.isPrimaryClient,vt,ft);return Ip(K,q.targetId,Tt.au),Tt.snapshot})(i,T,w,D);const l=await Yf(i.localStore,t,!0),c=new m6(t,l.Qs),d=c.ru(l.documents),m=Cc.createSynthesizedTargetChangeForCurrentChange(e,r&&i.onlineState!=="Offline",a),p=c.applyChanges(d,i.isPrimaryClient,m);Ip(i,e,p.au);const _=new c8(t,e,c);return i.Tu.set(t,_),i.Iu.has(e)?i.Iu.get(e).push(t):i.Iu.set(e,[t]),p.snapshot}async function g8(i,t,e){const r=ct(i),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Rc(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await al(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&ol(r.remoteStore,a.targetId),ul(r,a.targetId)})).catch(_s)):(ul(r,a.targetId),await al(r.localStore,a.targetId,!0))}async function p8(i,t){const e=ct(i),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),ol(e.remoteStore,r.targetId))}async function y8(i,t,e){const r=z1(i);try{const a=await(function(c,d){const m=ct(c),p=Qt.now(),_=d.reduce(((D,j)=>D.add(j.key)),It());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=Sn(),K=It();return m.Ns.getEntries(D,_).next((q=>{j=q,j.forEach(((st,W)=>{W.isValidDocument()||(K=K.add(st))}))})).next((()=>m.localDocuments.getOverlayedDocuments(D,j))).next((q=>{T=q;const st=[];for(const W of d){const it=B9(W,T.get(W.key).overlayedDocument);it!=null&&st.push(new _i(W.key,it,Q3(it.value.mapValue),de.exists(!0)))}return m.mutationQueue.addMutationBatch(D,p,st,d)})).next((q=>{w=q;const st=q.applyToLocalDocumentSet(T,K);return m.documentOverlayCache.saveOverlays(D,q.batchId,st)}))})).then((()=>({batchId:w.batchId,changes:sE(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new oe(Rt)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,e),await vi(r,a.changes),await _l(r.remoteStore)}catch(a){const l=El(a,"Failed to persist write");e.reject(l)}}async function p6(i,t){const e=ct(i);try{const r=await M7(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=e.Au.get(l);c&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?gt(c.hu,14607):a.removedDocuments.size>0&&(gt(c.hu,42227),c.hu=!1))})),await vi(e,r,t)}catch(r){await _s(r)}}function e4(i,t,e){const r=ct(i);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=ct(c);m.onlineState=d;let p=!1;m.queries.forEach(((_,T)=>{for(const w of T.Sa)w.va(d)&&(p=!0)})),p&&N1(m)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _8(i,t,e){const r=ct(i);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new oe(lt.comparator);c=c.insert(l,le.newNoDocument(l,pt.min()));const d=It().add(l),m=new Dc(pt.min(),new Map,new oe(Rt),c,d);await p6(r,m),r.du=r.du.remove(l),r.Au.delete(t),L1(r)}else await al(r.localStore,t,!1).then((()=>ul(r,t,e))).catch(_s)}async function v8(i,t){const e=ct(i),r=t.batch.batchId;try{const a=await N7(e.localStore,t);k1(e,r,null),P1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await vi(e,a)}catch(a){await _s(a)}}async function E8(i,t,e){const r=ct(i);try{const a=await(function(c,d){const m=ct(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next((T=>(gt(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(r.localStore,t);k1(r,t,e),P1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await vi(r,a)}catch(a){await _s(a)}}async function T8(i,t){const e=ct(i);Ts(e.remoteStore)||rt(bs,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const d=ct(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m)))})(e.localStore);if(r===ss)return void t.resolve();const a=e.mu.get(r)||[];a.push(t),e.mu.set(r,a)}catch(r){const a=El(r,"Initialization of waitForPendingWrites() operation failed");t.reject(a)}}function P1(i,t){(i.mu.get(t)||[]).forEach((e=>{e.resolve()})),i.mu.delete(t)}function k1(i,t,e){const r=ct(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function ul(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const r of i.Iu.get(t))i.Tu.delete(r),e&&i.Pu.yu(r,e);i.Iu.delete(t),i.isPrimaryClient&&i.Ru.jr(t).forEach((r=>{i.Ru.containsKey(r)||y6(i,r)}))}function y6(i,t){i.Eu.delete(t.path.canonicalString());const e=i.du.get(t);e!==null&&(ol(i.remoteStore,e),i.du=i.du.remove(t),i.Au.delete(e),L1(i))}function Ip(i,t,e){for(const r of e)r instanceof f6?(i.Ru.addReference(r.key,t),b8(i,r)):r instanceof d6?(rt(bs,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,t),i.Ru.containsKey(r.key)||y6(i,r.key)):dt(19791,{wu:r})}function b8(i,t){const e=t.key,r=e.path.canonicalString();i.du.get(e)||i.Eu.has(r)||(rt(bs,"New document in limbo: "+e),i.Eu.add(r),L1(i))}function L1(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const e=new lt(Ot.fromString(t)),r=i.fu.next();i.Au.set(r,new h8(e)),i.du=i.du.insert(e,r),pd(i.remoteStore,new li(_n(ml(e.path)),r,"TargetPurposeLimboResolution",wn.ce))}}async function vi(i,t,e){const r=ct(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,t,e).then((p=>{if((p||e)&&r.isPrimaryClient){const _=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=b1.As(m.targetId,p);l.push(_)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,p){const _=ct(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>B.forEach(p,(w=>B.forEach(w.Es,(D=>_.persistence.referenceDelegate.addReference(T,w.targetId,D))).next((()=>B.forEach(w.ds,(D=>_.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))))))}catch(T){if(!vs(T))throw T;rt(w1,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const D=_.Ms.get(w),j=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(w,K)}}})(r.localStore,l))}async function w8(i,t){const e=ct(i);if(!e.currentUser.isEqual(t)){rt(bs,"User change. New user:",t.toKey());const r=await YE(e.localStore,t);e.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new et(Q.CANCELLED,c))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await vi(e,r.Ls)}}function A8(i,t){const e=ct(i),r=e.Au.get(t);if(r&&r.hu)return It().add(r.key);{let a=It();const l=e.Iu.get(t);if(!l)return a;for(const c of l){const d=e.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function S8(i,t){const e=ct(i),r=await Yf(e.localStore,t.query,!0),a=t.view.cu(r);return e.isPrimaryClient&&Ip(e,t.targetId,a.au),a}async function R8(i,t){const e=ct(i);return JE(e.localStore,t).then((r=>vi(e,r)))}async function I8(i,t,e,r){const a=ct(i),l=await(function(d,m){const p=ct(d),_=ct(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(T=>_.er(T,m).next((w=>w?p.localDocuments.getDocuments(T,w):B.resolve(null)))))})(a.localStore,t);l!==null?(e==="pending"?await _l(a.remoteStore):e==="acknowledged"||e==="rejected"?(k1(a,t,r||null),P1(a,t),(function(d,m){ct(ct(d).mutationQueue).ir(m)})(a.localStore,t)):dt(6720,"Unknown batchState",{Su:e}),await vi(a,l)):rt(bs,"Cannot apply mutation batch with id: "+t)}async function x8(i,t){const e=ct(i);if(yd(e),z1(e),t===!0&&e.gu!==!0){const r=e.sharedClientState.getAllActiveQueryTargets(),a=await n4(e,r.toArray());e.gu=!0,await Sp(e.remoteStore,!0);for(const l of a)pd(e.remoteStore,l)}else if(t===!1&&e.gu!==!1){const r=[];let a=Promise.resolve();e.Iu.forEach(((l,c)=>{e.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then((()=>(ul(e,c),al(e.localStore,c,!0)))),ol(e.remoteStore,c)})),await a,await n4(e,r),(function(c){const d=ct(c);d.Au.forEach(((m,p)=>{ol(d.remoteStore,p)})),d.Ru.Jr(),d.Au=new Map,d.du=new oe(lt.comparator)})(e),e.gu=!1,await Sp(e.remoteStore,!1)}}async function n4(i,t,e){const r=ct(i),a=[],l=[];for(const c of t){let d;const m=r.Iu.get(c);if(m&&m.length!==0){d=await sl(r.localStore,_n(m[0]));for(const p of m){const _=r.Tu.get(p),T=await S8(r,_);T.snapshot&&l.push(T.snapshot)}}else{const p=await ZE(r.localStore,c);d=await sl(r.localStore,p),await O1(r,_6(p),c,!1,d.resumeToken)}a.push(d)}return r.Pu.H_(l),a}function _6(i){return tE(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function D8(i){return(function(e){return ct(ct(e).persistence).Ts()})(ct(i).localStore)}async function C8(i,t,e,r){const a=ct(i);if(a.gu)return void rt(bs,"Ignoring unexpected query state notification.");const l=a.Iu.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const c=await JE(a.localStore,nE(l[0])),d=Dc.createSynthesizedRemoteEventForCurrentChange(t,e==="current",Ee.EMPTY_BYTE_STRING);await vi(a,c,d);break}case"rejected":await al(a.localStore,t,!0),ul(a,t,r);break;default:dt(64155,e)}}async function V8(i,t,e){const r=yd(i);if(r.gu){for(const a of t){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){rt(bs,"Adding an already active target "+a);continue}const l=await ZE(r.localStore,a),c=await sl(r.localStore,l);await O1(r,_6(l),c.targetId,!1,c.resumeToken),pd(r.remoteStore,c)}for(const a of e)r.Iu.has(a)&&await al(r.localStore,a,!1).then((()=>{ol(r.remoteStore,a),ul(r,a)})).catch(_s)}}function yd(i){const t=ct(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=p6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_8.bind(null,t),t.Pu.H_=a8.bind(null,t.eventManager),t.Pu.yu=o8.bind(null,t.eventManager),t}function z1(i){const t=ct(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=v8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=E8.bind(null,t),t}function N8(i,t,e){const r=ct(i);(async function(l,c,d){try{const m=await c.getMetadata();if(await(function(D,j){const K=ct(D),q=Se(j.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",(st=>K.Ii.getBundleMetadata(st,j.id))).then((st=>!!st&&st.createTime.compareTo(q)>=0))})(l.localStore,m))return await c.close(),d._completeWith((function(D){return{taskState:"Success",documentsLoaded:D.totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}})(m)),Promise.resolve(new Set);d._updateProgress(h6(m));const p=new u8(m,c.serializer);let _=await c.bu();for(;_;){const w=await p.Ga(_);w&&d._updateProgress(w),_=await c.bu()}const T=await p.ja(l.localStore);return await vi(l,T.Ha,void 0),await(function(D,j){const K=ct(D);return K.persistence.runTransaction("Save bundle","readwrite",(q=>K.Ii.saveBundleMetadata(q,j)))})(l.localStore,m),d._completeWith(T.progress),Promise.resolve(T.Ja)}catch(m){return Mr(bs,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(r,t,e).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return KE(this.persistence,new QE,t.initialUser,this.serializer)}Cu(t){return new v1(gd.mi,this.serializer)}Du(t){return new r6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class M8 extends dc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){gt(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UE(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new v1((r=>Kf.mi(r,e)),this.serializer)}}class v6 extends dc{constructor(t,e,r){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await z1(this.xu.syncEngine),await _l(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return KE(this.persistence,new QE,t.initialUser,this.serializer)}Fu(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new UE(r,t.asyncQueue,e)}Mu(t,e){const r=new qS(e,this.persistence);return new jS(t.asyncQueue,r)}Cu(t){const e=T1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new E1(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,i6(),xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new r6}}class O8 extends v6{constructor(t,e){super(t,e,!1),this.xu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.xu.syncEngine;this.sharedClientState instanceof Yg&&(this.sharedClientState.syncEngine={Co:I8.bind(null,e),vo:C8.bind(null,e),Fo:V8.bind(null,e),Ts:D8.bind(null,e),Do:R8.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await x8(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(t){const e=i6();if(!Yg.v(e))throw new et(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=T1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Yg(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class mc{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w8.bind(null,this.syncEngine),await Sp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new s8})()}createDatastore(t){const e=Vc(t.databaseInfo.databaseId),r=(function(l){return new j7(l)})(t.databaseInfo);return(function(l,c,d,m){return new G7(l,c,d,m)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,l,c,d){return new K7(r,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(e=>e4(this.syncEngine,e,0)),(function(){return Yv.v()?new Yv:new L7})())}createSyncEngine(t,e){return(function(a,l,c,d,m,p,_){const T=new f8(a,l,c,d,m,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=ct(e);rt(xa,"RemoteStore shutting down."),r.Ea.add(5),await yl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mc.provider={build:()=>new mc};function r4(i,t=10240){let e=0;return{async read(){if(e<i.byteLength){const r={value:i.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ae("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(t,e){this.Bu=t,this.serializer=e,this.metadata=new nn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const t=await this.qu();if(t===null)return null;const e=this.Lu.decode(t),r=Number(e);isNaN(r)&&this.Qu(`length string (${e}) is not valid number`);const a=await this.$u(r);return new l8(JSON.parse(a),t.length+r)}Uu(){return this.buffer.findIndex((t=>t===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const t=this.Uu();t<0&&this.Qu("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async $u(t){for(;this.buffer.length<t;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const e=this.Lu.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Qu(t){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${t}`)}async Ku(){const t=await this.Bu.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new et(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const c=ct(a),d={documents:l.map((T=>hc(c.serializer,T)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Ot.emptyPath(),d,l.length),p=new Map;m.forEach((T=>{const w=Y9(c.serializer,T);p.set(w.key.toString(),w)}));const _=[];return l.forEach((T=>{const w=p.get(T.toString());gt(!!w,55234,{key:T}),_.push(w)})),_})(this.datastore,t);return e.forEach((r=>this.recordVersion(r))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new pl(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,r)=>{const a=lt.fromPath(r);this.mutations.push(new u1(a,this.precondition(a)))})),await(async function(r,a){const l=ct(r),c={writes:a.map((d=>fc(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,Ot.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});e=pt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new et(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(pt.min())?de.exists(!1):de.updateTime(e):de.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(pt.min()))throw new et(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return de.updateTime(e)}return de.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(t,e,r,a,l){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new S1(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new k8(this.datastore),e=this.Hu(t);e&&e.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Yu(a)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const e=this.updateFunction(t);return!wc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!gE(e)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class z8{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=Ke.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{rt(gs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(rt(gs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=El(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xg(i,t){i.asyncQueue.verifyOperationInProgress(),rt(gs,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let r=e.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await YE(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function i4(i,t){i.asyncQueue.verifyOperationInProgress();const e=await B1(i);rt(gs,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener((r=>Xv(t.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>Xv(t.remoteStore,a))),i._onlineComponents=t}async function B1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){rt(gs,"Using user provided OfflineComponentProvider");try{await Xg(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Mr("Error using user provided cache. Falling back to memory cache: "+e),await Xg(i,new dc)}}else rt(gs,"Using default OfflineComponentProvider"),await Xg(i,new M8(void 0));return i._offlineComponents}async function vd(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(rt(gs,"Using user provided OnlineComponentProvider"),await i4(i,i._uninitializedComponentsProvider._online)):(rt(gs,"Using default OnlineComponentProvider"),await i4(i,new mc))),i._onlineComponents}function E6(i){return B1(i).then((t=>t.persistence))}function U1(i){return B1(i).then((t=>t.localStore))}function T6(i){return vd(i).then((t=>t.remoteStore))}function j1(i){return vd(i).then((t=>t.syncEngine))}function B8(i){return vd(i).then((t=>t.datastore))}async function cl(i){const t=await vd(i),e=t.eventManager;return e.onListen=d8.bind(null,t.syncEngine),e.onUnlisten=g8.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=m8.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=p8.bind(null,t.syncEngine),e}function U8(i){return i.asyncQueue.enqueue((async()=>{const t=await E6(i),e=await T6(i);return t.setNetworkEnabled(!0),(function(a){const l=ct(a);return l.Ea.delete(0),Nc(l)})(e)}))}function j8(i){return i.asyncQueue.enqueue((async()=>{const t=await E6(i),e=await T6(i);return t.setNetworkEnabled(!1),(async function(a){const l=ct(a);l.Ea.add(0),await yl(l),l.Ra.set("Offline")})(e)}))}function q8(i,t){const e=new nn;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(p,_){const T=ct(p);return T.persistence.runTransaction("read document","readonly",(w=>T.localDocuments.getDocument(w,_)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new et(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=El(d,`Failed to get document '${l} from cache`);c.reject(m)}})(await U1(i),t,e))),e.promise}function b6(i,t,e={}){const r=new nn;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const _=new _d({next:w=>{_.Nu(),c.enqueueAndForget((()=>V1(l,T)));const D=w.docs.has(d);!D&&w.fromCache?p.reject(new et(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?p.reject(new et(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new M1(ml(d.path),_,{includeMetadataChanges:!0,qa:!0});return C1(l,T)})(await cl(i),i.asyncQueue,t,e,r))),r.promise}function F8(i,t){const e=new nn;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await Yf(a,l,!0),m=new m6(l,d.Qs),p=m.ru(d.documents),_=m.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const m=El(d,`Failed to execute query '${l} against cache`);c.reject(m)}})(await U1(i),t,e))),e.promise}function w6(i,t,e={}){const r=new nn;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const _=new _d({next:w=>{_.Nu(),c.enqueueAndForget((()=>V1(l,T))),w.fromCache&&m.source==="server"?p.reject(new et(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new M1(d,_,{includeMetadataChanges:!0,qa:!0});return C1(l,T)})(await cl(i),i.asyncQueue,t,e,r))),r.promise}function H8(i,t){const e=new _d(t);return i.asyncQueue.enqueueAndForget((async()=>(function(a,l){ct(a).Ca.add(l),l.next()})(await cl(i),e))),()=>{e.Nu(),i.asyncQueue.enqueueAndForget((async()=>(function(a,l){ct(a).Ca.delete(l)})(await cl(i),e)))}}function G8(i,t,e,r){const a=(function(c,d){let m;return m=typeof c=="string"?yE().encode(c):c,(function(_,T){return new P8(_,T)})((function(_,T){if(_ instanceof Uint8Array)return r4(_,T);if(_ instanceof ArrayBuffer)return r4(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(m),d)})(e,Vc(t));i.asyncQueue.enqueueAndForget((async()=>{N8(await j1(i),a,r)}))}function Q8(i,t){return i.asyncQueue.enqueue((async()=>(function(r,a){const l=ct(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Ii.getNamedQuery(c,a)))})(await U1(i),t)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="firestore.googleapis.com",a4=!0;class o4{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new et(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S6,this.ssl=a4}else this.host=t.host,this.ssl=t.ssl??a4;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<d7)throw new et(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A6(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new et(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mc{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new et(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new et(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DS;switch(r.type){case"firstParty":return new MS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new et(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=s4.get(e);r&&(rt("ComponentProvider","Removing Datastore"),s4.delete(e),r.terminate())})(this),Promise.resolve()}}function K8(i,t,e,r={}){i=qt(i,Mc);const a=Up(t),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${t}:${e}`;a&&(Qw(`https://${d}`),Xw("Firestore",!0)),l.host!==S6&&l.host!==d&&Mr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!Fo(m,c)&&(i._setSettings(m),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Ke.MOCK_USER;else{p=Kw(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new et(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ke(T)}i._authCredentials=new CS(new p3(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class R6{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new R6(this.firestore,t,this._query)}},ae=class ju{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ju(this.firestore,t,this._key)}toJSON(){return{type:ju._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(bc(e,ju._jsonSchema))return new ju(t,r||null,new lt(Ot.fromString(e.referencePath)))}};ae._jsonSchemaVersion="firestore/documentReference/1.0",ae._jsonSchema={type:Ne("string",ae._jsonSchemaVersion),referencePath:Ne("string")};let as=class I6 extends vn{constructor(t,e,r){super(t,e,ml(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ae(this.firestore,null,new lt(t))}withConverter(t){return new I6(this.firestore,t,this._path)}};function x6(i,t,...e){if(i=Me(i),Xp("collection","path",t),i instanceof Mc){const r=Ot.fromString(t,...e);return $2(r),new as(i,null,r)}{if(!(i instanceof ae||i instanceof as))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Ot.fromString(t,...e));return $2(r),new as(i.firestore,null,r)}}function Y8(i,t){if(i=qt(i,Mc),Xp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new et(Q.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vn(i,null,(function(r){return new pi(Ot.emptyPath(),r)})(t))}function Jf(i,t,...e){if(i=Me(i),arguments.length===1&&(t=$p.newId()),Xp("doc","path",t),i instanceof Mc){const r=Ot.fromString(t,...e);return Y2(r),new ae(i,null,new lt(r))}{if(!(i instanceof ae||i instanceof as))throw new et(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Ot.fromString(t,...e));return Y2(r),new ae(i.firestore,i instanceof as?i.converter:null,new lt(r))}}function D6(i,t){return i=Me(i),t=Me(t),(i instanceof ae||i instanceof as)&&(t instanceof ae||t instanceof as)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function C6(i,t){return i=Me(i),t=Me(t),i instanceof vn&&t instanceof vn&&i.firestore===t.firestore&&Rc(i._query,t._query)&&i.converter===t.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="AsyncQueue";class u4{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new S1(this,"async_queue_retry"),this._c=()=>{const r=xf();r&&rt(l4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=xf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=xf();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new nn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!vs(t))throw t;rt(l4,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Ae("INTERNAL UNHANDLED ERROR: ",c4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=D1.createAndSchedule(this,t,e,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:c4(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function c4(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i){return(function(e,r){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class $8{constructor(){this._progressObserver={},this._taskCompletionResolver=new nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=-1;let Re=class extends Mc{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new u4,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u4(t),this._firestoreClient=void 0,await t}}};function hn(i){if(i._terminated)throw new et(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||V6(i),i._firestoreClient}function V6(i){const t=i._freezeSettings(),e=(function(a,l,c,d){return new y9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,A6(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new z8(i._authCredentials,i._appCheckCredentials,i._queue,e,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}function Z8(i,t){Mr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings();return N6(i,mc.provider,{build:r=>new v6(r,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}async function J8(i){Mr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings();N6(i,mc.provider,{build:e=>new O8(e,t.cacheSizeBytes)})}function N6(i,t,e){if((i=qt(i,Re))._firestoreClient||i._terminated)throw new et(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(i._componentsProvider||i._getSettings().localCache)throw new et(Q.FAILED_PRECONDITION,"SDK cache is already specified.");i._componentsProvider={_online:t,_offline:e},V6(i)}function W8(i){if(i._initialized&&!i._terminated)throw new et(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new nn;return i._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Cr.v())return Promise.resolve();const a=r+GE;await Cr.delete(a)})(T1(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function tR(i){return(function(e){const r=new nn;return e.asyncQueue.enqueueAndForget((async()=>T8(await j1(e),r))),r.promise})(hn(i=qt(i,Re)))}function eR(i){return U8(hn(i=qt(i,Re)))}function nR(i){return j8(hn(i=qt(i,Re)))}function rR(i,t){const e=hn(i=qt(i,Re)),r=new $8;return G8(e,i._databaseId,t,r),r}function iR(i,t){return Q8(hn(i=qt(i,Re)),t).then((e=>e?new vn(i,null,e.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new un(Ee.fromBase64String(t))}catch(e){throw new et(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new un(Ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bc(t,un._jsonSchema))return un.fromBase64String(t.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Ne("string",un._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new et(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=class{constructor(t){this._methodName=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new et(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new et(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(t){if(bc(t,ar._jsonSchema))return new ar(t.latitude,t.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Ne("string",ar._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bc(t,Nr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Nr(t.vectorValues);throw new et(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Ne("string",Nr._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/^__.*__$/;class aR{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new _i(t,this.data,this.fieldMask,e,this.fieldTransforms):new gl(t,this.data,e,this.fieldTransforms)}}class M6{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new _i(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function O6(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:i})}}class Ed{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ed({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(O6(this.Ac)&&sR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class oR{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Vc(t)}Cc(t,e,r,a=!1){return new Ed({Ac:t,methodName:e,Dc:r,path:fe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ma(i){const t=i._freezeSettings(),e=Vc(i._databaseId);return new oR(i._databaseId,!!t.ignoreUndefinedProperties,e)}function Td(i,t,e,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,t,e,a);Y1("Data must be an object, but it was:",c,r);const d=L6(r,c);let m,p;if(l.merge)m=new An(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=Dp(t,T,e);if(!c.contains(w))throw new et(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);B6(_,w)||_.push(w)}m=new An(_),p=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=c.fieldTransforms;return new aR(new en(d),m,p)}class Oc extends Na{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oc}}function P6(i,t,e){return new Ed({Ac:3,Dc:t.settings.Dc,methodName:i._methodName,fc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class q1 extends Na{_toFieldTransform(t){return new xc(t.path,new nl)}isEqual(t){return t instanceof q1}}class F1 extends Na{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=P6(this,t,!0),r=this.vc.map((l=>Oa(l,e))),a=new wa(r);return new xc(t.path,a)}isEqual(t){return t instanceof F1&&Fo(this.vc,t.vc)}}class H1 extends Na{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=P6(this,t,!0),r=this.vc.map((l=>Oa(l,e))),a=new Aa(r);return new xc(t.path,a)}isEqual(t){return t instanceof H1&&Fo(this.vc,t.vc)}}class G1 extends Na{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new rl(t.serializer,lE(t.serializer,this.Fc));return new xc(t.path,e)}isEqual(t){return t instanceof G1&&this.Fc===t.Fc}}function Q1(i,t,e,r){const a=i.Cc(1,t,e);Y1("Data must be an object, but it was:",a,r);const l=[],c=en.empty();Es(r,((m,p)=>{const _=$1(t,m,e);p=Me(p);const T=a.yc(_);if(p instanceof Oc)l.push(_);else{const w=Oa(p,T);w!=null&&(l.push(_),c.set(_,w))}}));const d=new An(l);return new M6(c,d,a.fieldTransforms)}function K1(i,t,e,r,a,l){const c=i.Cc(1,t,e),d=[Dp(t,r,e)],m=[a];if(l.length%2!=0)throw new et(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Dp(t,l[w])),m.push(l[w+1]);const p=[],_=en.empty();for(let w=d.length-1;w>=0;--w)if(!B6(p,d[w])){const D=d[w];let j=m[w];j=Me(j);const K=c.yc(D);if(j instanceof Oc)p.push(D);else{const q=Oa(j,K);q!=null&&(p.push(D),_.set(D,q))}}const T=new An(p);return new M6(_,T,c.fieldTransforms)}function k6(i,t,e,r=!1){return Oa(e,i.Cc(r?4:3,t))}function Oa(i,t){if(z6(i=Me(i)))return Y1("Unsupported field value:",t,i),L6(i,t);if(i instanceof Na)return(function(r,a){if(!O6(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let m=Oa(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(i,t)}return(function(r,a){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lE(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Qt.fromDate(r);return{timestampValue:il(a.serializer,l)}}if(r instanceof Qt){const l=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:il(a.serializer,l)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:EE(a.serializer,r._byteString)};if(r instanceof ae){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:m1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Nr)return(function(c,d){return{mapValue:{fields:{[r1]:{stringValue:i1},[Wo]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return l1(d.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${rd(r)}`)})(i,t)}function L6(i,t){const e={};return L3(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(i,((r,a)=>{const l=Oa(a,t.mc(r));l!=null&&(e[r]=l)})),{mapValue:{fields:e}}}function z6(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qt||i instanceof ar||i instanceof un||i instanceof ae||i instanceof Na||i instanceof Nr)}function Y1(i,t,e){if(!z6(e)||!v3(e)){const r=rd(e);throw r==="an object"?t.Sc(i+" a custom object"):t.Sc(i+" "+r)}}function Dp(i,t,e){if((t=Me(t))instanceof ps)return t._internalPath;if(typeof t=="string")return $1(i,t);throw Wf("Field path arguments must be of type string or ",i,!1,void 0,e)}const lR=new RegExp("[~\\*/\\[\\]]");function $1(i,t,e){if(t.search(lR)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ps(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Wf(i,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new et(Q.INVALID_ARGUMENT,d+i+m)}function B6(i,t){return i.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class uR extends gc{data(){return super.data()}}function bd(i,t){return typeof t=="string"?$1(i,t):t instanceof ps?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new et(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X1{}class Pc extends X1{}function Ji(i,t,...e){let r=[];t instanceof X1&&r.push(t),r=r.concat(e),(function(l){const c=l.filter((m=>m instanceof Z1)).length,d=l.filter((m=>m instanceof wd)).length;if(c>1||c>0&&d>0)throw new et(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class wd extends Pc{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new wd(t,e,r)}_apply(t){const e=this._parse(t);return q6(t._query,e),new vn(t.firestore,t.converter,gp(t._query,e))}_parse(t){const e=Ma(t.firestore);return(function(l,c,d,m,p,_,T){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new et(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){f4(T,_);const j=[];for(const K of T)j.push(h4(m,l,K));w={arrayValue:{values:j}}}else w=h4(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||f4(T,_),w=k6(d,c,T,_==="in"||_==="not-in");return Pt.create(p,_,w)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function cR(i,t,e){const r=t,a=bd("where",i);return wd._create(a,r,e)}class Z1 extends X1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Z1(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Xt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)q6(c,m),c=gp(c,m)})(t._query,e),new vn(t.firestore,t.converter,gp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J1 extends Pc{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new J1(t,e)}_apply(t){const e=(function(a,l,c){if(a.startAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new et(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(l,c)})(t._query,this._field,this._direction);return new vn(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new pi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function hR(i,t="asc"){const e=t,r=bd("orderBy",i);return J1._create(r,e)}class Ad extends Pc{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new Ad(t,e,r)}_apply(t){return new vn(t.firestore,t.converter,Ff(t._query,this._limit,this._limitType))}}function fR(i){return E3("limit",i),Ad._create("limit",i,"F")}function dR(i){return E3("limitToLast",i),Ad._create("limitToLast",i,"L")}class Sd extends Pc{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new Sd(t,e,r)}_apply(t){const e=j6(t,this.type,this._docOrFields,this._inclusive);return new vn(t.firestore,t.converter,(function(a,l){return new pi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(t._query,e))}}function mR(...i){return Sd._create("startAt",i,!0)}function gR(...i){return Sd._create("startAfter",i,!1)}class Rd extends Pc{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new Rd(t,e,r)}_apply(t){const e=j6(t,this.type,this._docOrFields,this._inclusive);return new vn(t.firestore,t.converter,(function(a,l){return new pi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)})(t._query,e))}}function pR(...i){return Rd._create("endBefore",i,!1)}function yR(...i){return Rd._create("endAt",i,!0)}function j6(i,t,e,r){if(e[0]=Me(e[0]),e[0]instanceof gc)return(function(l,c,d,m,p){if(!m)throw new et(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Uo(l))if(T.field.isKeyField())_.push(Ta(c,m.key));else{const w=m.data.field(T.field);if(ld(w))throw new et(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const D=T.field.canonicalString();throw new et(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(w)}return new ds(_,p)})(i._query,i.firestore._databaseId,t,e[0]._document,r);{const a=Ma(i.firestore);return(function(c,d,m,p,_,T){const w=c.explicitOrderBy;if(_.length>w.length)throw new et(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let j=0;j<_.length;j++){const K=_[j];if(w[j].field.isKeyField()){if(typeof K!="string")throw new et(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof K}`);if(!a1(c)&&K.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${K}' contains a slash.`);const q=c.path.child(Ot.fromString(K));if(!lt.isDocumentKey(q))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const st=new lt(q);D.push(Ta(d,st))}else{const q=k6(m,p,K);D.push(q)}}return new ds(D,T)})(i._query,i.firestore._databaseId,a,t,e,r)}}function h4(i,t,e){if(typeof(e=Me(e))=="string"){if(e==="")throw new et(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a1(t)&&e.indexOf("/")!==-1)throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Ot.fromString(e));if(!lt.isDocumentKey(r))throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ta(i,new lt(r))}if(e instanceof ae)return Ta(i,e._key);throw new et(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(e)}.`)}function f4(i,t){if(!Array.isArray(i)||i.length===0)throw new et(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function q6(i,t){const e=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new et(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class W1{convertValue(t,e="none"){switch(hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Es(t,((a,l)=>{r[a]=this.convertValue(l,e)})),r}convertVectorValue(t){const e=t.fields?.[Wo].arrayValue?.values?.map((r=>he(r.doubleValue)));return new Nr(e)}convertGeoPoint(t){return new ar(he(t.latitude),he(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=ud(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(oc(t));default:return null}}convertTimestamp(t){const e=di(t);return new Qt(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ot.fromString(t);gt(VE(r),9688,{name:t});const a=new cs(r.get(1),r.get(3)),l=new lt(r.popFirst(5));return a.isEqual(e)||Ae(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(i,t,e){let r;return r=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,r}class _R extends W1{constructor(t){super(),this.firestore=t}convertBytes(t){return new un(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ae(this.firestore,null,e)}}class ya{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}let Jn=class F6 extends gc{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(bd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=F6._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Jn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jn._jsonSchema={type:Ne("string",Jn._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};let Zu=class extends Jn{data(t={}){return super.data(t)}},or=class H6{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ya(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Zu(this._firestore,this._userDataWriter,r.key,r,new ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new et(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Zu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Zu(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:vR(d.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new et(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=H6._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function vR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:i})}}function G6(i,t){return i instanceof Jn&&t instanceof Jn?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(i._document===null?t._document===null:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof or&&t instanceof or&&i._firestore===t._firestore&&C6(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i){i=qt(i,ae);const t=qt(i.firestore,Re);return b6(hn(t),i._key).then((e=>t0(t,i,e)))}or._jsonSchemaVersion="firestore/querySnapshot/1.0",or._jsonSchema={type:Ne("string",or._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Pa extends W1{constructor(t){super(),this.firestore=t}convertBytes(t){return new un(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ae(this.firestore,null,e)}}function TR(i){i=qt(i,ae);const t=qt(i.firestore,Re),e=hn(t),r=new Pa(t);return q8(e,i._key).then((a=>new Jn(t,r,i._key,a,new ya(a!==null&&a.hasLocalMutations,!0),i.converter)))}function bR(i){i=qt(i,ae);const t=qt(i.firestore,Re);return b6(hn(t),i._key,{source:"server"}).then((e=>t0(t,i,e)))}function wR(i){i=qt(i,vn);const t=qt(i.firestore,Re),e=hn(t),r=new Pa(t);return U6(i._query),w6(e,i._query).then((a=>new or(t,r,i,a)))}function AR(i){i=qt(i,vn);const t=qt(i.firestore,Re),e=hn(t),r=new Pa(t);return F8(e,i._query).then((a=>new or(t,r,i,a)))}function SR(i){i=qt(i,vn);const t=qt(i.firestore,Re),e=hn(t),r=new Pa(t);return w6(e,i._query,{source:"server"}).then((a=>new or(t,r,i,a)))}function d4(i,t,e){i=qt(i,ae);const r=qt(i.firestore,Re),a=Id(i.converter,t,e);return kc(r,[Td(Ma(r),"setDoc",i._key,a,i.converter!==null,e).toMutation(i._key,de.none())])}function m4(i,t,e,...r){i=qt(i,ae);const a=qt(i.firestore,Re),l=Ma(a);let c;return c=typeof(t=Me(t))=="string"||t instanceof ps?K1(l,"updateDoc",i._key,t,e,r):Q1(l,"updateDoc",i._key,t),kc(a,[c.toMutation(i._key,de.exists(!0))])}function RR(i){return kc(qt(i.firestore,Re),[new pl(i._key,de.none())])}function IR(i,t){const e=qt(i.firestore,Re),r=Jf(i),a=Id(i.converter,t);return kc(e,[Td(Ma(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,de.exists(!1))]).then((()=>r))}function Q6(i,...t){i=Me(i);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||xp(t[r])||(e=t[r++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(xp(t[r])){const m=t[r];t[r]=m.next?.bind(m),t[r+1]=m.error?.bind(m),t[r+2]=m.complete?.bind(m)}let l,c,d;if(i instanceof ae)c=qt(i.firestore,Re),d=ml(i._key.path),l={next:m=>{t[r]&&t[r](t0(c,i,m))},error:t[r+1],complete:t[r+2]};else{const m=qt(i,vn);c=qt(m.firestore,Re),d=m._query;const p=new Pa(c);l={next:_=>{t[r]&&t[r](new or(c,p,m,_))},error:t[r+1],complete:t[r+2]},U6(i._query)}return(function(p,_,T,w){const D=new _d(w),j=new M1(_,D,T);return p.asyncQueue.enqueueAndForget((async()=>C1(await cl(p),j))),()=>{D.Nu(),p.asyncQueue.enqueueAndForget((async()=>V1(await cl(p),j)))}})(hn(c),d,a,l)}function xR(i,t){return H8(hn(i=qt(i,Re)),xp(t)?t:{next:t})}function kc(i,t){return(function(r,a){const l=new nn;return r.asyncQueue.enqueueAndForget((async()=>y8(await j1(r),a,l))),l.promise})(hn(i),t)}function t0(i,t,e){const r=e.docs.get(t._key),a=new Pa(i);return new Jn(i,a,t._key,r,new ya(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CR=class{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ma(t)}set(t,e,r){this._verifyNotCommitted();const a=es(t,this._firestore),l=Id(a.converter,e,r),c=Td(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,de.none())),this}update(t,e,r,...a){this._verifyNotCommitted();const l=es(t,this._firestore);let c;return c=typeof(e=Me(e))=="string"||e instanceof ps?K1(this._dataReader,"WriteBatch.update",l._key,e,r,a):Q1(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(c.toMutation(l._key,de.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=es(t,this._firestore);return this._mutations=this._mutations.concat(new pl(e._key,de.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new et(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function es(i,t){if((i=Me(i)).firestore!==t)throw new et(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Ma(t)}get(t){const e=es(t,this._firestore),r=new _R(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new gc(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new gc(this._firestore,r,e._key,null,e.converter);throw dt(18433,{doc:l})}))}set(t,e,r){const a=es(t,this._firestore),l=Id(a.converter,e,r),c=Td(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,c),this}update(t,e,r,...a){const l=es(t,this._firestore);let c;return c=typeof(e=Me(e))=="string"||e instanceof ps?K1(this._dataReader,"Transaction.update",l._key,e,r,a):Q1(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,c),this}delete(t){const e=es(t,this._firestore);return this._transaction.delete(e._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NR=class extends VR{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=es(t,this._firestore),r=new Pa(this._firestore);return super.get(t).then((a=>new Jn(this._firestore,r,e._key,a._document,new ya(!1,!1),e.converter)))}};function MR(i,t,e){i=qt(i,Re);const r={...DR,...e};return(function(l){if(l.maxAttempts<1)throw new et(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(l,c,d){const m=new nn;return l.asyncQueue.enqueueAndForget((async()=>{const p=await B8(l);new L8(l.asyncQueue,p,d,c,m).ju()})),m.promise})(hn(i),(a=>t(new NR(i,a))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return new Oc("deleteField")}function PR(){return new q1("serverTimestamp")}function kR(...i){return new F1("arrayUnion",i)}function LR(...i){return new H1("arrayRemove",i)}function zR(i){return new G1("increment",i)}(function(t,e=!0){(function(a){dl=a})(Gp),Qo(new Ea("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Re(new VS(r.getProvider("auth-internal")),new OS(c,r.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new et(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(p.options.projectId,_)})(c,a),c);return l={useFetchStreams:e,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ci(H2,G2,t),ci(H2,G2,"esm2020")})();const BR="@firebase/firestore-compat",UR="0.4.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new et("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){if(typeof Uint8Array>"u")throw new et("unimplemented","Uint8Arrays are not available in this environment.")}function p4(){if(!g9())throw new et("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pc{constructor(t){this._delegate=t}static fromBase64String(t){return p4(),new pc(un.fromBase64String(t))}static fromUint8Array(t){return g4(),new pc(un.fromUint8Array(t))}toBase64(){return p4(),this._delegate.toBase64()}toUint8Array(){return g4(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(i){return jR(i,["next","error","complete"])}function jR(i,t){if(typeof i!="object"||i===null)return!1;const e=i;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{enableIndexedDbPersistence(t,e){return Z8(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return J8(t._delegate)}clearIndexedDbPersistence(t){return W8(t._delegate)}}class K6{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof cs||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Mr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t={...e,...t},delete t.merge),this._delegate._setSettings(t)}useEmulator(t,e,r={}){K8(this._delegate,t,e,r)}enableNetwork(){return eR(this._delegate)}disableNetwork(){return nR(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,_3("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return tR(this._delegate)}onSnapshotsInSync(t){return xR(this._delegate,t)}get app(){if(!this._appCompat)throw new et("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new hl(this,x6(this._delegate,t))}catch(e){throw yn(e,"collection()","Firestore.collection()")}}doc(t){try{return new Zn(this,Jf(this._delegate,t))}catch(e){throw yn(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new pn(this,Y8(this._delegate,t))}catch(e){throw yn(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return MR(this._delegate,e=>t(new Y6(this,e)))}batch(){return hn(this._delegate),new $6(new CR(this._delegate,t=>kc(this._delegate,t)))}loadBundle(t){return rR(this._delegate,t)}namedQuery(t){return iR(this._delegate,t).then(e=>e?new pn(this,e):null)}}class xd extends W1{constructor(t){super(),this.firestore=t}convertBytes(t){return new pc(new un(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Zn.forKey(e,this.firestore,null)}}function FR(i){IS(i)}class Y6{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xd(t)}get(t){const e=_a(t);return this._delegate.get(e).then(r=>new yc(this._firestore,new Jn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const a=_a(t);return r?(e0("Transaction.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=_a(t);return arguments.length===2?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=_a(t);return this._delegate.delete(e),this}}class $6{constructor(t){this._delegate=t}set(t,e,r){const a=_a(t);return r?(e0("WriteBatch.set",r),this._delegate.set(a,e,r)):this._delegate.set(a,e),this}update(t,e,r,...a){const l=_a(t);return arguments.length===2?this._delegate.update(l,e):this._delegate.update(l,e,r,...a),this}delete(t){const e=_a(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Da{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Zu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new _c(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Da.INSTANCES;let a=r.get(t);a||(a=new WeakMap,r.set(t,a));let l=a.get(e);return l||(l=new Da(t,new xd(t),e),a.set(e,l)),l}}Da.INSTANCES=new WeakMap;class Zn{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xd(t)}static forPath(t,e,r){if(t.length%2!==0)throw new et("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Zn(e,new ae(e._delegate,r,new lt(t)))}static forKey(t,e,r){return new Zn(e,new ae(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new hl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new hl(this.firestore,x6(this._delegate,t))}catch(e){throw yn(e,"collection()","DocumentReference.collection()")}}isEqual(t){return t=Me(t),t instanceof ae?D6(this._delegate,t):!1}set(t,e){e=e0("DocumentReference.set",e);try{return e?d4(this._delegate,t,e):d4(this._delegate,t)}catch(r){throw yn(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return arguments.length===1?m4(this._delegate,t):m4(this._delegate,t,e,...r)}catch(a){throw yn(a,"updateDoc()","DocumentReference.update()")}}delete(){return RR(this._delegate)}onSnapshot(...t){const e=X6(t),r=Z6(t,a=>new yc(this.firestore,new Jn(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Q6(this._delegate,e,r)}get(t){let e;return t?.source==="cache"?e=TR(this._delegate):t?.source==="server"?e=bR(this._delegate):e=ER(this._delegate),e.then(r=>new yc(this.firestore,new Jn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Zn(this.firestore,t?this._delegate.withConverter(Da.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function yn(i,t,e){return i.message=i.message.replace(t,e),i}function X6(i){for(const t of i)if(typeof t=="object"&&!Cp(t))return t;return{}}function Z6(i,t){let e;return Cp(i[0])?e=i[0]:Cp(i[1])?e=i[1]:typeof i[0]=="function"?e={next:i[0],error:i[1],complete:i[2]}:e={next:i[1],error:i[2],complete:i[3]},{next:r=>{e.next&&e.next(t(r))},error:e.error?.bind(e),complete:e.complete?.bind(e)}}class yc{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Zn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return G6(this._delegate,t._delegate)}}class _c extends yc{data(t){const e=this._delegate.data(t);return this._delegate._converter||xS(e!==void 0,"Document in a QueryDocumentSnapshot should exist"),e}}class pn{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xd(t)}where(t,e,r){try{return new pn(this.firestore,Ji(this._delegate,cR(t,e,r)))}catch(a){throw yn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new pn(this.firestore,Ji(this._delegate,hR(t,e)))}catch(r){throw yn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new pn(this.firestore,Ji(this._delegate,fR(t)))}catch(e){throw yn(e,"limit()","Query.limit()")}}limitToLast(t){try{return new pn(this.firestore,Ji(this._delegate,dR(t)))}catch(e){throw yn(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new pn(this.firestore,Ji(this._delegate,mR(...t)))}catch(e){throw yn(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new pn(this.firestore,Ji(this._delegate,gR(...t)))}catch(e){throw yn(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new pn(this.firestore,Ji(this._delegate,pR(...t)))}catch(e){throw yn(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new pn(this.firestore,Ji(this._delegate,yR(...t)))}catch(e){throw yn(e,"endAt()","Query.endAt()")}}isEqual(t){return C6(this._delegate,t._delegate)}get(t){let e;return t?.source==="cache"?e=AR(this._delegate):t?.source==="server"?e=SR(this._delegate):e=wR(this._delegate),e.then(r=>new Vp(this.firestore,new or(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=X6(t),r=Z6(t,a=>new Vp(this.firestore,new or(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Q6(this._delegate,e,r)}withConverter(t){return new pn(this.firestore,t?this._delegate.withConverter(Da.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class HR{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new _c(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vp{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new _c(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new HR(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new _c(this._firestore,r))})}isEqual(t){return G6(this._delegate,t._delegate)}}class hl extends pn{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Zn(this.firestore,t):null}doc(t){try{return t===void 0?new Zn(this.firestore,Jf(this._delegate)):new Zn(this.firestore,Jf(this._delegate,t))}catch(e){throw yn(e,"doc()","CollectionReference.doc()")}}add(t){return IR(this._delegate,t).then(e=>new Zn(this.firestore,e))}isEqual(t){return D6(this._delegate,t._delegate)}withConverter(t){return new hl(this.firestore,t?this._delegate.withConverter(Da.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function _a(i){return qt(i,ae)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(...t){this._delegate=new ps(...t)}static documentId(){return new n0(fe.keyField().canonicalString())}isEqual(t){return t=Me(t),t instanceof ps?this._delegate._internalPath.isEqual(t._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static serverTimestamp(){const t=PR();return t._methodName="FieldValue.serverTimestamp",new ga(t)}static delete(){const t=OR();return t._methodName="FieldValue.delete",new ga(t)}static arrayUnion(...t){const e=kR(...t);return e._methodName="FieldValue.arrayUnion",new ga(e)}static arrayRemove(...t){const e=LR(...t);return e._methodName="FieldValue.arrayRemove",new ga(e)}static increment(t){const e=zR(t);return e._methodName="FieldValue.increment",new ga(e)}constructor(t){this._delegate=t}isEqual(t){return this._delegate.isEqual(t._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={Firestore:K6,GeoPoint:ar,Timestamp:Qt,Blob:pc,Transaction:Y6,WriteBatch:$6,DocumentReference:Zn,DocumentSnapshot:yc,Query:pn,QueryDocumentSnapshot:_c,QuerySnapshot:Vp,CollectionReference:hl,FieldPath:n0,FieldValue:ga,setLogLevel:FR,CACHE_SIZE_UNLIMITED:X8};function QR(i,t){i.INTERNAL.registerComponent(new Ea("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("firestore").getImmediate();return t(r,a)},"PUBLIC").setServiceProps({...GR}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(i){QR(i,(t,e)=>new K6(t,e,new qR)),i.registerVersion(BR,UR)}KR(ec);const YR={apiKey:"AIzaSyAj4hbemsnaFT6kaX3uffXiTf93ZdQQeWs",authDomain:"reviews-7bc09.firebaseapp.com",projectId:"reviews-7bc09",storageBucket:"reviews-7bc09.firebasestorage.app",messagingSenderId:"1087527214005",appId:"1:1087527214005:web:b08ba8e386994a1e3017fc",measurementId:"G-9503YFZX7X"};ec.apps.length||ec.initializeApp(YR);const $R=ec.firestore(),XR=()=>{const[i,t]=J.useState({name:"",email:"",message:""}),[e,r]=J.useState(""),[a,l]=J.useState("text-gray-700"),c=m=>{t({...i,[m.target.name]:m.target.value})},d=async m=>{m.preventDefault();const{name:p,email:_,message:T}=i;if(!p||!_||!T){r("Please fill in all fields."),l("text-red-600");return}try{await $R.collection("contacts").add({name:p,email:_,message:T,date:new Date().toISOString()}),r("Message sent successfully. Thank you!"),l("text-green-600"),t({name:"",email:"",message:""})}catch(w){console.error("Error sending message:",w),r("There was an error sending your message. Please try again."),l("text-gray-700")}};return L.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex items-center justify-center overflow-hidden",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),L.jsxs("div",{className:"relative z-10 w-full max-w-3xl px-6 py-16 md:py-20 flex flex-col items-center",children:[L.jsx("h2",{className:"text-4xl font-extrabold mb-4 text-center text-sky-400",children:"Contact Me"}),L.jsx("p",{className:"text-gray-300 text-center mb-12",children:"Have a question or want to work together? Fill out the form below and I’ll get back to you as soon as possible."}),L.jsxs("form",{onSubmit:d,className:"flex flex-col gap-6 bg-gray-800 p-8 rounded-2xl shadow-2xl backdrop-blur-md w-full",children:[L.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[L.jsx(vw,{className:"text-gray-300"}),L.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),L.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[L.jsx(yw,{className:"text-gray-300"}),L.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:i.email,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),L.jsxs("div",{className:"flex items-start gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[L.jsx(pw,{className:"text-gray-300 mt-2"}),L.jsx("textarea",{name:"message",placeholder:"Your Message",rows:6,value:i.message,onChange:c,className:"bg-transparent text-white w-full focus:outline-none resize-none",required:!0})]}),L.jsx("button",{type:"submit",className:"bg-sky-500 hover:bg-sky-400 font-medium py-3 rounded-xl transition-transform duration-300 transform hover:scale-105",children:"Send Message"})]}),e&&L.jsx("p",{className:`mt-6 text-center ${a} font-medium`,children:e})]})]})},y4=["https://kiuliumov.github.io/portfolioV2/images/programming-cert.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert2.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert3.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert4.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert5.png","https://kiuliumov.github.io/portfolioV2/images/orm-certificate.png","https://kiuliumov.github.io/portfolioV2/images/django.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert6.jpg","https://kiuliumov.github.io/portfolioV2/images/programming-cert7.jpg","https://kiuliumov.github.io/portfolioV2/images/programming-cert8.jpg"],ZR=()=>L.jsxs("div",{className:"relative min-h-screen bg-gray-900 text-white flex flex-col",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),L.jsxs("div",{className:"py-12 text-center relative z-10",children:[L.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold mt-20 bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 bg-clip-text text-transparent drop-shadow-lg",children:"Certifications"}),L.jsx("div",{className:"mt-4 h-1 w-20 md:w-24 mx-auto bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 rounded-full animate-pulse"}),L.jsx("p",{className:"text-gray-300 mt-4 text-lg md:text-xl lg:text-2xl",children:"Showcasing achievements and skills"})]}),L.jsx("div",{className:"flex-1 flex items-center overflow-hidden py-12 sm:py-16 lg:py-20 relative z-10",children:L.jsx("div",{className:"w-full",children:L.jsx("div",{className:"flex animate-marquee gap-6 sm:gap-8 md:gap-12",children:y4.concat(y4).map((i,t)=>L.jsx("img",{src:i,alt:`Certificate ${t+1}`,className:"h-48 sm:h-64 md:h-80 lg:h-[28rem] xl:h-[32rem] object-contain rounded-xl shadow-2xl flex-shrink-0"},t))})})}),L.jsx("style",{children:`
        @keyframes marquee {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .animate-marquee {
          display: flex;
          width: max-content;
          animation: marquee 20s linear infinite;
        }
      `})]}),JR=[{name:"CantinaShop",description:"A Django-based e-commerce app for online shopping.",github:"https://github.com/Kiuliumov/CantinaShop",image:"https://kiuliumov.github.io/portfolioV2/images/cantinashoplogo.jpg"},{name:"GDBOT",description:"A Geometry Dash Discord bot to track scores and levels.",github:"https://github.com/Kiuliumov/GDBOT",image:"https://kiuliumov.github.io/portfolioV2/images/gd.png"},{name:"CasinoBot",description:"A casino-themed Discord bot with games and betting features.",github:"https://github.com/Kiuliumov/CasinoBot",image:"https://kiuliumov.github.io/portfolioV2/images/casino.png"},{name:"nationalHeroes",description:"A QR code-based information portal for learning about national heroes.",github:"https://github.com/Kiuliumov/nationalHero",image:"https://kiuliumov.github.io/portfolioV2/images/code.png"},{name:"EventManager",description:"Software built for internship at Nemetscheck summer 2025 to manage events efficiently.",github:"https://github.com/AusP3r1sh/EventManagerNemetschek",image:"https://kiuliumov.github.io/portfolioV2/images/nemcheck.png"},{name:"MacroMaster",description:"A macro management system to automate repetitive tasks and optimize workflow.",github:"https://github.com/Kiuliumov/MacroMaster",image:"https://github.com/Kiuliumov/MacroMaster/blob/main/client/MacroMaster/src/assets/MacroMaster.png?raw=true"}],WR=()=>L.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-700/20 via-sky-500/20 to-indigo-800/20 blur-3xl pointer-events-none animate-fadeIn"}),L.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:[L.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 text-center leading-tight text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-sky-400 animate-fadeInUp",children:"My Projects"}),L.jsxs("p",{className:"text-gray-300 text-center mb-12 text-lg md:text-xl",children:["Built with"," ",L.jsx("span",{className:"text-sky-400 font-semibold",children:"React + TypeScript"})]}),L.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:JR.map((i,t)=>L.jsxs("div",{className:"relative bg-gray-800/90 backdrop-blur-md rounded-3xl p-6 shadow-xl transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:-translate-y-2 group border border-gray-700 overflow-hidden",children:[i.image&&L.jsx("div",{className:"relative overflow-hidden rounded-2xl mb-4",children:L.jsx("img",{src:i.image,alt:i.name,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105 group-hover:brightness-90"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-bold text-white mb-1 relative z-10",children:i.name}),L.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-purple-500 to-sky-400 rounded-full mb-3 animate-pulse"}),L.jsx("p",{className:"text-gray-200 leading-relaxed",children:i.description})]}),L.jsx("div",{className:"pt-4",children:L.jsxs("a",{href:i.github,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-purple-500 to-sky-500 hover:from-sky-500 hover:to-purple-500 rounded-xl text-white font-medium transition-transform duration-300 transform hover:scale-105 mt-4",children:[L.jsx(qo,{})," View on GitHub"]})})]},t))}),L.jsx("div",{className:"pt-16 flex justify-center",children:L.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-sky-500 hover:from-sky-500 hover:to-purple-500 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[L.jsx(qo,{})," Explore All Projects"]})})]})]}),tI=()=>{const i=[{icon:L.jsx(z4,{size:20}),href:"https://linkedin.com/Kiuliumov"},{icon:L.jsx(B4,{size:20}),href:"https://x.com/DKiuliumov"},{icon:L.jsx(qo,{size:20}),href:"https://github.com/Kiuliumov"}];return L.jsx("footer",{className:"bg-gray-900 text-gray-400 px-4 py-4 w-full",children:L.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[L.jsx("div",{className:"hidden md:flex items-center gap-2",children:L.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/The cantina logo.png",alt:"The Cantina",className:"w-28"})}),L.jsxs("div",{className:"text-sm text-gray-400 text-center flex-1",children:["© ",new Date().getFullYear()," The Cantina. All rights reserved."]}),L.jsx("div",{className:"hidden md:flex items-center gap-4",children:i.map((t,e)=>L.jsx("a",{href:t.href,target:"_blank",rel:"noreferrer",className:"w-10 h-10 border border-gray-700 rounded-full flex items-center justify-center text-gray-400 hover:text-sky-400 hover:border-sky-400 transition-all duration-300",children:t.icon},e))})]})})},eI=()=>{const i=x4();return L.jsxs("section",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white px-6 text-center overflow-hidden",children:[L.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),L.jsx("h1",{className:"text-9xl font-extrabold text-sky-500 animate-pulse relative z-10",children:"404"}),L.jsx("h2",{className:"text-3xl md:text-4xl font-bold mt-6 animate-fadeIn relative z-10",children:"Page Not Found"}),L.jsx("p",{className:"text-gray-400 mt-2 max-w-md animate-fadeIn delay-100 relative z-10",children:"Oops! The page you’re looking for doesn’t exist or has been moved."}),L.jsxs("button",{onClick:()=>i("/"),className:"mt-8 px-6 py-3 bg-sky-500 hover:bg-sky-400 rounded-lg flex items-center gap-2 font-medium transition-transform transform hover:scale-105 relative z-10",children:[L.jsx(_w,{})," Go Home"]})]})};function nI(){return L.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[L.jsx(ew,{}),L.jsx("main",{className:"flex-grow",children:L.jsxs(bb,{children:[L.jsx(oa,{path:"/",element:L.jsx(Pw,{})}),L.jsx(oa,{path:"/about",element:L.jsx(kw,{})}),L.jsx(oa,{path:"/contact",element:L.jsx(XR,{})}),L.jsx(oa,{path:"/certifications",element:L.jsx(ZR,{})}),L.jsx(oa,{path:"/projects",element:L.jsx(WR,{})}),L.jsx(oa,{path:"*",element:L.jsx(eI,{})})]})}),L.jsx(tI,{})]})}N5.createRoot(document.getElementById("root")).render(L.jsx(ns.StrictMode,{children:L.jsx(Gb,{children:L.jsx(nI,{})})}));
