(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function b4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cg={exports:{}},Du={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function ST(){if(g2)return Du;g2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Du.Fragment=e,Du.jsx=t,Du.jsxs=t,Du}var p2;function RT(){return p2||(p2=1,Cg.exports=ST()),Cg.exports}var N=RT(),Dg={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function xT(){if(y2)return Ie;y2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function j(V,re,de){this.props=V,this.context=re,this.refs=K,this.updater=de||C}j.prototype.isReactComponent={},j.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function se(){}se.prototype=j.prototype;function W(V,re,de){this.props=V,this.context=re,this.refs=K,this.updater=de||C}var ne=W.prototype=new se;ne.constructor=W,U(ne,j.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function D(V,re,de,ae,be,De){return de=De.ref,{$$typeof:i,type:V,key:re,ref:de!==void 0?de:null,props:De}}function S(V,re){return D(V.type,re,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function M(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return re[de]})}var O=/\/+/g;function z(V,re){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):re.toString(36)}function I(){}function Yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function pt(V,re,de,ae,be){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case i:case e:Se=!0;break;case _:return Se=V._init,pt(Se(V._payload),re,de,ae,be)}}if(Se)return be=be(V),Se=ae===""?"."+z(V,0):ae,fe(be)?(de="",Se!=null&&(de=Se.replace(O,"$&/")+"/"),pt(be,re,de,"",function(ur){return ur})):be!=null&&(R(be)&&(be=S(be,de+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(O,"$&/")+"/")+Se)),re.push(be)),1;Se=0;var Ut=ae===""?".":ae+":";if(fe(V))for(var it=0;it<V.length;it++)ae=V[it],De=Ut+z(ae,it),Se+=pt(ae,re,de,De,be);else if(it=w(V),typeof it=="function")for(V=it.call(V),it=0;!(ae=V.next()).done;)ae=ae.value,De=Ut+z(ae,it++),Se+=pt(ae,re,de,De,be);else if(De==="object"){if(typeof V.then=="function")return pt(Yt(V),re,de,ae,be);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(V,re,de){if(V==null)return V;var ae=[],be=0;return pt(V,ae,"","",function(De){return re.call(de,De,be++)}),ae}function ce(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var Ee=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Fe(){}return Ie.Children={map:X,forEach:function(V,re,de){X(V,function(){re.apply(this,arguments)},de)},count:function(V){var re=0;return X(V,function(){re++}),re},toArray:function(V){return X(V,function(re){return re})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=j,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=W,Ie.StrictMode=r,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ue.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,re,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=U({},V.props),be=V.key,De=void 0;if(re!=null)for(Se in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(be=""+re.key),re)!_e.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(ae[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)ae.children=de;else if(1<Se){for(var Ut=Array(Se),it=0;it<Se;it++)Ut[it]=arguments[it+2];ae.children=Ut}return D(V.type,be,void 0,void 0,De,ae)},Ie.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,re,de){var ae,be={},De=null;if(re!=null)for(ae in re.key!==void 0&&(De=""+re.key),re)_e.call(re,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=re[ae]);var Se=arguments.length-2;if(Se===1)be.children=de;else if(1<Se){for(var Ut=Array(Se),it=0;it<Se;it++)Ut[it]=arguments[it+2];be.children=Ut}if(V&&V.defaultProps)for(ae in Se=V.defaultProps,Se)be[ae]===void 0&&(be[ae]=Se[ae]);return D(V,De,void 0,void 0,null,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=R,Ie.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ce}},Ie.memo=function(V,re){return{$$typeof:p,type:V,compare:re===void 0?null:re}},Ie.startTransition=function(V){var re=ue.T,de={};ue.T=de;try{var ae=V(),be=ue.S;be!==null&&be(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Fe,Ee)}catch(De){Ee(De)}finally{ue.T=re}},Ie.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ie.use=function(V){return ue.H.use(V)},Ie.useActionState=function(V,re,de){return ue.H.useActionState(V,re,de)},Ie.useCallback=function(V,re){return ue.H.useCallback(V,re)},Ie.useContext=function(V){return ue.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,re){return ue.H.useDeferredValue(V,re)},Ie.useEffect=function(V,re,de){var ae=ue.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,re)},Ie.useId=function(){return ue.H.useId()},Ie.useImperativeHandle=function(V,re,de){return ue.H.useImperativeHandle(V,re,de)},Ie.useInsertionEffect=function(V,re){return ue.H.useInsertionEffect(V,re)},Ie.useLayoutEffect=function(V,re){return ue.H.useLayoutEffect(V,re)},Ie.useMemo=function(V,re){return ue.H.useMemo(V,re)},Ie.useOptimistic=function(V,re){return ue.H.useOptimistic(V,re)},Ie.useReducer=function(V,re,de){return ue.H.useReducer(V,re,de)},Ie.useRef=function(V){return ue.H.useRef(V)},Ie.useState=function(V){return ue.H.useState(V)},Ie.useSyncExternalStore=function(V,re,de){return ue.H.useSyncExternalStore(V,re,de)},Ie.useTransition=function(){return ue.H.useTransition()},Ie.version="19.1.1",Ie}var _2;function Mp(){return _2||(_2=1,Dg.exports=xT()),Dg.exports}var $=Mp();const rs=b4($);var Vg={exports:{}},Vu={},Ng={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function IT(){return v2||(v2=1,(function(i){function e(X,ce){var Ee=X.length;X.push(ce);e:for(;0<Ee;){var Fe=Ee-1>>>1,V=X[Fe];if(0<a(V,ce))X[Fe]=ce,X[Ee]=V,Ee=Fe;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],Ee=X.pop();if(Ee!==ce){X[0]=Ee;e:for(var Fe=0,V=X.length,re=V>>>1;Fe<re;){var de=2*(Fe+1)-1,ae=X[de],be=de+1,De=X[be];if(0>a(ae,Ee))be<V&&0>a(De,ae)?(X[Fe]=De,X[be]=Ee,Fe=be):(X[Fe]=ae,X[de]=Ee,Fe=de);else if(be<V&&0>a(De,Ee))X[Fe]=De,X[be]=Ee,Fe=be;else break e}}return ce}function a(X,ce){var Ee=X.sortIndex-ce.sortIndex;return Ee!==0?Ee:X.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,b=null,w=3,C=!1,U=!1,K=!1,j=!1,se=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=X)r(p),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=t(p)}}function ue(X){if(K=!1,fe(X),!U)if(t(m)!==null)U=!0,_e||(_e=!0,z());else{var ce=t(p);ce!==null&&pt(ue,ce.startTime-X)}}var _e=!1,D=-1,S=5,R=-1;function M(){return j?!0:!(i.unstable_now()-R<S)}function O(){if(j=!1,_e){var X=i.unstable_now();R=X;var ce=!0;try{e:{U=!1,K&&(K=!1,W(D),D=-1),C=!0;var Ee=w;try{t:{for(fe(X),b=t(m);b!==null&&!(b.expirationTime>X&&M());){var Fe=b.callback;if(typeof Fe=="function"){b.callback=null,w=b.priorityLevel;var V=Fe(b.expirationTime<=X);if(X=i.unstable_now(),typeof V=="function"){b.callback=V,fe(X),ce=!0;break t}b===t(m)&&r(m),fe(X)}else r(m);b=t(m)}if(b!==null)ce=!0;else{var re=t(p);re!==null&&pt(ue,re.startTime-X),ce=!1}}break e}finally{b=null,w=Ee,C=!1}ce=void 0}}finally{ce?z():_e=!1}}}var z;if(typeof ne=="function")z=function(){ne(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Yt=I.port2;I.port1.onmessage=O,z=function(){Yt.postMessage(null)}}else z=function(){se(O,0)};function pt(X,ce){D=se(function(){X(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var Ee=w;w=ce;try{return X()}finally{w=Ee}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Ee=w;w=X;try{return ce()}finally{w=Ee}},i.unstable_scheduleCallback=function(X,ce,Ee){var Fe=i.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Fe+Ee:Fe):Ee=Fe,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Ee+V,X={id:_++,callback:ce,priorityLevel:X,startTime:Ee,expirationTime:V,sortIndex:-1},Ee>Fe?(X.sortIndex=Ee,e(p,X),t(m)===null&&X===t(p)&&(K?(W(D),D=-1):K=!0,pt(ue,Ee-Fe))):(X.sortIndex=V,e(m,X),U||C||(U=!0,_e||(_e=!0,z()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var ce=w;return function(){var Ee=w;w=ce;try{return X.apply(this,arguments)}finally{w=Ee}}}})(kg)),kg}var E2;function CT(){return E2||(E2=1,Ng.exports=IT()),Ng.exports}var Mg={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function DT(){if(b2)return an;b2=1;var i=Mp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},an.flushSync=function(m){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=_,r.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,b=d(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:C}):_==="script"&&r.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=d(_,p.crossOrigin);r.d.L(m,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},an.requestFormReset=function(m){r.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.1",an}var T2;function VT(){if(T2)return Mg.exports;T2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mg.exports=DT(),Mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function NT(){if(w2)return Vu;w2=1;var i=CT(),e=Mp(),t=VT();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,T=f.child;T;){if(T===o){E=!0,o=f,u=g;break}if(T===u){E=!0,u=f,o=g;break}T=T.sibling}if(!E){for(T=g.child;T;){if(T===o){E=!0,o=g,u=f;break}if(T===u){E=!0,u=g,o=f;break}T=T.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Yt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case j:return"Profiler";case K:return"StrictMode";case ue:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case fe:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:Yt(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return Yt(n(s))}catch{}}return null}var pt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Fe=[],V=-1;function re(n){return{current:n}}function de(n){0>V||(n.current=Fe[V],Fe[V]=null,V--)}function ae(n,s){V++,Fe[V]=n.current,n.current=s}var be=re(null),De=re(null),Se=re(null),Ut=re(null);function it(n,s){switch(ae(Se,s),ae(De,n),ae(be,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?F_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=F_(s),n=H_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(be),ae(be,n)}function ur(){de(be),de(De),de(Se)}function Ei(n){n.memoizedState!==null&&ae(Ut,n);var s=be.current,o=H_(s,n.type);s!==o&&(ae(De,n),ae(be,o))}function Pr(n){De.current===n&&(de(be),de(De)),Ut.current===n&&(de(Ut),Su._currentValue=Ee)}var Ss=Object.prototype.hasOwnProperty,Rs=i.unstable_scheduleCallback,xs=i.unstable_cancelCallback,Tl=i.unstable_shouldYield,zc=i.unstable_requestPaint,Ln=i.unstable_now,Cd=i.unstable_getCurrentPriorityLevel,wl=i.unstable_ImmediatePriority,za=i.unstable_UserBlockingPriority,Is=i.unstable_NormalPriority,Dd=i.unstable_LowPriority,La=i.unstable_IdlePriority,Al=i.log,Lc=i.unstable_setDisableYieldValue,yt=null,Ke=null;function Rn(n){if(typeof Al=="function"&&Lc(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(yt,n)}catch{}}var rn=Math.clz32?Math.clz32:Cs,Bc=Math.log,Vd=Math.LN2;function Cs(n){return n>>>=0,n===0?32:31-(Bc(n)/Vd|0)|0}var Ds=256,Vs=4194304;function Wn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ba(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~g,u!==0?f=Wn(u):(E&=T,E!==0?f=Wn(E):o||(o=T&~n,o!==0&&(f=Wn(o))))):(T=u&~g,T!==0?f=Wn(T):E!==0?f=Wn(E):o||(o=u&~n,o!==0&&(f=Wn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Ns(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Sl(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var n=Ds;return Ds<<=1,(Ds&4194048)===0&&(Ds=256),n}function xl(){var n=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),n}function zr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Lr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Il(n,s,o,u,f,g){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-rn(o),ee=1<<Z;T[Z]=0,x[Z]=-1;var H=F[Z];if(H!==null)for(F[Z]=null,Z=0;Z<H.length;Z++){var G=H[Z];G!==null&&(G.lane&=-536870913)}o&=~ee}u!==0&&cr(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(E&~s))}function cr(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-rn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Cl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-rn(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function bi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ti(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:u2(n.type))}function Uc(n,s){var o=ce.p;try{return ce.p=n,s()}finally{ce.p=o}}var ut=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ut,xt="__reactProps$"+ut,Bn="__reactContainer$"+ut,Dl="__reactEvents$"+ut,Nd="__reactListeners$"+ut,wi="__reactHandles$"+ut,jc="__reactResources$"+ut,ks="__reactMarker$"+ut;function Ai(n){delete n[Mt],delete n[xt],delete n[Dl],delete n[Nd],delete n[wi]}function Br(n){var s=n[Mt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Bn]||o[Mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Y_(n);n!==null;){if(o=n[Mt])return o;n=Y_(n)}return s}n=o,o=n.parentNode}return null}function hr(n){if(n=n[Mt]||n[Bn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function fr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function fn(n){var s=n[jc];return s||(s=n[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(n){n[ks]=!0}var Vl=new Set,ja={};function er(n,s){Ur(n,s),Ur(n+"Capture",s)}function Ur(n,s){for(ja[n]=s,n=0;n<s.length;n++)Vl.add(s[n])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},Ms={};function Hc(n){return Ss.call(Ms,n)?!0:Ss.call(Fc,n)?!1:qc.test(n)?Ms[n]=!0:(Fc[n]=!0,!1)}function Si(n,s,o){if(Hc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function dr(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function $t(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var Os,Gc;function jr(n){if(Os===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Os=s&&s[1]||"",Gc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+Gc}var qa=!1;function Fa(n,s){if(!n||qa)return"";qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(G){H=G}n.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],T=g[1];if(E&&T){var x=E.split(`
`),F=T.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===F.length)for(u=x.length-1,f=F.length-1;1<=u&&0<=f&&x[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==F[f]){var Z=`
`+x[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{qa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?jr(o):""}function Nl(n){switch(n.tag){case 26:case 27:case 5:return jr(n.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Fa(n.type,!1);case 11:return Fa(n.type.render,!1);case 1:return Fa(n.type,!0);case 31:return jr("Activity");default:return""}}function Ha(n){try{var s="";do s+=Nl(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kd(n){var s=kl(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ga(n){n._valueTracker||(n._valueTracker=kd(n))}function Ml(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=kl(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Ps(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Md=/[\n"\\]/g;function It(n){return n.replace(Md,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xn(n,s,o,u,f,g,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ri(n,E,dn(s)):o!=null?Ri(n,E,dn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+dn(T):n.removeAttribute("name")}function zs(n,s,o,u,f,g,E,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+dn(o):"",s=s!=null?""+dn(s):o,T||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ri(n,s,o){s==="number"&&Ps(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function qr(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+dn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Je(n,s,o){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+dn(o):""}function Ls(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(pt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=dn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Un(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Bs.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Ol(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Qc(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Qc(n,g,s[g])}function Pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(n){return Pd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Fr=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hr=null,Gr=null;function zl(n){var s=hr(n);if(s&&(n=s.stateNode)){var o=n[xt]||null;e:switch(n=s.stateNode,s.type){case"input":if(xn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[xt]||null;if(!f)throw Error(r(90));xn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ml(u)}break e;case"textarea":Je(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&qr(n,!!o.multiple,s,!1)}}}var mr=!1;function Kc(n,s,o){if(mr)return n(s,o);mr=!0;try{var u=n(s);return u}finally{if(mr=!1,(Hr!==null||Gr!==null)&&(Uh(),Hr&&(s=Hr,n=Gr,Gr=Hr=null,zl(s),n)))for(s=0;s<n.length;s++)zl(n[s])}}function Us(n,s){var o=n.stateNode;if(o===null)return null;var u=o[xt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(tr)try{var js={};Object.defineProperty(js,"passive",{get:function(){qn=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{qn=!1}var gr=null,xi=null,Qr=null;function Ll(){if(Qr)return Qr;var n,s=xi,o=s.length,u,f="value"in gr?gr.value:gr.textContent,g=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return Qr=f.slice(n,1<u?1-u:void 0)}function pr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function yr(){return!0}function Bl(){return!1}function jt(n){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yr:Bl,this.isPropagationStopped=Bl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=jt(Ge),qs=_({},Ge,{view:0,detail:0}),Yc=jt(qs),Ya,$a,_r,Fs=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_r&&(_r&&n.type==="mousemove"?(Ya=n.screenX-_r.screenX,$a=n.screenY-_r.screenY):$a=Ya=0,_r=n),Ya)},movementY:function(n){return"movementY"in n?n.movementY:$a}}),Fn=jt(Fs),$c=_({},Fs,{dataTransfer:0}),zd=jt($c),Hs=_({},qs,{relatedTarget:0}),Xa=jt(Hs),Ul=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=jt(Ul),Xc=_({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ja=jt(Xc),Ld=_({},Ge,{data:0}),jl=jt(Ld),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Jc[n])?!!s[n]:!1}function Qs(){return ql}var Wc=_({},qs,{key:function(n){if(n.key){var s=Gs[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(n){return n.type==="keypress"?pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wa=jt(Wc),eh=_({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=jt(eh),Kr=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),th=jt(Kr),nh=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),rh=jt(nh),ih=_({},Fs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=jt(ih),mn=_({},Ge,{newState:0,oldState:0}),sh=jt(mn),ah=[9,13,27,32],vr=tr&&"CompositionEvent"in window,h=null;tr&&"documentMode"in document&&(h=document.documentMode);var y=tr&&"TextEvent"in window&&!h,v=tr&&(!vr||h&&8<h&&11>=h),A=" ",L=!1;function Y(n,s){switch(n){case"keyup":return ah.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Ot(n,s){switch(n){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(L=!0,A);case"textInput":return n=s.data,n===A&&L?null:n;default:return null}}function Le(n,s){if(ze)return n==="compositionend"||!vr&&Y(n,s)?(n=Ll(),Qr=xi=gr=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qt[n.type]:s==="textarea"}function Yr(n,s,o,u){Hr?Gr?Gr.push(u):Gr=[u]:Hr=u,s=Qh(s,"onChange"),0<s.length&&(o=new Ka("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Xt=null,Er=null;function Hl(n){L_(n,0)}function oh(n){var s=fr(n);if(Ml(s))return n}function s0(n,s){if(n==="change")return s}var a0=!1;if(tr){var Bd;if(tr){var Ud="oninput"in document;if(!Ud){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Ud=typeof o0.oninput=="function"}Bd=Ud}else Bd=!1;a0=Bd&&(!document.documentMode||9<document.documentMode)}function l0(){Xt&&(Xt.detachEvent("onpropertychange",u0),Er=Xt=null)}function u0(n){if(n.propertyName==="value"&&oh(Er)){var s=[];Yr(s,Er,n,jn(n)),Kc(Hl,s)}}function tb(n,s,o){n==="focusin"?(l0(),Xt=s,Er=o,Xt.attachEvent("onpropertychange",u0)):n==="focusout"&&l0()}function nb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oh(Er)}function rb(n,s){if(n==="click")return oh(s)}function ib(n,s){if(n==="input"||n==="change")return oh(s)}function sb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var In=typeof Object.is=="function"?Object.is:sb;function Gl(n,s){if(In(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ss.call(s,f)||!In(n[f],s[f]))return!1}return!0}function c0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function h0(n,s){var o=c0(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=c0(o)}}function f0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?f0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function d0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ps(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Ps(n.document)}return s}function jd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ab=tr&&"documentMode"in document&&11>=document.documentMode,to=null,qd=null,Ql=null,Fd=!1;function m0(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Fd||to==null||to!==Ps(u)||(u=to,"selectionStart"in u&&jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Gl(Ql,u)||(Ql=u,u=Qh(qd,"onSelect"),0<u.length&&(s=new Ka("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=to)))}function Ks(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var no={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Hd={},g0={};tr&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Ys(n){if(Hd[n])return Hd[n];if(!no[n])return n;var s=no[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in g0)return Hd[n]=s[o];return n}var p0=Ys("animationend"),y0=Ys("animationiteration"),_0=Ys("animationstart"),ob=Ys("transitionrun"),lb=Ys("transitionstart"),ub=Ys("transitioncancel"),v0=Ys("transitionend"),E0=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function nr(n,s){E0.set(n,s),er(s,[n])}var b0=new WeakMap;function Hn(n,s){if(typeof n=="object"&&n!==null){var o=b0.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Ha(s)},b0.set(n,s),s)}return{value:n,source:s,stack:Ha(s)}}var Gn=[],ro=0,Qd=0;function lh(){for(var n=ro,s=Qd=ro=0;s<n;){var o=Gn[s];Gn[s++]=null;var u=Gn[s];Gn[s++]=null;var f=Gn[s];Gn[s++]=null;var g=Gn[s];if(Gn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&T0(o,f,g)}}function uh(n,s,o,u){Gn[ro++]=n,Gn[ro++]=s,Gn[ro++]=o,Gn[ro++]=u,Qd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Kd(n,s,o,u){return uh(n,s,o,u),ch(n)}function io(n,s){return uh(n,null,null,s),ch(n)}function T0(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-rn(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function ch(n){if(50<yu)throw yu=0,Wm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var so={};function cb(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,s,o,u){return new cb(n,s,o,u)}function Yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $r(n,s){var o=n.alternate;return o===null?(o=Cn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function w0(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function hh(n,s,o,u,f,g){var E=0;if(u=n,typeof n=="function")Yd(n)&&(E=1);else if(typeof n=="string")E=fT(n,o,be.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Cn(31,o,s,f),n.elementType=R,n.lanes=g,n;case U:return $s(o.children,f,g,s);case K:E=8,f|=24;break;case j:return n=Cn(12,o,s,f|2),n.elementType=j,n.lanes=g,n;case ue:return n=Cn(13,o,s,f),n.elementType=ue,n.lanes=g,n;case _e:return n=Cn(19,o,s,f),n.elementType=_e,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case se:case ne:E=10;break e;case W:E=9;break e;case fe:E=11;break e;case D:E=14;break e;case S:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Cn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function $s(n,s,o,u){return n=Cn(7,n,u,s),n.lanes=o,n}function $d(n,s,o){return n=Cn(6,n,null,s),n.lanes=o,n}function Xd(n,s,o){return s=Cn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ao=[],oo=0,fh=null,dh=0,Qn=[],Kn=0,Xs=null,Xr=1,Zr="";function Zs(n,s){ao[oo++]=dh,ao[oo++]=fh,fh=n,dh=s}function A0(n,s,o){Qn[Kn++]=Xr,Qn[Kn++]=Zr,Qn[Kn++]=Xs,Xs=n;var u=Xr;n=Zr;var f=32-rn(u)-1;u&=~(1<<f),o+=1;var g=32-rn(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Xr=1<<32-rn(s)+f|o<<f|u,Zr=g+n}else Xr=1<<g|o<<f|u,Zr=n}function Zd(n){n.return!==null&&(Zs(n,1),A0(n,1,0))}function Jd(n){for(;n===fh;)fh=ao[--oo],ao[oo]=null,dh=ao[--oo],ao[oo]=null;for(;n===Xs;)Xs=Qn[--Kn],Qn[Kn]=null,Zr=Qn[--Kn],Qn[Kn]=null,Xr=Qn[--Kn],Qn[Kn]=null}var gn=null,_t=null,He=!1,Js=null,br=!1,Wd=Error(r(519));function Ws(n){var s=Error(r(418,""));throw $l(Hn(s,n)),Wd}function S0(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Mt]=n,s[xt]=u,o){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(o=0;o<vu.length;o++)ke(vu[o],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),zs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ga(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Ls(s,u.value,u.defaultValue,u.children),Ga(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||q_(s.textContent,o)?(u.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),u.onScroll!=null&&ke("scroll",s),u.onScrollEnd!=null&&ke("scrollend",s),u.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||Ws(n)}function R0(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:gn=gn.return}}function Kl(n){if(n!==gn)return!1;if(!He)return R0(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||gg(n.type,n.memoizedProps)),o=!o),o&&_t&&Ws(n),R0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){_t=ir(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}_t=null}}else s===27?(s=_t,Fi(n.type)?(n=vg,vg=null,_t=n):_t=s):_t=gn?ir(n.stateNode.nextSibling):null;return!0}function Yl(){_t=gn=null,He=!1}function x0(){var n=Js;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),Js=null),n}function $l(n){Js===null?Js=[n]:Js.push(n)}var em=re(null),ea=null,Jr=null;function Ii(n,s,o){ae(em,s._currentValue),s._currentValue=o}function Wr(n){n._currentValue=em.current,de(em)}function tm(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function nm(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var x=0;x<s.length;x++)if(T.context===s[x]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),tm(g.return,o,n),u||(E=null);break e}g=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),tm(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Xl(n,s,o,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var T=f.type;In(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Ut.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Su):n=[Su])}f=f.return}n!==null&&nm(s,n,o,u),s.flags|=262144}function mh(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ta(n){ea=n,Jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return I0(ea,n)}function gh(n,s){return ea===null&&ta(n),I0(n,s)}function I0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Jr===null){if(n===null)throw Error(r(308));Jr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Jr=Jr.next=s;return o}var hb=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},fb=i.unstable_scheduleCallback,db=i.unstable_NormalPriority,zt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new hb,data:new Map,refCount:0}}function Zl(n){n.refCount--,n.refCount===0&&fb(db,function(){n.controller.abort()})}var Jl=null,im=0,lo=0,uo=null;function mb(n,s){if(Jl===null){var o=Jl=[];im=0,lo=ag(),uo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return im++,s.then(C0,C0),s}function C0(){if(--im===0&&Jl!==null){uo!==null&&(uo.status="fulfilled");var n=Jl;Jl=null,lo=0,uo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function gb(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var D0=X.S;X.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&mb(n,s),D0!==null&&D0(n,s)};var na=re(null);function sm(){var n=na.current;return n!==null?n:st.pooledCache}function ph(n,s){s===null?ae(na,na.current):ae(na,s.pool)}function V0(){var n=sm();return n===null?null:{parent:zt._currentValue,pool:n}}var Wl=Error(r(460)),N0=Error(r(474)),yh=Error(r(542)),am={then:function(){}};function k0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _h(){}function M0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(_h,_h),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,P0(n),n;default:if(typeof s.status=="string")s.then(_h,_h);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,P0(n),n}throw eu=s,Wl}}var eu=null;function O0(){if(eu===null)throw Error(r(459));var n=eu;return eu=null,n}function P0(n){if(n===Wl||n===yh)throw Error(r(483))}var Ci=!1;function om(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Vi(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=ch(n),T0(n,null,o),s}return uh(n,u,s,o),ch(n)}function tu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Cl(n,o)}}function um(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var cm=!1;function nu(){if(cm){var n=uo;if(n!==null)throw n}}function ru(n,s,o,u){cm=!1;var f=n.updateQueue;Ci=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,F=x.next;x.next=null,E===null?g=F:E.next=F,E=x;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=F:T.next=F,Z.lastBaseUpdate=x))}if(g!==null){var ee=f.baseState;E=0,Z=F=x=null,T=g;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Be&H)===H:(u&H)===H){H!==0&&H===lo&&(cm=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=n,Te=T;H=s;var tt=o;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){ee=Ae.call(tt,ee,H);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,H=typeof Ae=="function"?Ae.call(tt,ee,H):Ae,H==null)break e;ee=_({},ee,H);break e;case 2:Ci=!0}}H=T.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(F=Z=G,x=ee):Z=Z.next=G,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Z===null&&(x=ee),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Bi|=E,n.lanes=E,n.memoizedState=ee}}function z0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function L0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)z0(o[n],s)}var co=re(null),vh=re(0);function B0(n,s){n=ai,ae(vh,n),ae(co,s),ai=n|s.baseLanes}function hm(){ae(vh,ai),ae(co,co.current)}function fm(){ai=vh.current,de(co),de(vh)}var Ni=0,Ce=null,We=null,Ct=null,Eh=!1,ho=!1,ra=!1,bh=0,iu=0,fo=null,pb=0;function Tt(){throw Error(r(321))}function dm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!In(n[o],s[o]))return!1;return!0}function mm(n,s,o,u,f,g){return Ni=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?Ty:wy,ra=!1,g=o(u,f),ra=!1,ho&&(g=j0(s,o,u,f)),U0(n),g}function U0(n){X.H=xh;var s=We!==null&&We.next!==null;if(Ni=0,Ct=We=Ce=null,Eh=!1,iu=0,fo=null,s)throw Error(r(300));n===null||Ft||(n=n.dependencies,n!==null&&mh(n)&&(Ft=!0))}function j0(n,s,o,u){Ce=n;var f=0;do{if(ho&&(fo=null),iu=0,ho=!1,25<=f)throw Error(r(301));if(f+=1,Ct=We=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=wb,g=s(o,u)}while(ho);return g}function yb(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?su(s):s,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Ce.flags|=1024),s}function gm(){var n=bh!==0;return bh=0,n}function pm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function ym(n){if(Eh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Eh=!1}Ni=0,Ct=We=Ce=null,ho=!1,iu=bh=0,fo=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function Dt(){if(We===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var s=Ct===null?Ce.memoizedState:Ct.next;if(s!==null)Ct=s,We=n;else{if(n===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ct===null?Ce.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(n){var s=iu;return iu+=1,fo===null&&(fo=[]),n=M0(fo,n,s),s=Ce,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Ty:wy),n}function Th(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return su(n);if(n.$$typeof===ne)return sn(n)}throw Error(r(438,String(n)))}function vm(n){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_m(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function ei(n,s){return typeof s=="function"?s(n):s}function wh(n){var s=Dt();return Em(s,We,n)}function Em(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var T=E=null,x=null,F=s,Z=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Be&ee)===ee:(Ni&ee)===ee){var H=F.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===lo&&(Z=!0);else if((Ni&H)===H){F=F.next,H===lo&&(Z=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(T=x=ee,E=g):x=x.next=ee,Ce.lanes|=H,Bi|=H;ee=F.action,ra&&o(g,ee),g=F.hasEagerState?F.eagerState:o(g,ee)}else H={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(T=x=H,E=g):x=x.next=H,Ce.lanes|=ee,Bi|=ee;F=F.next}while(F!==null&&F!==s);if(x===null?E=g:x.next=T,!In(g,n.memoizedState)&&(Ft=!0,Z&&(o=uo,o!==null)))throw o;n.memoizedState=g,n.baseState=E,n.baseQueue=x,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bm(n){var s=Dt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);In(g,s.memoizedState)||(Ft=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function q0(n,s,o){var u=Ce,f=Dt(),g=He;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!In((We||f).memoizedState,o);E&&(f.memoizedState=o,Ft=!0),f=f.queue;var T=G0.bind(null,u,f,n);if(au(2048,8,T,[n]),f.getSnapshot!==s||E||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,mo(9,Ah(),H0.bind(null,u,f,o,s),null),st===null)throw Error(r(349));g||(Ni&124)!==0||F0(u,s,o)}return o}function F0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=_m(),Ce.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function H0(n,s,o,u){s.value=o,s.getSnapshot=u,Q0(s)&&K0(n)}function G0(n,s,o){return o(function(){Q0(s)&&K0(n)})}function Q0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!In(n,o)}catch{return!0}}function K0(n){var s=io(n,2);s!==null&&Mn(s,n,2)}function Tm(n){var s=En();if(typeof n=="function"){var o=n;if(n=o(),ra){Rn(!0);try{o()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},s}function Y0(n,s,o,u){return n.baseState=o,Em(n,We,typeof u=="function"?u:ei)}function _b(n,s,o,u,f){if(Rh(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,$0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function $0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=X.T,E={};X.T=E;try{var T=o(f,u),x=X.S;x!==null&&x(E,T),X0(n,s,T)}catch(F){wm(n,s,F)}finally{X.T=g}}else try{g=o(f,u),X0(n,s,g)}catch(F){wm(n,s,F)}}function X0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z0(n,s,u)},function(u){return wm(n,s,u)}):Z0(n,s,o)}function Z0(n,s,o){s.status="fulfilled",s.value=o,J0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,$0(n,o)))}function wm(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,J0(s),s=s.next;while(s!==u)}n.action=null}function J0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function W0(n,s){return s}function ey(n,s){if(He){var o=st.formState;if(o!==null){e:{var u=Ce;if(He){if(_t){t:{for(var f=_t,g=br;f.nodeType!==8;){if(!g){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){_t=ir(f.nextSibling),u=f.data==="F!";break e}}Ws(u)}u=!1}u&&(s=o[0])}}return o=En(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:s},o.queue=u,o=vy.bind(null,Ce,u),u.dispatch=o,u=Tm(!1),g=Im.bind(null,Ce,!1,u.queue),u=En(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=_b.bind(null,Ce,f,g,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function ty(n){var s=Dt();return ny(s,We,n)}function ny(n,s,o){if(s=Em(n,s,W0)[0],n=wh(ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=su(s)}catch(E){throw E===Wl?yh:E}else u=s;s=Dt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,mo(9,Ah(),vb.bind(null,f,o),null)),[u,g,n]}function vb(n,s){n.action=s}function ry(n){var s=Dt(),o=We;if(o!==null)return ny(s,o,n);Dt(),s=s.memoizedState,o=Dt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function mo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=_m(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Ah(){return{destroy:void 0,resource:void 0}}function iy(){return Dt().memoizedState}function Sh(n,s,o,u){var f=En();u=u===void 0?null:u,Ce.flags|=n,f.memoizedState=mo(1|s,Ah(),o,u)}function au(n,s,o,u){var f=Dt();u=u===void 0?null:u;var g=f.memoizedState.inst;We!==null&&u!==null&&dm(u,We.memoizedState.deps)?f.memoizedState=mo(s,g,o,u):(Ce.flags|=n,f.memoizedState=mo(1|s,g,o,u))}function sy(n,s){Sh(8390656,8,n,s)}function ay(n,s){au(2048,8,n,s)}function oy(n,s){return au(4,2,n,s)}function ly(n,s){return au(4,4,n,s)}function uy(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function cy(n,s,o){o=o!=null?o.concat([n]):null,au(4,4,uy.bind(null,s,n),o)}function Am(){}function hy(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&dm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function fy(n,s){var o=Dt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&dm(s,u[1]))return u[0];if(u=n(),ra){Rn(!0);try{n()}finally{Rn(!1)}}return o.memoizedState=[u,s],u}function Sm(n,s,o){return o===void 0||(Ni&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=g_(),Ce.lanes|=n,Bi|=n,o)}function dy(n,s,o,u){return In(o,s)?o:co.current!==null?(n=Sm(n,o,u),In(n,s)||(Ft=!0),n):(Ni&42)===0?(Ft=!0,n.memoizedState=o):(n=g_(),Ce.lanes|=n,Bi|=n,s)}function my(n,s,o,u,f){var g=ce.p;ce.p=g!==0&&8>g?g:8;var E=X.T,T={};X.T=T,Im(n,!1,s,o);try{var x=f(),F=X.S;if(F!==null&&F(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Z=gb(x,u);ou(n,s,Z,kn(n))}else ou(n,s,u,kn(n))}catch(ee){ou(n,s,{then:function(){},status:"rejected",reason:ee},kn())}finally{ce.p=g,X.T=E}}function Eb(){}function Rm(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=gy(n).queue;my(n,f,s,Ee,o===null?Eb:function(){return py(n),o(u)})}function gy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:Ee},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function py(n){var s=gy(n).next.queue;ou(n,s,{},kn())}function xm(){return sn(Su)}function yy(){return Dt().memoizedState}function _y(){return Dt().memoizedState}function bb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();n=Di(o);var u=Vi(s,n,o);u!==null&&(Mn(u,s,o),tu(u,s,o)),s={cache:rm()},n.payload=s;return}s=s.return}}function Tb(n,s,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(n)?Ey(s,o):(o=Kd(n,s,o,u),o!==null&&(Mn(o,n,u),by(o,s,u)))}function vy(n,s,o){var u=kn();ou(n,s,o,u)}function ou(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))Ey(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,T=g(E,o);if(f.hasEagerState=!0,f.eagerState=T,In(T,E))return uh(n,s,f,0),st===null&&lh(),!1}catch{}finally{}if(o=Kd(n,s,f,u),o!==null)return Mn(o,n,u),by(o,s,u),!0}return!1}function Im(n,s,o,u){if(u={lane:2,revertLane:ag(),action:u,hasEagerState:!1,eagerState:null,next:null},Rh(n)){if(s)throw Error(r(479))}else s=Kd(n,o,u,2),s!==null&&Mn(s,n,2)}function Rh(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Ey(n,s){ho=Eh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function by(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Cl(n,o)}}var xh={readContext:sn,use:Th,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Ty={readContext:sn,use:Th,useCallback:function(n,s){return En().memoizedState=[n,s===void 0?null:s],n},useContext:sn,useEffect:sy,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Sh(4194308,4,uy.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Sh(4194308,4,n,s)},useInsertionEffect:function(n,s){Sh(4,2,n,s)},useMemo:function(n,s){var o=En();s=s===void 0?null:s;var u=n();if(ra){Rn(!0);try{n()}finally{Rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=En();if(o!==void 0){var f=o(s);if(ra){Rn(!0);try{o(s)}finally{Rn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Tb.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=En();return n={current:n},s.memoizedState=n},useState:function(n){n=Tm(n);var s=n.queue,o=vy.bind(null,Ce,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Am,useDeferredValue:function(n,s){var o=En();return Sm(o,n,s)},useTransition:function(){var n=Tm(!1);return n=my.bind(null,Ce,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ce,f=En();if(He){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),st===null)throw Error(r(349));(Be&124)!==0||F0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,sy(G0.bind(null,u,g,n),[n]),u.flags|=2048,mo(9,Ah(),H0.bind(null,u,g,o,s),null),o},useId:function(){var n=En(),s=st.identifierPrefix;if(He){var o=Zr,u=Xr;o=(u&~(1<<32-rn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=bh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=pb++,s="«"+s+"r"+o.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:xm,useFormState:ey,useActionState:ey,useOptimistic:function(n){var s=En();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Im.bind(null,Ce,!0,o),o.dispatch=s,[n,s]},useMemoCache:vm,useCacheRefresh:function(){return En().memoizedState=bb.bind(null,Ce)}},wy={readContext:sn,use:Th,useCallback:hy,useContext:sn,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:wh,useRef:iy,useState:function(){return wh(ei)},useDebugValue:Am,useDeferredValue:function(n,s){var o=Dt();return dy(o,We.memoizedState,n,s)},useTransition:function(){var n=wh(ei)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:su(n),s]},useSyncExternalStore:q0,useId:yy,useHostTransitionStatus:xm,useFormState:ty,useActionState:ty,useOptimistic:function(n,s){var o=Dt();return Y0(o,We,n,s)},useMemoCache:vm,useCacheRefresh:_y},wb={readContext:sn,use:Th,useCallback:hy,useContext:sn,useEffect:ay,useImperativeHandle:cy,useInsertionEffect:oy,useLayoutEffect:ly,useMemo:fy,useReducer:bm,useRef:iy,useState:function(){return bm(ei)},useDebugValue:Am,useDeferredValue:function(n,s){var o=Dt();return We===null?Sm(o,n,s):dy(o,We.memoizedState,n,s)},useTransition:function(){var n=bm(ei)[0],s=Dt().memoizedState;return[typeof n=="boolean"?n:su(n),s]},useSyncExternalStore:q0,useId:yy,useHostTransitionStatus:xm,useFormState:ry,useActionState:ry,useOptimistic:function(n,s){var o=Dt();return We!==null?Y0(o,We,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:vm,useCacheRefresh:_y},go=null,lu=0;function Ih(n){var s=lu;return lu+=1,go===null&&(go=[]),M0(go,n,s)}function uu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ch(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ay(n){var s=n._init;return s(n._payload)}function Sy(n){function s(P,k){if(n){var q=P.deletions;q===null?(P.deletions=[k],P.flags|=16):q.push(k)}}function o(P,k){if(!n)return null;for(;k!==null;)s(P,k),k=k.sibling;return null}function u(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function f(P,k){return P=$r(P,k),P.index=0,P.sibling=null,P}function g(P,k,q){return P.index=q,n?(q=P.alternate,q!==null?(q=q.index,q<k?(P.flags|=67108866,k):q):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function E(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function T(P,k,q,J){return k===null||k.tag!==6?(k=$d(q,P.mode,J),k.return=P,k):(k=f(k,q),k.return=P,k)}function x(P,k,q,J){var ge=q.type;return ge===U?Z(P,k,q.props.children,J,q.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Ay(ge)===k.type)?(k=f(k,q.props),uu(k,q),k.return=P,k):(k=hh(q.type,q.key,q.props,null,P.mode,J),uu(k,q),k.return=P,k)}function F(P,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Xd(q,P.mode,J),k.return=P,k):(k=f(k,q.children||[]),k.return=P,k)}function Z(P,k,q,J,ge){return k===null||k.tag!==7?(k=$s(q,P.mode,J,ge),k.return=P,k):(k=f(k,q),k.return=P,k)}function ee(P,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=$d(""+k,P.mode,q),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return q=hh(k.type,k.key,k.props,null,P.mode,q),uu(q,k),q.return=P,q;case C:return k=Xd(k,P.mode,q),k.return=P,k;case S:var J=k._init;return k=J(k._payload),ee(P,k,q)}if(pt(k)||z(k))return k=$s(k,P.mode,q,null),k.return=P,k;if(typeof k.then=="function")return ee(P,Ih(k),q);if(k.$$typeof===ne)return ee(P,gh(P,k),q);Ch(P,k)}return null}function H(P,k,q,J){var ge=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:T(P,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===ge?x(P,k,q,J):null;case C:return q.key===ge?F(P,k,q,J):null;case S:return ge=q._init,q=ge(q._payload),H(P,k,q,J)}if(pt(q)||z(q))return ge!==null?null:Z(P,k,q,J,null);if(typeof q.then=="function")return H(P,k,Ih(q),J);if(q.$$typeof===ne)return H(P,k,gh(P,q),J);Ch(P,q)}return null}function G(P,k,q,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(q)||null,T(k,P,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return P=P.get(J.key===null?q:J.key)||null,x(k,P,J,ge);case C:return P=P.get(J.key===null?q:J.key)||null,F(k,P,J,ge);case S:var Ve=J._init;return J=Ve(J._payload),G(P,k,q,J,ge)}if(pt(J)||z(J))return P=P.get(q)||null,Z(k,P,J,ge,null);if(typeof J.then=="function")return G(P,k,q,Ih(J),ge);if(J.$$typeof===ne)return G(P,k,q,gh(k,J),ge);Ch(k,J)}return null}function Ae(P,k,q,J){for(var ge=null,Ve=null,ve=k,we=k=0,Gt=null;ve!==null&&we<q.length;we++){ve.index>we?(Gt=ve,ve=null):Gt=ve.sibling;var je=H(P,ve,q[we],J);if(je===null){ve===null&&(ve=Gt);break}n&&ve&&je.alternate===null&&s(P,ve),k=g(je,k,we),Ve===null?ge=je:Ve.sibling=je,Ve=je,ve=Gt}if(we===q.length)return o(P,ve),He&&Zs(P,we),ge;if(ve===null){for(;we<q.length;we++)ve=ee(P,q[we],J),ve!==null&&(k=g(ve,k,we),Ve===null?ge=ve:Ve.sibling=ve,Ve=ve);return He&&Zs(P,we),ge}for(ve=u(ve);we<q.length;we++)Gt=G(ve,P,we,q[we],J),Gt!==null&&(n&&Gt.alternate!==null&&ve.delete(Gt.key===null?we:Gt.key),k=g(Gt,k,we),Ve===null?ge=Gt:Ve.sibling=Gt,Ve=Gt);return n&&ve.forEach(function(Yi){return s(P,Yi)}),He&&Zs(P,we),ge}function Te(P,k,q,J){if(q==null)throw Error(r(151));for(var ge=null,Ve=null,ve=k,we=k=0,Gt=null,je=q.next();ve!==null&&!je.done;we++,je=q.next()){ve.index>we?(Gt=ve,ve=null):Gt=ve.sibling;var Yi=H(P,ve,je.value,J);if(Yi===null){ve===null&&(ve=Gt);break}n&&ve&&Yi.alternate===null&&s(P,ve),k=g(Yi,k,we),Ve===null?ge=Yi:Ve.sibling=Yi,Ve=Yi,ve=Gt}if(je.done)return o(P,ve),He&&Zs(P,we),ge;if(ve===null){for(;!je.done;we++,je=q.next())je=ee(P,je.value,J),je!==null&&(k=g(je,k,we),Ve===null?ge=je:Ve.sibling=je,Ve=je);return He&&Zs(P,we),ge}for(ve=u(ve);!je.done;we++,je=q.next())je=G(ve,P,we,je.value,J),je!==null&&(n&&je.alternate!==null&&ve.delete(je.key===null?we:je.key),k=g(je,k,we),Ve===null?ge=je:Ve.sibling=je,Ve=je);return n&&ve.forEach(function(AT){return s(P,AT)}),He&&Zs(P,we),ge}function tt(P,k,q,J){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var ge=q.key;k!==null;){if(k.key===ge){if(ge=q.type,ge===U){if(k.tag===7){o(P,k.sibling),J=f(k,q.props.children),J.return=P,P=J;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Ay(ge)===k.type){o(P,k.sibling),J=f(k,q.props),uu(J,q),J.return=P,P=J;break e}o(P,k);break}else s(P,k);k=k.sibling}q.type===U?(J=$s(q.props.children,P.mode,J,q.key),J.return=P,P=J):(J=hh(q.type,q.key,q.props,null,P.mode,J),uu(J,q),J.return=P,P=J)}return E(P);case C:e:{for(ge=q.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){o(P,k.sibling),J=f(k,q.children||[]),J.return=P,P=J;break e}else{o(P,k);break}else s(P,k);k=k.sibling}J=Xd(q,P.mode,J),J.return=P,P=J}return E(P);case S:return ge=q._init,q=ge(q._payload),tt(P,k,q,J)}if(pt(q))return Ae(P,k,q,J);if(z(q)){if(ge=z(q),typeof ge!="function")throw Error(r(150));return q=ge.call(q),Te(P,k,q,J)}if(typeof q.then=="function")return tt(P,k,Ih(q),J);if(q.$$typeof===ne)return tt(P,k,gh(P,q),J);Ch(P,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(o(P,k.sibling),J=f(k,q),J.return=P,P=J):(o(P,k),J=$d(q,P.mode,J),J.return=P,P=J),E(P)):o(P,k)}return function(P,k,q,J){try{lu=0;var ge=tt(P,k,q,J);return go=null,ge}catch(ve){if(ve===Wl||ve===yh)throw ve;var Ve=Cn(29,ve,null,P.mode);return Ve.lanes=J,Ve.return=P,Ve}finally{}}}var po=Sy(!0),Ry=Sy(!1),Yn=re(null),Tr=null;function ki(n){var s=n.alternate;ae(Lt,Lt.current&1),ae(Yn,n),Tr===null&&(s===null||co.current!==null||s.memoizedState!==null)&&(Tr=n)}function xy(n){if(n.tag===22){if(ae(Lt,Lt.current),ae(Yn,n),Tr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Tr=n)}}else Mi()}function Mi(){ae(Lt,Lt.current),ae(Yn,Yn.current)}function ti(n){de(Yn),Tr===n&&(Tr=null),de(Lt)}var Lt=re(0);function Dh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_g(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Dm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=kn(),f=Di(u);f.payload=s,o!=null&&(f.callback=o),s=Vi(n,f,u),s!==null&&(Mn(s,n,u),tu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=kn(),f=Di(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Vi(n,f,u),s!==null&&(Mn(s,n,u),tu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=kn(),u=Di(o);u.tag=2,s!=null&&(u.callback=s),s=Vi(n,u,o),s!==null&&(Mn(s,n,o),tu(s,n,o))}};function Iy(n,s,o,u,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Gl(o,u)||!Gl(f,g):!0}function Cy(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Dm.enqueueReplaceState(s,s.state,null)}function ia(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Vh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Dy(n){Vh(n)}function Vy(n){console.error(n)}function Ny(n){Vh(n)}function Nh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function ky(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vm(n,s,o){return o=Di(o),o.tag=3,o.payload={element:null},o.callback=function(){Nh(n,s)},o}function My(n){return n=Di(n),n.tag=3,n}function Oy(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){ky(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){ky(s,o,u),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function Ab(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Xl(s,o,f,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Tr===null?tg():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===am?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rg(n,u,f)),!1;case 22:return o.flags|=65536,u===am?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rg(n,u,f)),!1}throw Error(r(435,o.tag))}return rg(n,u,f),tg(),!1}if(He)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Wd&&(n=Error(r(422),{cause:u}),$l(Hn(n,o)))):(u!==Wd&&(s=Error(r(423),{cause:u}),$l(Hn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Hn(u,o),f=Vm(n.stateNode,u,f),um(n,f),vt!==4&&(vt=2)),!1;var g=Error(r(520),{cause:u});if(g=Hn(g,o),pu===null?pu=[g]:pu.push(g),vt!==4&&(vt=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Vm(o.stateNode,u,n),um(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=My(f),Oy(f,n,o,u),um(o,f),!1}o=o.return}while(o!==null);return!1}var Py=Error(r(461)),Ft=!1;function Zt(n,s,o,u){s.child=n===null?Ry(s,null,o,u):po(s,n.child,o,u)}function zy(n,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return ta(s),u=mm(n,s,o,E,g,f),T=gm(),n!==null&&!Ft?(pm(n,s,f),ni(n,s,f)):(He&&T&&Zd(s),s.flags|=1,Zt(n,s,u,f),s.child)}function Ly(n,s,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!Yd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,By(n,s,g,u,f)):(n=hh(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Bm(n,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(E,u)&&n.ref===s.ref)return ni(n,s,f)}return s.flags|=1,n=$r(g,u),n.ref=s.ref,n.return=s,s.child=n}function By(n,s,o,u,f){if(n!==null){var g=n.memoizedProps;if(Gl(g,u)&&n.ref===s.ref)if(Ft=!1,s.pendingProps=u=g,Bm(n,f))(n.flags&131072)!==0&&(Ft=!0);else return s.lanes=n.lanes,ni(n,s,f)}return Nm(n,s,o,u,f)}function Uy(n,s,o){var u=s.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return jy(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ph(s,g!==null?g.cachePool:null),g!==null?B0(s,g):hm(),xy(s);else return s.lanes=s.childLanes=536870912,jy(n,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(ph(s,g.cachePool),B0(s,g),Mi(),s.memoizedState=null):(n!==null&&ph(s,null),hm(),Mi());return Zt(n,s,f,o),s.child}function jy(n,s,o,u){var f=sm();return f=f===null?null:{parent:zt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&ph(s,null),hm(),xy(s),n!==null&&Xl(n,s,u,!0),null}function kh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Nm(n,s,o,u,f){return ta(s),o=mm(n,s,o,u,void 0,f),u=gm(),n!==null&&!Ft?(pm(n,s,f),ni(n,s,f)):(He&&u&&Zd(s),s.flags|=1,Zt(n,s,o,f),s.child)}function qy(n,s,o,u,f,g){return ta(s),s.updateQueue=null,o=j0(s,u,o,f),U0(n),u=gm(),n!==null&&!Ft?(pm(n,s,g),ni(n,s,g)):(He&&u&&Zd(s),s.flags|=1,Zt(n,s,o,g),s.child)}function Fy(n,s,o,u,f){if(ta(s),s.stateNode===null){var g=so,E=o.contextType;typeof E=="object"&&E!==null&&(g=sn(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},om(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?sn(E):so,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Cm(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Dm.enqueueReplaceState(g,g.state,null),ru(s,u,g,f),nu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var T=s.memoizedProps,x=ia(o,T);g.props=x;var F=g.context,Z=o.contextType;E=so,typeof Z=="object"&&Z!==null&&(E=sn(Z));var ee=o.getDerivedStateFromProps;Z=typeof ee=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||F!==E)&&Cy(s,g,u,E),Ci=!1;var H=s.memoizedState;g.state=H,ru(s,u,g,f),nu(),F=s.memoizedState,T||H!==F||Ci?(typeof ee=="function"&&(Cm(s,o,ee,u),F=s.memoizedState),(x=Ci||Iy(s,o,x,u,H,F,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),g.props=u,g.state=F,g.context=E,u=x):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,lm(n,s),E=s.memoizedProps,Z=ia(o,E),g.props=Z,ee=s.pendingProps,H=g.context,F=o.contextType,x=so,typeof F=="object"&&F!==null&&(x=sn(F)),T=o.getDerivedStateFromProps,(F=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ee||H!==x)&&Cy(s,g,u,x),Ci=!1,H=s.memoizedState,g.state=H,ru(s,u,g,f),nu();var G=s.memoizedState;E!==ee||H!==G||Ci||n!==null&&n.dependencies!==null&&mh(n.dependencies)?(typeof T=="function"&&(Cm(s,o,T,u),G=s.memoizedState),(Z=Ci||Iy(s,o,Z,u,H,G,x)||n!==null&&n.dependencies!==null&&mh(n.dependencies))?(F||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,x)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=x,u=Z):(typeof g.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,kh(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=po(s,n.child,null,f),s.child=po(s,null,o,f)):Zt(n,s,o,f),s.memoizedState=g.state,n=s.child):n=ni(n,s,f),n}function Hy(n,s,o,u){return Yl(),s.flags|=256,Zt(n,s,o,u),s.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(n){return{baseLanes:n,cachePool:V0()}}function Om(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=$n),n}function Gy(n,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?ki(s):Mi(),He){var T=_t,x;if(x=T){e:{for(x=T,T=br;x.nodeType!==8;){if(!T){T=null;break e}if(x=ir(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(s.memoizedState={dehydrated:T,treeContext:Xs!==null?{id:Xr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},x=Cn(18,null,null,0),x.stateNode=T,x.return=s,s.child=x,gn=s,_t=null,x=!0):x=!1}x||Ws(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _g(T)?s.lanes=32:s.lanes=536870912,null;ti(s)}return T=u.children,u=u.fallback,f?(Mi(),f=s.mode,T=Mh({mode:"hidden",children:T},f),u=$s(u,f,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,f=s.child,f.memoizedState=Mm(o),f.childLanes=Om(n,E,o),s.memoizedState=km,u):(ki(s),Pm(s,T))}if(x=n.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(g)s.flags&256?(ki(s),s.flags&=-257,s=zm(n,s,o)):s.memoizedState!==null?(Mi(),s.child=n.child,s.flags|=128,s=null):(Mi(),f=u.fallback,T=s.mode,u=Mh({mode:"visible",children:u.children},T),f=$s(f,T,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,po(s,n.child,null,o),u=s.child,u.memoizedState=Mm(o),u.childLanes=Om(n,E,o),s.memoizedState=km,s=f);else if(ki(s),_g(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(r(419)),u.stack="",u.digest=E,$l({value:u,source:null,stack:null}),s=zm(n,s,o)}else if(Ft||Xl(n,s,o,!1),E=(o&n.childLanes)!==0,Ft||E){if(E=st,E!==null&&(u=o&-o,u=(u&42)!==0?1:bi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,io(n,u),Mn(E,n,u),Py;T.data==="$?"||tg(),s=zm(n,s,o)}else T.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=x.treeContext,_t=ir(T.nextSibling),gn=s,He=!0,Js=null,br=!1,n!==null&&(Qn[Kn++]=Xr,Qn[Kn++]=Zr,Qn[Kn++]=Xs,Xr=n.id,Zr=n.overflow,Xs=s),s=Pm(s,u.children),s.flags|=4096);return s}return f?(Mi(),f=u.fallback,T=s.mode,x=n.child,F=x.sibling,u=$r(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,F!==null?f=$r(F,f):(f=$s(f,T,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,T=n.child.memoizedState,T===null?T=Mm(o):(x=T.cachePool,x!==null?(F=zt._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=V0(),T={baseLanes:T.baseLanes|o,cachePool:x}),f.memoizedState=T,f.childLanes=Om(n,E,o),s.memoizedState=km,u):(ki(s),o=n.child,n=o.sibling,o=$r(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Pm(n,s){return s=Mh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Mh(n,s){return n=Cn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function zm(n,s,o){return po(s,n.child,null,o),n=Pm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Qy(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),tm(n.return,s,o)}function Lm(n,s,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Ky(n,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Zt(n,s,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qy(n,o,s);else if(n.tag===19)Qy(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ae(Lt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Dh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Lm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Dh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Lm(s,!0,o,null,g);break;case"together":Lm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ni(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Bi|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Xl(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=$r(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=$r(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Bm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&mh(n)))}function Sb(n,s,o){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),Ii(s,zt,n.memoizedState.cache),Yl();break;case 27:case 5:Ei(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:Ii(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ki(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Gy(n,s,o):(ki(s),n=ni(n,s,o),n!==null?n.sibling:null);ki(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Xl(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Ky(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(Lt,Lt.current),u)break;return null;case 22:case 23:return s.lanes=0,Uy(n,s,o);case 24:Ii(s,zt,n.memoizedState.cache)}return ni(n,s,o)}function Yy(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Bm(n,o)&&(s.flags&128)===0)return Ft=!1,Sb(n,s,o);Ft=(n.flags&131072)!==0}else Ft=!1,He&&(s.flags&1048576)!==0&&A0(s,dh,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Yd(u)?(n=ia(u,n),s.tag=1,s=Fy(null,s,u,n,o)):(s.tag=0,s=Nm(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===fe){s.tag=11,s=zy(null,s,u,n,o);break e}else if(f===D){s.tag=14,s=Ly(null,s,u,n,o);break e}}throw s=Yt(u)||u,Error(r(306,s,""))}}return s;case 0:return Nm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ia(u,s.pendingProps),Fy(n,s,u,f,o);case 3:e:{if(it(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,lm(n,s),ru(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ii(s,zt,u),u!==g.cache&&nm(s,[zt],o,!0),nu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Hy(n,s,u,o);break e}else if(u!==f){f=Hn(Error(r(424)),s),$l(f),s=Hy(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=ir(n.firstChild),gn=s,He=!0,Js=null,br=!0,o=Ry(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Yl(),u===f){s=ni(n,s,o);break e}Zt(n,s,u,o)}s=s.child}return s;case 26:return kh(n,s),n===null?(o=J_(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=Yh(Se.current).createElement(o),u[Mt]=s,u[xt]=n,Wt(u,o,n),bt(u),s.stateNode=u):s.memoizedState=J_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ei(s),n===null&&He&&(u=s.stateNode=$_(s.type,s.pendingProps,Se.current),gn=s,br=!0,f=_t,Fi(s.type)?(vg=f,_t=ir(u.firstChild)):_t=f),Zt(n,s,s.pendingProps.children,o),kh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=_t)&&(u=Wb(u,s.type,s.pendingProps,br),u!==null?(s.stateNode=u,gn=s,_t=ir(u.firstChild),br=!1,f=!0):f=!1),f||Ws(s)),Ei(s),f=s.type,g=s.pendingProps,E=n!==null?n.memoizedProps:null,u=g.children,gg(f,g)?u=null:E!==null&&gg(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=mm(n,s,yb,null,null,o),Su._currentValue=f),kh(n,s),Zt(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=_t)&&(o=eT(o,s.pendingProps,br),o!==null?(s.stateNode=o,gn=s,_t=null,n=!0):n=!1),n||Ws(s)),null;case 13:return Gy(n,s,o);case 4:return it(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=po(s,null,u,o):Zt(n,s,u,o),s.child;case 11:return zy(n,s,s.type,s.pendingProps,o);case 7:return Zt(n,s,s.pendingProps,o),s.child;case 8:return Zt(n,s,s.pendingProps.children,o),s.child;case 12:return Zt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ii(s,s.type,u.value),Zt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ta(s),f=sn(f),u=u(f),s.flags|=1,Zt(n,s,u,o),s.child;case 14:return Ly(n,s,s.type,s.pendingProps,o);case 15:return By(n,s,s.type,s.pendingProps,o);case 19:return Ky(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Mh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=$r(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Uy(n,s,o);case 24:return ta(s),u=sn(zt),n===null?(f=sm(),f===null&&(f=st,g=rm(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},om(s),Ii(s,zt,f)):((n.lanes&o)!==0&&(lm(n,s),ru(s,null,null,o),nu()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ii(s,zt,u)):(u=g.cache,Ii(s,zt,u),u!==f.cache&&nm(s,[zt],o,!0))),Zt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ri(n){n.flags|=4}function $y(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!r2(s)){if(s=Yn.current,s!==null&&((Be&4194048)===Be?Tr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==Tr))throw eu=am,N0;n.flags|=8192}}function Oh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?xl():536870912,n.lanes|=s,Eo|=s)}function cu(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function Rb(n,s,o){var u=s.pendingProps;switch(Jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Wr(zt),ur(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Kl(s)?ri(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,x0())),mt(s),null;case 26:return o=s.memoizedState,n===null?(ri(s),o!==null?(mt(s),$y(s,o)):(mt(s),s.flags&=-16777217)):o?o!==n.memoizedState?(ri(s),mt(s),$y(s,o)):(mt(s),s.flags&=-16777217):(n.memoizedProps!==u&&ri(s),mt(s),s.flags&=-16777217),null;case 27:Pr(s),o=Se.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return mt(s),null}n=be.current,Kl(s)?S0(s):(n=$_(f,u,o),s.stateNode=n,ri(s))}return mt(s),null;case 5:if(Pr(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return mt(s),null}if(n=be.current,Kl(s))S0(s);else{switch(f=Yh(Se.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Mt]=s,n[xt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Wt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ri(s)}}return mt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Se.current,Kl(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Mt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||q_(n.nodeValue,o)),n||Ws(s)}else n=Yh(n).createTextNode(u),n[Mt]=s,s.stateNode=n}return mt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Kl(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Mt]=s}else Yl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),f=!1}else f=x0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ti(s),s):(ti(s),null)}if(ti(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Oh(s,s.updateQueue),mt(s),null;case 4:return ur(),n===null&&cg(s.stateNode.containerInfo),mt(s),null;case 10:return Wr(s.type),mt(s),null;case 19:if(de(Lt),f=s.memoizedState,f===null)return mt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)cu(f,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Dh(n),g!==null){for(s.flags|=128,cu(f,!1),n=g.updateQueue,s.updateQueue=n,Oh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)w0(o,n),o=o.sibling;return ae(Lt,Lt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Ln()>Lh&&(s.flags|=128,u=!0,cu(f,!1),s.lanes=4194304)}else{if(!u)if(n=Dh(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Oh(s,n),cu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!He)return mt(s),null}else 2*Ln()-f.renderingStartTime>Lh&&o!==536870912&&(s.flags|=128,u=!0,cu(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ln(),s.sibling=null,n=Lt.current,ae(Lt,u?n&1|2:n&1),s):(mt(s),null);case 22:case 23:return ti(s),fm(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&Oh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&de(na),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Wr(zt),mt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xb(n,s){switch(Jd(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Wr(zt),ur(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 13:if(ti(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Yl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return de(Lt),null;case 4:return ur(),null;case 10:return Wr(s.type),null;case 22:case 23:return ti(s),fm(),n!==null&&de(na),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Wr(zt),null;case 25:return null;default:return null}}function Xy(n,s){switch(Jd(s),s.tag){case 3:Wr(zt),ur();break;case 26:case 27:case 5:Pr(s);break;case 4:ur();break;case 13:ti(s);break;case 19:de(Lt);break;case 10:Wr(s.type);break;case 22:case 23:ti(s),fm(),n!==null&&de(na);break;case 24:Wr(zt)}}function hu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(T){nt(s,s.return,T)}}function Oi(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=s;var x=o,F=T;try{F()}catch(Z){nt(f,x,Z)}}}u=u.next}while(u!==g)}}catch(Z){nt(s,s.return,Z)}}function Zy(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{L0(s,o)}catch(u){nt(n,n.return,u)}}}function Jy(n,s,o){o.props=ia(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){nt(n,s,u)}}function fu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){nt(n,s,f)}}function wr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){nt(n,s,f)}else o.current=null}function Wy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){nt(n,n.return,f)}}function Um(n,s,o){try{var u=n.stateNode;Yb(u,n.type,o,s),u[xt]=s}catch(f){nt(n,n.return,f)}}function e_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fi(n.type)||n.tag===4}function jm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kh));else if(u!==4&&(u===27&&Fi(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(qm(n,s,o),n=n.sibling;n!==null;)qm(n,s,o),n=n.sibling}function Ph(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Fi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ph(n,s,o),n=n.sibling;n!==null;)Ph(n,s,o),n=n.sibling}function t_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Wt(s,u,o),s[Mt]=n,s[xt]=o}catch(g){nt(n,n.return,g)}}var ii=!1,wt=!1,Fm=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Ib(n,s){if(n=n.containerInfo,dg=ef,n=d0(n),jd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,T=-1,x=-1,F=0,Z=0,ee=n,H=null;t:for(;;){for(var G;ee!==o||f!==0&&ee.nodeType!==3||(T=E+f),ee!==g||u!==0&&ee.nodeType!==3||(x=E+u),ee.nodeType===3&&(E+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===n)break t;if(H===o&&++F===f&&(T=E),H===g&&++Z===u&&(x=E),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}o=T===-1||x===-1?null:{start:T,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(mg={focusedElem:n,selectionRange:o},ef=!1,Ht=s;Ht!==null;)if(s=Ht,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ht=n;else for(;Ht!==null;){switch(s=Ht,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ae=ia(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ae,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Te){nt(o,o.return,Te)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)yg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ht=n;break}Ht=s.return}}function r_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(n,o),u&4&&hu(5,o);break;case 1:if(Pi(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(o,o.return,E)}else{var f=ia(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(o,o.return,E)}}u&64&&Zy(o),u&512&&fu(o,o.return);break;case 3:if(Pi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{L0(n,s)}catch(E){nt(o,o.return,E)}}break;case 27:s===null&&u&4&&t_(o);case 26:case 5:Pi(n,o),s===null&&u&4&&Wy(o),u&512&&fu(o,o.return);break;case 12:Pi(n,o);break;case 13:Pi(n,o),u&4&&a_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=zb.bind(null,o),tT(n,o))));break;case 22:if(u=o.memoizedState!==null||ii,!u){s=s!==null&&s.memoizedState!==null||wt,f=ii;var g=wt;ii=u,(wt=s)&&!g?zi(n,o,(o.subtreeFlags&8772)!==0):Pi(n,o),ii=f,wt=g}break;case 30:break;default:Pi(n,o)}}function i_(n){var s=n.alternate;s!==null&&(n.alternate=null,i_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ai(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,bn=!1;function si(n,s,o){for(o=o.child;o!==null;)s_(n,s,o),o=o.sibling}function s_(n,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:wt||wr(o,s),si(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||wr(o,s);var u=ct,f=bn;Fi(o.type)&&(ct=o.stateNode,bn=!1),si(n,s,o),bu(o.stateNode),ct=u,bn=f;break;case 5:wt||wr(o,s);case 6:if(u=ct,f=bn,ct=null,si(n,s,o),ct=u,bn=f,ct!==null)if(bn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){nt(o,s,g)}else try{ct.removeChild(o.stateNode)}catch(g){nt(o,s,g)}break;case 18:ct!==null&&(bn?(n=ct,K_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Cu(n)):K_(ct,o.stateNode));break;case 4:u=ct,f=bn,ct=o.stateNode.containerInfo,bn=!0,si(n,s,o),ct=u,bn=f;break;case 0:case 11:case 14:case 15:wt||Oi(2,o,s),wt||Oi(4,o,s),si(n,s,o);break;case 1:wt||(wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Jy(o,s,u)),si(n,s,o);break;case 21:si(n,s,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,si(n,s,o),wt=u;break;default:si(n,s,o)}}function a_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cu(n)}catch(o){nt(s,s.return,o)}}function Cb(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new n_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new n_),s;default:throw Error(r(435,n.tag))}}function Hm(n,s){var o=Cb(n);s.forEach(function(u){var f=Lb.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Dn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,E=s,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Fi(T.type)){ct=T.stateNode,bn=!1;break e}break;case 5:ct=T.stateNode,bn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,bn=!0;break e}T=T.return}if(ct===null)throw Error(r(160));s_(g,E,f),ct=null,bn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)o_(s,n),s=s.sibling}var rr=null;function o_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(s,n),Vn(n),u&4&&(Oi(3,n,n.return),hu(3,n),Oi(5,n,n.return));break;case 1:Dn(s,n),Vn(n),u&512&&(wt||o===null||wr(o,o.return)),u&64&&ii&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=rr;if(Dn(s,n),Vn(n),u&512&&(wt||o===null||wr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[ks]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Wt(g,u,o),g[Mt]=n,bt(g),u=g;break e;case"link":var E=t2("link","href",f).get(u+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(g=E[T],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;case"meta":if(E=t2("meta","content",f).get(u+(o.content||""))){for(T=0;T<E.length;T++)if(g=E[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Mt]=n,bt(g),u=g}n.stateNode=u}else n2(f,n.type,n.stateNode);else n.stateNode=e2(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?n2(f,n.type,n.stateNode):e2(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Um(n,n.memoizedProps,o.memoizedProps)}break;case 27:Dn(s,n),Vn(n),u&512&&(wt||o===null||wr(o,o.return)),o!==null&&u&4&&Um(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Dn(s,n),Vn(n),u&512&&(wt||o===null||wr(o,o.return)),n.flags&32){f=n.stateNode;try{Un(f,"")}catch(G){nt(n,n.return,G)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Um(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Fm=!0);break;case 6:if(Dn(s,n),Vn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(G){nt(n,n.return,G)}}break;case 3:if(Zh=null,f=rr,rr=$h(s.containerInfo),Dn(s,n),rr=f,Vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Cu(s.containerInfo)}catch(G){nt(n,n.return,G)}Fm&&(Fm=!1,l_(n));break;case 4:u=rr,rr=$h(n.stateNode.containerInfo),Dn(s,n),Vn(n),rr=u;break;case 12:Dn(s,n),Vn(n);break;case 13:Dn(s,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xm=Ln()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hm(n,u)));break;case 22:f=n.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,F=ii,Z=wt;if(ii=F||f,wt=Z||x,Dn(s,n),wt=Z,ii=F,Vn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||x||ii||wt||sa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){x=o=s;try{if(g=x.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=x.stateNode;var ee=x.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){nt(x,x.return,G)}}}else if(s.tag===6){if(o===null){x=s;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(G){nt(x,x.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hm(n,o))));break;case 19:Dn(s,n),Vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hm(n,u)));break;case 30:break;case 21:break;default:Dn(s,n),Vn(n)}}function Vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(e_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=jm(n);Ph(n,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Un(E,""),o.flags&=-33);var T=jm(n);Ph(n,T,E);break;case 3:case 4:var x=o.stateNode.containerInfo,F=jm(n);qm(n,F,x);break;default:throw Error(r(161))}}catch(Z){nt(n,n.return,Z)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function l_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;l_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Pi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r_(n,s.alternate,s),s=s.sibling}function sa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Oi(4,s,s.return),sa(s);break;case 1:wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Jy(s,s.return,o),sa(s);break;case 27:bu(s.stateNode);case 26:case 5:wr(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}n=n.sibling}}function zi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:zi(f,g,o),hu(4,g);break;case 1:if(zi(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){nt(u,u.return,F)}if(u=g,f=u.updateQueue,f!==null){var T=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)z0(x[f],T)}catch(F){nt(u,u.return,F)}}o&&E&64&&Zy(g),fu(g,g.return);break;case 27:t_(g);case 26:case 5:zi(f,g,o),o&&u===null&&E&4&&Wy(g),fu(g,g.return);break;case 12:zi(f,g,o);break;case 13:zi(f,g,o),o&&E&4&&a_(f,g);break;case 22:g.memoizedState===null&&zi(f,g,o),fu(g,g.return);break;case 30:break;default:zi(f,g,o)}s=s.sibling}}function Gm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Zl(o))}function Qm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Zl(n))}function Ar(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)u_(n,s,o,u),s=s.sibling}function u_(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(n,s,o,u),f&2048&&hu(9,s);break;case 1:Ar(n,s,o,u);break;case 3:Ar(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Zl(n)));break;case 12:if(f&2048){Ar(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,E=g.id,T=g.onPostCommit;typeof T=="function"&&T(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){nt(s,s.return,x)}}else Ar(n,s,o,u);break;case 13:Ar(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ar(n,s,o,u):du(n,s):g._visibility&2?Ar(n,s,o,u):(g._visibility|=2,yo(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Gm(E,s);break;case 24:Ar(n,s,o,u),f&2048&&Qm(s.alternate,s);break;default:Ar(n,s,o,u)}}function yo(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,E=s,T=o,x=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:yo(g,E,T,x,f),hu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?yo(g,E,T,x,f):du(g,E):(Z._visibility|=2,yo(g,E,T,x,f)),f&&F&2048&&Gm(E.alternate,E);break;case 24:yo(g,E,T,x,f),f&&F&2048&&Qm(E.alternate,E);break;default:yo(g,E,T,x,f)}s=s.sibling}}function du(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:du(o,u),f&2048&&Gm(u.alternate,u);break;case 24:du(o,u),f&2048&&Qm(u.alternate,u);break;default:du(o,u)}s=s.sibling}}var mu=8192;function _o(n){if(n.subtreeFlags&mu)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 26:_o(n),n.flags&mu&&n.memoizedState!==null&&mT(rr,n.memoizedState,n.memoizedProps);break;case 5:_o(n);break;case 3:case 4:var s=rr;rr=$h(n.stateNode.containerInfo),_o(n),rr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=mu,mu=16777216,_o(n),mu=s):_o(n));break;default:_o(n)}}function h_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function gu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,d_(u,n)}h_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)f_(n),n=n.sibling}function f_(n){switch(n.tag){case 0:case 11:case 15:gu(n),n.flags&2048&&Oi(9,n,n.return);break;case 3:gu(n);break;case 12:gu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,zh(n)):gu(n);break;default:gu(n)}}function zh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ht=u,d_(u,n)}h_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Oi(8,s,s.return),zh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,zh(s));break;default:zh(s)}n=n.sibling}}function d_(n,s){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:Oi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=n;Ht!==null;){u=Ht;var f=u.sibling,g=u.return;if(i_(u),u===o){Ht=null;break e}if(f!==null){f.return=g,Ht=f;break e}Ht=g}}}var Db={getCacheForType:function(n){var s=sn(zt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},Vb=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Ne=null,Be=0,$e=0,Nn=null,Li=!1,vo=!1,Km=!1,ai=0,vt=0,Bi=0,aa=0,Ym=0,$n=0,Eo=0,pu=null,Tn=null,$m=!1,Xm=0,Lh=1/0,Bh=null,Ui=null,Jt=0,ji=null,bo=null,To=0,Zm=0,Jm=null,m_=null,yu=0,Wm=null;function kn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var n=lo;return n!==0?n:ag()}return Ti()}function g_(){$n===0&&($n=(Be&536870912)===0||He?Rl():536870912);var n=Yn.current;return n!==null&&(n.flags|=32),$n}function Mn(n,s,o){(n===st&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(wo(n,0),qi(n,Be,$n,!1)),Lr(n,o),((Ye&2)===0||n!==st)&&(n===st&&((Ye&2)===0&&(aa|=o),vt===4&&qi(n,Be,$n,!1)),Sr(n))}function p_(n,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||Ns(n,s),f=u?Mb(n,s):ng(n,s,!0),g=u;do{if(f===0){vo&&!u&&qi(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Nb(o)){f=ng(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var T=n;f=pu;var x=T.current.memoizedState.isDehydrated;if(x&&(wo(T,E).flags|=256),E=ng(T,E,!1),E!==2){if(Km&&!x){T.errorRecoveryDisabledLanes|=g,aa|=g,f=4;break e}g=Tn,Tn=f,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){wo(n,0),qi(n,s,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:qi(u,s,$n,!Li);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Xm+300-Ln(),10<f)){if(qi(u,s,$n,!Li),Ba(u,0,!0)!==0)break e;u.timeoutHandle=G_(y_.bind(null,u,o,Tn,Bh,$m,s,$n,aa,Eo,Li,g,2,-0,0),f);break e}y_(u,o,Tn,Bh,$m,s,$n,aa,Eo,Li,g,0,-0,0)}}break}while(!0);Sr(n)}function y_(n,s,o,u,f,g,E,T,x,F,Z,ee,H,G){if(n.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:dT},c_(s),ee=gT(),ee!==null)){n.cancelPendingCommit=ee(A_.bind(null,n,s,g,o,u,f,E,T,x,Z,1,H,G)),qi(n,g,E,!F);return}A_(n,s,g,o,u,f,E,T,x)}function Nb(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!In(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qi(n,s,o,u){s&=~Ym,s&=~aa,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-rn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&cr(n,o,s)}function Uh(){return(Ye&6)===0?(_u(0),!1):!0}function eg(){if(Ne!==null){if($e===0)var n=Ne.return;else n=Ne,Jr=ea=null,ym(n),go=null,lu=0,n=Ne;for(;n!==null;)Xy(n.alternate,n),n=n.return;Ne=null}}function wo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Xb(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),eg(),st=n,Ne=o=$r(n.current,null),Be=s,$e=0,Nn=null,Li=!1,vo=Ns(n,s),Km=!1,Eo=$n=Ym=aa=Bi=vt=0,Tn=pu=null,$m=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-rn(u),g=1<<f;s|=n[f],u&=~g}return ai=s,lh(),o}function __(n,s){Ce=null,X.H=xh,s===Wl||s===yh?(s=O0(),$e=3):s===N0?(s=O0(),$e=4):$e=s===Py?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Ne===null&&(vt=1,Nh(n,Hn(s,n.current)))}function v_(){var n=X.H;return X.H=xh,n===null?xh:n}function E_(){var n=X.A;return X.A=Db,n}function tg(){vt=4,Li||(Be&4194048)!==Be&&Yn.current!==null||(vo=!0),(Bi&134217727)===0&&(aa&134217727)===0||st===null||qi(st,Be,$n,!1)}function ng(n,s,o){var u=Ye;Ye|=2;var f=v_(),g=E_();(st!==n||Be!==s)&&(Bh=null,wo(n,s)),s=!1;var E=vt;e:do try{if($e!==0&&Ne!==null){var T=Ne,x=Nn;switch($e){case 8:eg(),E=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var F=$e;if($e=0,Nn=null,Ao(n,T,x,F),o&&vo){E=0;break e}break;default:F=$e,$e=0,Nn=null,Ao(n,T,x,F)}}kb(),E=vt;break}catch(Z){__(n,Z)}while(!0);return s&&n.shellSuspendCounter++,Jr=ea=null,Ye=u,X.H=f,X.A=g,Ne===null&&(st=null,Be=0,lh()),E}function kb(){for(;Ne!==null;)b_(Ne)}function Mb(n,s){var o=Ye;Ye|=2;var u=v_(),f=E_();st!==n||Be!==s?(Bh=null,Lh=Ln()+500,wo(n,s)):vo=Ns(n,s);e:do try{if($e!==0&&Ne!==null){s=Ne;var g=Nn;t:switch($e){case 1:$e=0,Nn=null,Ao(n,s,g,1);break;case 2:case 9:if(k0(g)){$e=0,Nn=null,T_(s);break}s=function(){$e!==2&&$e!==9||st!==n||($e=7),Sr(n)},g.then(s,s);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:k0(g)?($e=0,Nn=null,T_(s)):($e=0,Nn=null,Ao(n,s,g,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var T=Ne;if(!E||r2(E)){$e=0,Nn=null;var x=T.sibling;if(x!==null)Ne=x;else{var F=T.return;F!==null?(Ne=F,jh(F)):Ne=null}break t}}$e=0,Nn=null,Ao(n,s,g,5);break;case 6:$e=0,Nn=null,Ao(n,s,g,6);break;case 8:eg(),vt=6;break e;default:throw Error(r(462))}}Ob();break}catch(Z){__(n,Z)}while(!0);return Jr=ea=null,X.H=u,X.A=f,Ye=o,Ne!==null?0:(st=null,Be=0,lh(),vt)}function Ob(){for(;Ne!==null&&!Tl();)b_(Ne)}function b_(n){var s=Yy(n.alternate,n,ai);n.memoizedProps=n.pendingProps,s===null?jh(n):Ne=s}function T_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=qy(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=qy(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:ym(s);default:Xy(o,s),s=Ne=w0(s,ai),s=Yy(o,s,ai)}n.memoizedProps=n.pendingProps,s===null?jh(n):Ne=s}function Ao(n,s,o,u){Jr=ea=null,ym(s),go=null,lu=0;var f=s.return;try{if(Ab(n,f,s,o,Be)){vt=1,Nh(n,Hn(o,n.current)),Ne=null;return}}catch(g){if(f!==null)throw Ne=f,g;vt=1,Nh(n,Hn(o,n.current)),Ne=null;return}s.flags&32768?(He||u===1?n=!0:vo||(Be&536870912)!==0?n=!1:(Li=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w_(s,n)):jh(s)}function jh(n){var s=n;do{if((s.flags&32768)!==0){w_(s,Li);return}n=s.return;var o=Rb(s.alternate,s,ai);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);vt===0&&(vt=5)}function w_(n,s){do{var o=xb(n.alternate,n);if(o!==null){o.flags&=32767,Ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=o}while(n!==null);vt=6,Ne=null}function A_(n,s,o,u,f,g,E,T,x){n.cancelPendingCommit=null;do qh();while(Jt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Qd,Il(n,o,g,E,T,x),n===st&&(Ne=st=null,Be=0),bo=s,ji=n,To=o,Zm=g,Jm=f,m_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Bb(Is,function(){return C_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=ce.p,ce.p=2,E=Ye,Ye|=4;try{Ib(n,s,o)}finally{Ye=E,ce.p=f,X.T=u}}Jt=1,S_(),R_(),x_()}}function S_(){if(Jt===1){Jt=0;var n=ji,s=bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var f=Ye;Ye|=4;try{o_(s,n);var g=mg,E=d0(n.containerInfo),T=g.focusedElem,x=g.selectionRange;if(E!==T&&T&&T.ownerDocument&&f0(T.ownerDocument.documentElement,T)){if(x!==null&&jd(T)){var F=x.start,Z=x.end;if(Z===void 0&&(Z=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(Z,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ae=T.textContent.length,Te=Math.min(x.start,Ae),tt=x.end===void 0?Te:Math.min(x.end,Ae);!G.extend&&Te>tt&&(E=tt,tt=Te,Te=E);var P=h0(T,Te),k=h0(T,tt);if(P&&k&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var q=ee.createRange();q.setStart(P.node,P.offset),G.removeAllRanges(),Te>tt?(G.addRange(q),G.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),G.addRange(q))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ef=!!dg,mg=dg=null}finally{Ye=f,ce.p=u,X.T=o}}n.current=s,Jt=2}}function R_(){if(Jt===2){Jt=0;var n=ji,s=bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=ce.p;ce.p=2;var f=Ye;Ye|=4;try{r_(n,s.alternate,s)}finally{Ye=f,ce.p=u,X.T=o}}Jt=3}}function x_(){if(Jt===4||Jt===3){Jt=0,zc();var n=ji,s=bo,o=To,u=m_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,bo=ji=null,I_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ui=null),Ua(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var g=n.onRecoverableError,E=0;E<u.length;E++){var T=u[E];g(T.value,{componentStack:T.stack})}}finally{X.T=s,ce.p=f}}(To&3)!==0&&qh(),Sr(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Wm?yu++:(yu=0,Wm=n):yu=0,_u(0)}}function I_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Zl(s)))}function qh(n){return S_(),R_(),x_(),C_()}function C_(){if(Jt!==5)return!1;var n=ji,s=Zm;Zm=0;var o=Ua(To),u=X.T,f=ce.p;try{ce.p=32>o?32:o,X.T=null,o=Jm,Jm=null;var g=ji,E=To;if(Jt=0,bo=ji=null,To=0,(Ye&6)!==0)throw Error(r(331));var T=Ye;if(Ye|=4,f_(g.current),u_(g,g.current,E,o),Ye=T,_u(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{ce.p=f,X.T=u,I_(n,s)}}function D_(n,s,o){s=Hn(o,s),s=Vm(n.stateNode,s,2),n=Vi(n,s,2),n!==null&&(Lr(n,2),Sr(n))}function nt(n,s,o){if(n.tag===3)D_(n,n,o);else for(;s!==null;){if(s.tag===3){D_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ui===null||!Ui.has(u))){n=Hn(o,n),o=My(2),u=Vi(s,o,2),u!==null&&(Oy(o,u,s,n),Lr(u,2),Sr(u));break}}s=s.return}}function rg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Vb;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Km=!0,f.add(o),n=Pb.bind(null,n,s,o),s.then(n,n))}function Pb(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,st===n&&(Be&o)===o&&(vt===4||vt===3&&(Be&62914560)===Be&&300>Ln()-Xm?(Ye&2)===0&&wo(n,0):Ym|=o,Eo===Be&&(Eo=0)),Sr(n)}function V_(n,s){s===0&&(s=xl()),n=io(n,s),n!==null&&(Lr(n,s),Sr(n))}function zb(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),V_(n,o)}function Lb(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),V_(n,o)}function Bb(n,s){return Rs(n,s)}var Fh=null,So=null,ig=!1,Hh=!1,sg=!1,oa=0;function Sr(n){n!==So&&n.next===null&&(So===null?Fh=So=n:So=So.next=n),Hh=!0,ig||(ig=!0,jb())}function _u(n,s){if(!sg&&Hh){sg=!0;do for(var o=!1,u=Fh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-rn(42|n)+1)-1,g&=f&~(E&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,O_(u,g))}else g=Be,g=Ba(u,u===st?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ns(u,g)||(o=!0,O_(u,g));u=u.next}while(o);sg=!1}}function Ub(){N_()}function N_(){Hh=ig=!1;var n=0;oa!==0&&($b()&&(n=oa),oa=0);for(var s=Ln(),o=null,u=Fh;u!==null;){var f=u.next,g=k_(u,s);g===0?(u.next=null,o===null?Fh=f:o.next=f,f===null&&(So=o)):(o=u,(n!==0||(g&3)!==0)&&(Hh=!0)),u=f}_u(n)}function k_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var E=31-rn(g),T=1<<E,x=f[E];x===-1?((T&o)===0||(T&u)!==0)&&(f[E]=Sl(T,s)):x<=s&&(n.expiredLanes|=T),g&=~T}if(s=st,o=Be,o=Ba(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&($e===2||$e===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&xs(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ns(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&xs(u),Ua(o)){case 2:case 8:o=za;break;case 32:o=Is;break;case 268435456:o=La;break;default:o=Is}return u=M_.bind(null,n),o=Rs(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&xs(u),n.callbackPriority=2,n.callbackNode=null,2}function M_(n,s){if(Jt!==0&&Jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(qh()&&n.callbackNode!==o)return null;var u=Be;return u=Ba(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(p_(n,u,s),k_(n,Ln()),n.callbackNode!=null&&n.callbackNode===o?M_.bind(null,n):null)}function O_(n,s){if(qh())return null;p_(n,s,!0)}function jb(){Zb(function(){(Ye&6)!==0?Rs(wl,Ub):N_()})}function ag(){return oa===0&&(oa=Rl()),oa}function P_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Qa(""+n)}function z_(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function qb(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=P_((f[xt]||null).action),E=u.submitter;E&&(s=(s=E[xt]||null)?P_(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var T=new Ka("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var x=E?z_(f,E):new FormData(f);Rm(o,{pending:!0,data:x,method:f.method,action:g},null,x)}}else typeof g=="function"&&(T.preventDefault(),x=E?z_(f,E):new FormData(f),Rm(o,{pending:!0,data:x,method:f.method,action:g},g,x))},currentTarget:f}]})}}for(var og=0;og<Gd.length;og++){var lg=Gd[og],Fb=lg.toLowerCase(),Hb=lg[0].toUpperCase()+lg.slice(1);nr(Fb,"on"+Hb)}nr(p0,"onAnimationEnd"),nr(y0,"onAnimationIteration"),nr(_0,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(ob,"onTransitionRun"),nr(lb,"onTransitionStart"),nr(ub,"onTransitionCancel"),nr(v0,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function L_(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var T=u[E],x=T.instance,F=T.currentTarget;if(T=T.listener,x!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=F;try{g(f)}catch(Z){Vh(Z)}f.currentTarget=null,g=x}else for(E=0;E<u.length;E++){if(T=u[E],x=T.instance,F=T.currentTarget,T=T.listener,x!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=F;try{g(f)}catch(Z){Vh(Z)}f.currentTarget=null,g=x}}}}function ke(n,s){var o=s[Dl];o===void 0&&(o=s[Dl]=new Set);var u=n+"__bubble";o.has(u)||(B_(s,n,2,!1),o.add(u))}function ug(n,s,o){var u=0;s&&(u|=4),B_(o,n,u,s)}var Gh="_reactListening"+Math.random().toString(36).slice(2);function cg(n){if(!n[Gh]){n[Gh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(Gb.has(o)||ug(o,!1,n),ug(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Gh]||(s[Gh]=!0,ug("selectionchange",!1,s))}}function B_(n,s,o,u){switch(u2(s)){case 2:var f=_T;break;case 8:f=vT;break;default:f=Ag}o=f.bind(null,s,o,n),f=void 0,!qn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function hg(n,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Br(T),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=g=E;continue e}T=T.parentNode}}u=u.return}Kc(function(){var F=g,Z=jn(o),ee=[];e:{var H=E0.get(n);if(H!==void 0){var G=Ka,Ae=n;switch(n){case"keypress":if(pr(o)===0)break e;case"keydown":case"keyup":G=Wa;break;case"focusin":Ae="focus",G=Xa;break;case"focusout":Ae="blur",G=Xa;break;case"beforeblur":case"afterblur":G=Xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=th;break;case p0:case y0:case _0:G=Za;break;case v0:G=rh;break;case"scroll":case"scrollend":G=Yc;break;case"wheel":G=eo;break;case"copy":case"cut":case"paste":G=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Fl;break;case"toggle":case"beforetoggle":G=sh}var Te=(s&4)!==0,tt=!Te&&(n==="scroll"||n==="scrollend"),P=Te?H!==null?H+"Capture":null:H;Te=[];for(var k=F,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||P===null||(J=Us(k,P),J!=null&&Te.push(Eu(k,J,q))),tt)break;k=k.return}0<Te.length&&(H=new G(H,Ae,null,o,Z),ee.push({event:H,listeners:Te}))}}if((s&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&o!==Fr&&(Ae=o.relatedTarget||o.fromElement)&&(Br(Ae)||Ae[Bn]))break e;if((G||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ae=o.relatedTarget||o.toElement,G=F,Ae=Ae?Br(Ae):null,Ae!==null&&(tt=l(Ae),Te=Ae.tag,Ae!==tt||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):(G=null,Ae=F),G!==Ae)){if(Te=Fn,J="onMouseLeave",P="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Fl,J="onPointerLeave",P="onPointerEnter",k="pointer"),tt=G==null?H:fr(G),q=Ae==null?H:fr(Ae),H=new Te(J,k+"leave",G,o,Z),H.target=tt,H.relatedTarget=q,J=null,Br(Z)===F&&(Te=new Te(P,k+"enter",Ae,o,Z),Te.target=q,Te.relatedTarget=tt,J=Te),tt=J,G&&Ae)t:{for(Te=G,P=Ae,k=0,q=Te;q;q=Ro(q))k++;for(q=0,J=P;J;J=Ro(J))q++;for(;0<k-q;)Te=Ro(Te),k--;for(;0<q-k;)P=Ro(P),q--;for(;k--;){if(Te===P||P!==null&&Te===P.alternate)break t;Te=Ro(Te),P=Ro(P)}Te=null}else Te=null;G!==null&&U_(ee,H,G,Te,!1),Ae!==null&&tt!==null&&U_(ee,tt,Ae,Te,!0)}}e:{if(H=F?fr(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ge=s0;else if(Pt(H))if(a0)ge=ib;else{ge=nb;var Ve=tb}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Pl(F.elementType)&&(ge=s0):ge=rb;if(ge&&(ge=ge(n,F))){Yr(ee,ge,o,Z);break e}Ve&&Ve(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Ri(H,"number",H.value)}switch(Ve=F?fr(F):window,n){case"focusin":(Pt(Ve)||Ve.contentEditable==="true")&&(to=Ve,qd=F,Ql=null);break;case"focusout":Ql=qd=to=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,m0(ee,o,Z);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":m0(ee,o,Z)}var ve;if(vr)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ze?Y(n,o)&&(we="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(v&&o.locale!=="ko"&&(ze||we!=="onCompositionStart"?we==="onCompositionEnd"&&ze&&(ve=Ll()):(gr=Z,xi="value"in gr?gr.value:gr.textContent,ze=!0)),Ve=Qh(F,we),0<Ve.length&&(we=new jl(we,n,null,o,Z),ee.push({event:we,listeners:Ve}),ve?we.data=ve:(ve=oe(o),ve!==null&&(we.data=ve)))),(ve=y?Ot(n,o):Le(n,o))&&(we=Qh(F,"onBeforeInput"),0<we.length&&(Ve=new jl("onBeforeInput","beforeinput",null,o,Z),ee.push({event:Ve,listeners:we}),Ve.data=ve)),qb(ee,n,F,o,Z)}L_(ee,s)})}function Eu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Qh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Us(n,o),f!=null&&u.unshift(Eu(n,f,g)),f=Us(n,s),f!=null&&u.push(Eu(n,f,g))),n.tag===3)return u;n=n.return}return[]}function Ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function U_(n,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var T=o,x=T.alternate,F=T.stateNode;if(T=T.tag,x!==null&&x===u)break;T!==5&&T!==26&&T!==27||F===null||(x=F,f?(F=Us(o,g),F!=null&&E.unshift(Eu(o,F,x))):f||(F=Us(o,g),F!=null&&E.push(Eu(o,F,x)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var Qb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function j_(n){return(typeof n=="string"?n:""+n).replace(Qb,`
`).replace(Kb,"")}function q_(n,s){return s=j_(s),j_(n)===s}function Kh(){}function et(n,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Un(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Un(n,""+u);break;case"className":dr(n,"class",u);break;case"tabIndex":dr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(n,o,u);break;case"style":Ol(n,u,g);break;case"data":if(s!=="object"){dr(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Qa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&et(n,s,"name",f.name,f,null),et(n,s,"formEncType",f.formEncType,f,null),et(n,s,"formMethod",f.formMethod,f,null),et(n,s,"formTarget",f.formTarget,f,null)):(et(n,s,"encType",f.encType,f,null),et(n,s,"method",f.method,f,null),et(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Qa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Qa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Si(n,"popover",u);break;case"xlinkActuate":$t(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$t(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$t(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$t(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$t(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$t(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$t(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$t(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$t(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Si(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Od.get(o)||o,Si(n,o,u))}}function fg(n,s,o,u,f,g){switch(o){case"style":Ol(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Un(n,u):(typeof u=="number"||typeof u=="bigint")&&Un(n,""+u);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=n[xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Si(n,o,u)}}}function Wt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,g,E,o,null)}}f&&et(n,s,"srcSet",o.srcSet,o,null),u&&et(n,s,"src",o.src,o,null);return;case"input":ke("invalid",n);var T=g=E=f=null,x=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":x=Z;break;case"defaultChecked":F=Z;break;case"value":g=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:et(n,s,u,Z,o,null)}}zs(n,g,T,x,F,E,f,!1),Ga(n);return;case"select":ke("invalid",n),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:et(n,s,f,T,o,null)}s=g,o=E,n.multiple=!!u,s!=null?qr(n,!!u,s,!1):o!=null&&qr(n,!!u,o,!0);return;case"textarea":ke("invalid",n),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:et(n,s,E,T,o,null)}Ls(n,u,f,g),Ga(n);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,s,x,u,o,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(u=0;u<vu.length;u++)ke(vu[u],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,F,u,o,null)}return;default:if(Pl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&fg(n,s,Z,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&et(n,s,T,u,o,null))}function Yb(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,T=null,x=null,F=null,Z=null;for(G in o){var ee=o[G];if(o.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=ee;default:u.hasOwnProperty(G)||et(n,s,G,null,u,ee)}}for(var H in u){var G=u[H];if(ee=o[H],u.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":g=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":Z=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==ee&&et(n,s,H,G,u,ee)}}xn(n,E,T,x,F,Z,g,f);return;case"select":G=E=T=H=null;for(g in o)if(x=o[g],o.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":G=x;default:u.hasOwnProperty(g)||et(n,s,g,null,u,x)}for(f in u)if(g=u[f],x=o[f],u.hasOwnProperty(f)&&(g!=null||x!=null))switch(f){case"value":H=g;break;case"defaultValue":T=g;break;case"multiple":E=g;default:g!==x&&et(n,s,f,g,u,x)}s=T,o=E,u=G,H!=null?qr(n,!!o,H,!1):!!u!=!!o&&(s!=null?qr(n,!!o,s,!0):qr(n,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,s,T,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&et(n,s,E,f,u,g)}Je(n,H,G);return;case"option":for(var Ae in o)if(H=o[Ae],o.hasOwnProperty(Ae)&&H!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:et(n,s,Ae,null,u,H)}for(x in u)if(H=u[x],G=o[x],u.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(n,s,x,H,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)H=o[Te],o.hasOwnProperty(Te)&&H!=null&&!u.hasOwnProperty(Te)&&et(n,s,Te,null,u,H);for(F in u)if(H=u[F],G=o[F],u.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:et(n,s,F,H,u,G)}return;default:if(Pl(s)){for(var tt in o)H=o[tt],o.hasOwnProperty(tt)&&H!==void 0&&!u.hasOwnProperty(tt)&&fg(n,s,tt,void 0,u,H);for(Z in u)H=u[Z],G=o[Z],!u.hasOwnProperty(Z)||H===G||H===void 0&&G===void 0||fg(n,s,Z,H,u,G);return}}for(var P in o)H=o[P],o.hasOwnProperty(P)&&H!=null&&!u.hasOwnProperty(P)&&et(n,s,P,null,u,H);for(ee in u)H=u[ee],G=o[ee],!u.hasOwnProperty(ee)||H===G||H==null&&G==null||et(n,s,ee,H,u,G)}var dg=null,mg=null;function Yh(n){return n.nodeType===9?n:n.ownerDocument}function F_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function gg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pg=null;function $b(){var n=window.event;return n&&n.type==="popstate"?n===pg?!1:(pg=n,!0):(pg=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(n){return Q_.resolve(null).then(n).catch(Jb)}:G_;function Jb(n){setTimeout(function(){throw n})}function Fi(n){return n==="head"}function K_(n,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&bu(E.documentElement),o&2&&bu(E.body),o&4)for(o=E.head,bu(o),E=o.firstChild;E;){var T=E.nextSibling,x=E.nodeName;E[ks]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=T}}if(f===0){n.removeChild(g),Cu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Cu(s)}function yg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yg(o),Ai(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Wb(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ks])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ir(n.nextSibling),n===null)break}return null}function eT(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ir(n.nextSibling),n===null))return null;return n}function _g(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function tT(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ir(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var vg=null;function Y_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function $_(n,s,o){switch(s=Yh(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function bu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ai(n)}var Xn=new Map,X_=new Set;function $h(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=ce.d;ce.d={f:nT,r:rT,D:iT,C:sT,L:aT,m:oT,X:uT,S:lT,M:cT};function nT(){var n=oi.f(),s=Uh();return n||s}function rT(n){var s=hr(n);s!==null&&s.tag===5&&s.type==="form"?py(s):oi.r(n)}var xo=typeof document>"u"?null:document;function Z_(n,s,o){var u=xo;if(u&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),X_.has(f)||(X_.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Wt(s,"link",n),bt(s),u.head.appendChild(s)))}}function iT(n){oi.D(n),Z_("dns-prefetch",n,null)}function sT(n,s){oi.C(n,s),Z_("preconnect",n,s)}function aT(n,s,o){oi.L(n,s,o);var u=xo;if(u&&n&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(n)+'"]';var g=f;switch(s){case"style":g=Io(n);break;case"script":g=Co(n)}Xn.has(g)||(n=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Xn.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Tu(g))||s==="script"&&u.querySelector(wu(g))||(s=u.createElement("link"),Wt(s,"link",n),bt(s),u.head.appendChild(s)))}}function oT(n,s){oi.m(n,s);var o=xo;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Co(n)}if(!Xn.has(g)&&(n=_({rel:"modulepreload",href:n},s),Xn.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(g)))return}u=o.createElement("link"),Wt(u,"link",n),bt(u),o.head.appendChild(u)}}}function lT(n,s,o){oi.S(n,s,o);var u=xo;if(u&&n){var f=fn(u).hoistableStyles,g=Io(n);s=s||"default";var E=f.get(g);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(Tu(g)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Xn.get(g))&&Eg(n,o);var x=E=u.createElement("link");bt(x),Wt(x,"link",n),x._p=new Promise(function(F,Z){x.onload=F,x.onerror=Z}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(g,E)}}}function uT(n,s){oi.X(n,s);var o=xo;if(o&&n){var u=fn(o).hoistableScripts,f=Co(n),g=u.get(f);g||(g=o.querySelector(wu(f)),g||(n=_({src:n,async:!0},s),(s=Xn.get(f))&&bg(n,s),g=o.createElement("script"),bt(g),Wt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function cT(n,s){oi.M(n,s);var o=xo;if(o&&n){var u=fn(o).hoistableScripts,f=Co(n),g=u.get(f);g||(g=o.querySelector(wu(f)),g||(n=_({src:n,async:!0,type:"module"},s),(s=Xn.get(f))&&bg(n,s),g=o.createElement("script"),bt(g),Wt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function J_(n,s,o,u){var f=(f=Se.current)?$h(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Io(o.href),o=fn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Io(o.href);var g=fn(f).hoistableStyles,E=g.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,E),(g=f.querySelector(Tu(n)))&&!g._p&&(E.instance=g,E.state.loading=5),Xn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(n,o),g||hT(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(o),o=fn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Io(n){return'href="'+It(n)+'"'}function Tu(n){return'link[rel="stylesheet"]['+n+"]"}function W_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function hT(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Wt(s,"link",o),bt(s),n.head.appendChild(s))}function Co(n){return'[src="'+It(n)+'"]'}function wu(n){return"script[async]"+n}function e2(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),bt(u),Wt(u,"style",f),Xh(u,o.precedence,n),s.instance=u;case"stylesheet":f=Io(o.href);var g=n.querySelector(Tu(f));if(g)return s.state.loading|=4,s.instance=g,bt(g),g;u=W_(o),(f=Xn.get(f))&&Eg(u,f),g=(n.ownerDocument||n).createElement("link"),bt(g);var E=g;return E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),Wt(g,"link",u),s.state.loading|=4,Xh(g,o.precedence,n),s.instance=g;case"script":return g=Co(o.src),(f=n.querySelector(wu(g)))?(s.instance=f,bt(f),f):(u=o,(f=Xn.get(g))&&(u=_({},o),bg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Wt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Xh(u,o.precedence,n));return s.instance}function Xh(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===s)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Eg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function bg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Zh=null;function t2(n,s,o){if(Zh===null){var u=new Map,f=Zh=new Map;f.set(o,u)}else f=Zh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[ks]||g[Mt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=n+E;var T=u.get(E);T?T.push(g):u.set(E,[g])}}return u}function n2(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function fT(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function r2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Au=null;function dT(){}function mT(n,s,o){if(Au===null)throw Error(r(475));var u=Au;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Io(o.href),g=n.querySelector(Tu(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Jh.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,bt(g);return}g=n.ownerDocument||n,o=W_(o),(f=Xn.get(f))&&Eg(o,f),g=g.createElement("link"),bt(g);var E=g;E._p=new Promise(function(T,x){E.onload=T,E.onerror=x}),Wt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Jh.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function gT(){if(Au===null)throw Error(r(475));var n=Au;return n.stylesheets&&n.count===0&&Tg(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&Tg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Jh(){if(this.count--,this.count===0){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wh=null;function Tg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wh=new Map,s.forEach(pT,n),Wh=null,Jh.call(n))}function pT(n,s){if(!(s.state.loading&4)){var o=Wh.get(n);if(o)var u=o.get(null);else{o=new Map,Wh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=Jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Su={$$typeof:ne,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function yT(n,s,o,u,f,g,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.hiddenUpdates=zr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function i2(n,s,o,u,f,g,E,T,x,F,Z,ee){return n=new yT(n,s,o,E,T,x,F,ee),s=1,g===!0&&(s|=24),g=Cn(3,null,null,s),n.current=g,g.stateNode=n,s=rm(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},om(g),n}function s2(n){return n?(n=so,n):so}function a2(n,s,o,u,f,g){f=s2(f),u.context===null?u.context=f:u.pendingContext=f,u=Di(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Vi(n,u,s),o!==null&&(Mn(o,n,s),tu(o,n,s))}function o2(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function wg(n,s){o2(n,s),(n=n.alternate)&&o2(n,s)}function l2(n){if(n.tag===13){var s=io(n,67108864);s!==null&&Mn(s,n,67108864),wg(n,67108864)}}var ef=!0;function _T(n,s,o,u){var f=X.T;X.T=null;var g=ce.p;try{ce.p=2,Ag(n,s,o,u)}finally{ce.p=g,X.T=f}}function vT(n,s,o,u){var f=X.T;X.T=null;var g=ce.p;try{ce.p=8,Ag(n,s,o,u)}finally{ce.p=g,X.T=f}}function Ag(n,s,o,u){if(ef){var f=Sg(u);if(f===null)hg(n,s,u,tf,o),c2(n,u);else if(bT(f,n,s,o,u))u.stopPropagation();else if(c2(n,u),s&4&&-1<ET.indexOf(n)){for(;f!==null;){var g=hr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Wn(g.pendingLanes);if(E!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var x=1<<31-rn(E);T.entanglements[1]|=x,E&=~x}Sr(g),(Ye&6)===0&&(Lh=Ln()+500,_u(0))}}break;case 13:T=io(g,2),T!==null&&Mn(T,g,2),Uh(),wg(g,2)}if(g=Sg(u),g===null&&hg(n,s,u,tf,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else hg(n,s,u,null,o)}}function Sg(n){return n=jn(n),Rg(n)}var tf=null;function Rg(n){if(tf=null,n=Br(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return tf=n,null}function u2(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cd()){case wl:return 2;case za:return 8;case Is:case Dd:return 32;case La:return 268435456;default:return 32}default:return 32}}var xg=!1,Hi=null,Gi=null,Qi=null,Ru=new Map,xu=new Map,Ki=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c2(n,s){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(s.pointerId)}}function Iu(n,s,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=hr(s),s!==null&&l2(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function bT(n,s,o,u,f){switch(s){case"focusin":return Hi=Iu(Hi,n,s,o,u,f),!0;case"dragenter":return Gi=Iu(Gi,n,s,o,u,f),!0;case"mouseover":return Qi=Iu(Qi,n,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return Ru.set(g,Iu(Ru.get(g)||null,n,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,xu.set(g,Iu(xu.get(g)||null,n,s,o,u,f)),!0}return!1}function h2(n){var s=Br(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Uc(n.priority,function(){if(o.tag===13){var u=kn();u=bi(u);var f=io(o,u);f!==null&&Mn(f,o,u),wg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Sg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Fr=u,o.target.dispatchEvent(u),Fr=null}else return s=hr(o),s!==null&&l2(s),n.blockedOn=o,!1;s.shift()}return!0}function f2(n,s,o){nf(n)&&o.delete(s)}function TT(){xg=!1,Hi!==null&&nf(Hi)&&(Hi=null),Gi!==null&&nf(Gi)&&(Gi=null),Qi!==null&&nf(Qi)&&(Qi=null),Ru.forEach(f2),xu.forEach(f2)}function rf(n,s){n.blockedOn===s&&(n.blockedOn=null,xg||(xg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TT)))}var sf=null;function d2(n){sf!==n&&(sf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sf===n&&(sf=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Rg(u||o)===null)continue;break}var g=hr(o);g!==null&&(n.splice(s,3),s-=3,Rm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Cu(n){function s(x){return rf(x,n)}Hi!==null&&rf(Hi,n),Gi!==null&&rf(Gi,n),Qi!==null&&rf(Qi,n),Ru.forEach(s),xu.forEach(s);for(var o=0;o<Ki.length;o++){var u=Ki[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ki.length&&(o=Ki[0],o.blockedOn===null);)h2(o),o.blockedOn===null&&Ki.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[xt]||null;if(typeof g=="function")E||d2(o);else if(E){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[xt]||null)T=E.formAction;else if(Rg(f)!==null)continue}else T=E.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),d2(o)}}}function Ig(n){this._internalRoot=n}af.prototype.render=Ig.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=kn();a2(o,u,n,s,null,null)},af.prototype.unmount=Ig.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;a2(n.current,2,null,n,null,null),Uh(),s[Bn]=null}};function af(n){this._internalRoot=n}af.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ti();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Ki.length&&s!==0&&s<Ki[o].priority;o++);Ki.splice(o,0,n),o===0&&h2(n)}};var m2=e.version;if(m2!=="19.1.1")throw Error(r(527,m2,"19.1.1"));ce.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var wT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{yt=of.inject(wT),Ke=of}catch{}}return Vu.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=Dy,g=Vy,E=Ny,T=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=i2(n,1,!1,null,null,o,u,f,g,E,T,null),n[Bn]=s.current,cg(n),new Ig(s)},Vu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=Dy,E=Vy,T=Ny,x=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=i2(n,1,!0,s,o??null,u,f,g,E,T,x,F),s.context=s2(null),o=s.current,u=kn(),u=bi(u),f=Di(u),f.callback=null,Vi(o,f,u),o=u,s.current.lanes=o,Lr(s,o),Sr(s),n[Bn]=s.current,cg(n),new af(s)},Vu.version="19.1.1",Vu}var A2;function kT(){if(A2)return Vg.exports;A2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vg.exports=NT(),Vg.exports}var MT=kT();const OT=b4(MT);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var S2="popstate";function PT(i={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=Va(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Wg("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof l=="string"?l:Wu(l))}function r(a,l){lr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return LT(e,t,r,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zT(){return Math.random().toString(36).substring(2,10)}function R2(i,e){return{usr:i.state,key:i.key,idx:e}}function Wg(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:t,key:e&&e.key||r||zT()}}function Wu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Va(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function LT(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function b(){d="POP";let j=_(),se=j==null?null:j-p;p=j,m&&m({action:d,location:K.location,delta:se})}function w(j,se){d="PUSH";let W=Wg(K.location,j,se);t&&t(W,j),p=_()+1;let ne=R2(W,p),fe=K.createHref(W);try{c.pushState(ne,"",fe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(fe)}l&&m&&m({action:d,location:K.location,delta:1})}function C(j,se){d="REPLACE";let W=Wg(K.location,j,se);t&&t(W,j),p=_();let ne=R2(W,p),fe=K.createHref(W);c.replaceState(ne,"",fe),l&&m&&m({action:d,location:K.location,delta:0})}function U(j){return BT(j)}let K={get action(){return d},get location(){return i(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(S2,b),m=j,()=>{a.removeEventListener(S2,b),m=null}},createHref(j){return e(a,j)},createURL:U,encodeLocation(j){let se=U(j);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:w,replace:C,go(j){return c.go(j)}};return K}function BT(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Wu(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function T4(i,e,t="/"){return UT(i,e,t,!1)}function UT(i,e,t,r){let a=typeof e=="string"?Va(e):e,l=hi(a.pathname||"/",t);if(l==null)return null;let c=w4(i);jT(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=JT(l);d=XT(c[m],p,r)}return d}function w4(i,e=[],t=[],r="",a=!1){let l=(c,d,m=a,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&m)return;gt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let b=ui([r,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),w4(c.children,e,w,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:YT(b,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of A4(c.path))l(c,d,!0,m)}),e}function A4(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=A4(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function jT(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:$T(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var qT=/^:[\w-]+$/,FT=3,HT=2,GT=1,QT=10,KT=-2,x2=i=>i==="*";function YT(i,e){let t=i.split("/"),r=t.length;return t.some(x2)&&(r+=KT),e&&(r+=HT),t.filter(a=>!x2(a)).reduce((a,l)=>a+(qT.test(l)?FT:l===""?GT:QT),r)}function $T(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function XT(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),w=m.route;if(!b&&p&&t&&!r[r.length-1].route.index&&(b=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ui([l,b.pathname]),pathnameBase:n5(ui([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=ui([l,b.pathnameBase]))}return c}function Cf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=ZT(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:b},w)=>{if(_==="*"){let U=d[w]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const C=d[w];return b&&!C?p[_]=void 0:p[_]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:i}}function ZT(i,e=!1,t=!0){lr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function JT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function WT(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?Va(i):i;return{pathname:t?t.startsWith("/")?t:e5(t,e):e,search:r5(r),hash:i5(a)}}function e5(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Og(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t5(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function S4(i){let e=t5(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function R4(i,e,t,r=!1){let a;typeof i=="string"?a=Va(i):(a={...i},gt(!a.pathname||!a.pathname.includes("?"),Og("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),Og("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),Og("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let m=WT(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ui=i=>i.join("/").replace(/\/\/+/g,"/"),n5=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),r5=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,i5=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function s5(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var x4=["POST","PUT","PATCH","DELETE"];new Set(x4);var a5=["GET",...x4];new Set(a5);var dl=$.createContext(null);dl.displayName="DataRouter";var ed=$.createContext(null);ed.displayName="DataRouterState";$.createContext(!1);var I4=$.createContext({isTransitioning:!1});I4.displayName="ViewTransition";var o5=$.createContext(new Map);o5.displayName="Fetchers";var l5=$.createContext(null);l5.displayName="Await";var Or=$.createContext(null);Or.displayName="Navigation";var vc=$.createContext(null);vc.displayName="Location";var gi=$.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var Op=$.createContext(null);Op.displayName="RouteError";function u5(i,{relative:e}={}){gt(Ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Or),{hash:a,pathname:l,search:c}=bc(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ui([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Ec(){return $.useContext(vc)!=null}function vs(){return gt(Ec(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(vc).location}var C4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D4(i){$.useContext(Or).static||$.useLayoutEffect(i)}function V4(){let{isDataRoute:i}=$.useContext(gi);return i?T5():c5()}function c5(){gt(Ec(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(dl),{basename:e,navigator:t}=$.useContext(Or),{matches:r}=$.useContext(gi),{pathname:a}=vs(),l=JSON.stringify(S4(r)),c=$.useRef(!1);return D4(()=>{c.current=!0}),$.useCallback((m,p={})=>{if(lr(c.current,C4),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=R4(m,JSON.parse(l),a,p.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ui([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,i])}$.createContext(null);function bc(i,{relative:e}={}){let{matches:t}=$.useContext(gi),{pathname:r}=vs(),a=JSON.stringify(S4(t));return $.useMemo(()=>R4(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function h5(i,e){return N4(i,e)}function N4(i,e,t,r,a){gt(Ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=$.useContext(Or),{matches:c}=$.useContext(gi),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let W=b&&b.path||"";k4(p,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=vs(),C;if(e){let W=typeof e=="string"?Va(e):e;gt(_==="/"||W.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=w;let U=C.pathname||"/",K=U;if(_!=="/"){let W=_.replace(/^\//,"").split("/");K="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=T4(i,{pathname:K});lr(b||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),lr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=p5(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:ui([_,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?_:ui([_,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,t,r,a);return e&&se?$.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},se):se}function f5(){let i=b5(),e=s5(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:a},t):null,c)}var d5=$.createElement(f5,null),m5=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?$.createElement(gi.Provider,{value:this.props.routeContext},$.createElement(Op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function g5({routeContext:i,match:e,children:t}){let r=$.useContext(dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(gi.Provider,{value:i},t)}function p5(i,e=[],t=null,r=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);gt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:b,errors:w}=t,C=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||C){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,_,b)=>{let w,C=!1,U=null,K=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,U=_.route.errorElement||d5,d&&(m<0&&b===0?(k4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,K=null):m===b&&(C=!0,K=_.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,b+1)),se=()=>{let W;return w?W=U:C?W=K:_.route.Component?W=$.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=p,$.createElement(g5,{match:_,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:W})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?$.createElement(m5,{location:t.location,revalidation:t.revalidation,component:U,error:w,children:se(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:r}):se()},null)}function Pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y5(i){let e=$.useContext(dl);return gt(e,Pp(i)),e}function _5(i){let e=$.useContext(ed);return gt(e,Pp(i)),e}function v5(i){let e=$.useContext(gi);return gt(e,Pp(i)),e}function zp(i){let e=v5(i),t=e.matches[e.matches.length-1];return gt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function E5(){return zp("useRouteId")}function b5(){let i=$.useContext(Op),e=_5("useRouteError"),t=zp("useRouteError");return i!==void 0?i:e.errors?.[t]}function T5(){let{router:i}=y5("useNavigate"),e=zp("useNavigate"),t=$.useRef(!1);return D4(()=>{t.current=!0}),$.useCallback(async(a,l={})=>{lr(t.current,C4),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var I2={};function k4(i,e,t){!e&&!I2[i]&&(I2[i]=!0,lr(!1,t))}$.memo(w5);function w5({routes:i,future:e,state:t,unstable_onError:r}){return N4(i,void 0,t,r,e)}function Wi(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A5({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){gt(!Ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Va(t));let{pathname:m="/",search:p="",hash:_="",state:b=null,key:w="default"}=t,C=$.useMemo(()=>{let U=hi(m,c);return U==null?null:{location:{pathname:U,search:p,hash:_,state:b,key:w},navigationType:r}},[c,m,p,_,b,w,r]);return lr(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:$.createElement(Or.Provider,{value:d},$.createElement(vc.Provider,{children:e,value:C}))}function S5({children:i,location:e}){return h5(ep(i),e)}function ep(i,e=[]){let t=[];return $.Children.forEach(i,(r,a)=>{if(!$.isValidElement(r))return;let l=[...e,a];if(r.type===$.Fragment){t.push.apply(t,ep(r.props.children,l));return}gt(r.type===Wi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ep(r.props.children,l)),t.push(c)}),t}var pf="get",yf="application/x-www-form-urlencoded";function td(i){return i!=null&&typeof i.tagName=="string"}function R5(i){return td(i)&&i.tagName.toLowerCase()==="button"}function x5(i){return td(i)&&i.tagName.toLowerCase()==="form"}function I5(i){return td(i)&&i.tagName.toLowerCase()==="input"}function C5(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function D5(i,e){return i.button===0&&(!e||e==="_self")&&!C5(i)}var lf=null;function V5(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var N5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pg(i){return i!=null&&!N5.has(i)?(lr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):i}function k5(i,e){let t,r,a,l,c;if(x5(i)){let d=i.getAttribute("action");r=d?hi(d,e):null,t=i.getAttribute("method")||pf,a=Pg(i.getAttribute("enctype"))||yf,l=new FormData(i)}else if(R5(i)||I5(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||d.getAttribute("action");if(r=m?hi(m,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||pf,a=Pg(i.getAttribute("formenctype"))||Pg(d.getAttribute("enctype"))||yf,l=new FormData(d,i),!V5()){let{name:p,type:_,value:b}=i;if(_==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,b)}}else{if(td(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=pf,r=null,a=yf,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function M5(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&hi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function O5(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P5(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function z5(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await O5(l,t);return c.links?c.links():[]}return[]}));return j5(r.flat(1).filter(P5).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C2(i,e,t,r,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function L5(i,e,{includeHydrateFallback:t}={}){return B5(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function B5(i){return[...new Set(i)]}function U5(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function j5(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(U5(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function M4(){let i=$.useContext(dl);return Lp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function q5(){let i=$.useContext(ed);return Lp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Bp=$.createContext(void 0);Bp.displayName="FrameworkContext";function O4(){let i=$.useContext(Bp);return Lp(i,"You must render this element inside a <HydratedRouter> element"),i}function F5(i,e){let t=$.useContext(Bp),[r,a]=$.useState(!1),[l,c]=$.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:b}=e,w=$.useRef(null);$.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let K=se=>{se.forEach(W=>{c(W.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[i]),$.useEffect(()=>{if(r){let K=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(K)}}},[r]);let C=()=>{a(!0)},U=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Nu(d,C),onBlur:Nu(m,U),onMouseEnter:Nu(p,C),onMouseLeave:Nu(_,U),onTouchStart:Nu(b,C)}]:[!1,w,{}]}function Nu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function H5({page:i,...e}){let{router:t}=M4(),r=$.useMemo(()=>T4(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?$.createElement(Q5,{page:i,matches:r,...e}):null}function G5(i){let{manifest:e,routeModules:t}=O4(),[r,a]=$.useState([]);return $.useEffect(()=>{let l=!1;return z5(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function Q5({page:i,matches:e,...t}){let r=vs(),{manifest:a,routeModules:l}=O4(),{basename:c}=M4(),{loaderData:d,matches:m}=q5(),p=$.useMemo(()=>C2(i,e,m,a,r,"data"),[i,e,m,a,r]),_=$.useMemo(()=>C2(i,e,m,a,r,"assets"),[i,e,m,a,r]),b=$.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let U=new Set,K=!1;if(e.forEach(se=>{let W=a.routes[se.route.id];!W||!W.hasLoader||(!p.some(ne=>ne.route.id===se.route.id)&&se.route.id in d&&l[se.route.id]?.shouldRevalidate||W.hasClientLoader?K=!0:U.add(se.route.id))}),U.size===0)return[];let j=M5(i,c,"data");return K&&U.size>0&&j.searchParams.set("_routes",e.filter(se=>U.has(se.route.id)).map(se=>se.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,p,e,i,l]),w=$.useMemo(()=>L5(_,a),[_,a]),C=G5(_);return $.createElement($.Fragment,null,b.map(U=>$.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),w.map(U=>$.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),C.map(({key:U,link:K})=>$.createElement("link",{key:U,nonce:t.nonce,...K})))}function K5(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var P4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P4&&(window.__reactRouterVersion="7.8.2")}catch{}function Y5({basename:i,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=PT({window:t,v5Compat:!0}));let a=r.current,[l,c]=$.useState({action:a.action,location:a.location}),d=$.useCallback(m=>{$.startTransition(()=>c(m))},[c]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.createElement(A5,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var z4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Df=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:b,...w},C){let{basename:U}=$.useContext(Or),K=typeof p=="string"&&z4.test(p),j,se=!1;if(typeof p=="string"&&K&&(j=p,P4))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),O=hi(M.pathname,U);M.origin===R.origin&&O!=null?p=O+M.search+M.hash:se=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=u5(p,{relative:a}),[ne,fe,ue]=F5(r,w),_e=J5(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:b});function D(R){e&&e(R),R.defaultPrevented||_e(R)}let S=$.createElement("a",{...w,...ue,href:j||W,onClick:se||l?e:D,ref:K5(C,fe),target:m,"data-discover":!K&&t==="render"?"true":void 0});return ne&&!K?$.createElement($.Fragment,null,S,$.createElement(H5,{page:W})):S});Df.displayName="Link";var $5=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let b=bc(c,{relative:p.relative}),w=vs(),C=$.useContext(ed),{navigator:U,basename:K}=$.useContext(Or),j=C!=null&&rw(b)&&d===!0,se=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,W=w.pathname,ne=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(W=W.toLowerCase(),ne=ne?ne.toLowerCase():null,se=se.toLowerCase()),ne&&K&&(ne=hi(ne,K)||ne);const fe=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let ue=W===se||!a&&W.startsWith(se)&&W.charAt(fe)==="/",_e=ne!=null&&(ne===se||!a&&ne.startsWith(se)&&ne.charAt(se.length)==="/"),D={isActive:ue,isPending:_e,isTransitioning:j},S=ue?e:void 0,R;typeof r=="function"?R=r(D):R=[r,ue?"active":null,_e?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(D):l;return $.createElement(Df,{...p,"aria-current":S,className:R,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(D):m)});$5.displayName="NavLink";var X5=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=pf,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:b,...w},C)=>{let U=tw(),K=nw(d,{relative:p}),j=c.toLowerCase()==="get"?"get":"post",se=typeof d=="string"&&z4.test(d),W=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,ue=fe?.getAttribute("formmethod")||c;U(fe||ne.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:b})};return $.createElement("form",{ref:C,method:j,action:K,onSubmit:r?m:W,...w,"data-discover":!se&&i==="render"?"true":void 0})});X5.displayName="Form";function Z5(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L4(i){let e=$.useContext(dl);return gt(e,Z5(i)),e}function J5(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=V4(),m=vs(),p=bc(i,{relative:l});return $.useCallback(_=>{if(D5(_,e)){_.preventDefault();let b=t!==void 0?t:Wu(m)===Wu(p);d(i,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,r,e,i,a,l,c])}var W5=0,ew=()=>`__${String(++W5)}__`;function tw(){let{router:i}=L4("useSubmit"),{basename:e}=$.useContext(Or),t=E5();return $.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=k5(r,e);if(a.navigate===!1){let _=a.fetcherKey||ew();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function nw(i,{relative:e}={}){let{basename:t}=$.useContext(Or),r=$.useContext(gi);gt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...bc(i||".",{relative:e})},c=vs();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ui([t,l.pathname])),Wu(l)}function rw(i,{relative:e}={}){let t=$.useContext(I4);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L4("useViewTransitionState"),a=bc(i,{relative:e});if(!t.isTransitioning)return!1;let l=hi(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=hi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Cf(a.pathname,c)!=null||Cf(a.pathname,l)!=null}const iw=()=>{const[i,e]=$.useState(!1),t=vs(),r=[{title:"Home",path:"/"},{title:"Certifications",path:"/certifications"},{title:"About",path:"/about"},{title:"Contacts",path:"/contact"},{title:"Projects",path:"/projects"},{title:"Reviews",path:"/reviews"}];return $.useEffect(()=>{const a=l=>{const c=l.target;!c.closest(".menu-btn")&&!c.closest(".mobile-menu")&&e(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),$.useEffect(()=>{document.body.style.overflow=i?"hidden":"auto"},[i]),N.jsxs("header",{className:"fixed top-0 left-0 w-full z-50",children:[N.jsx("div",{className:"w-full bg-gray-900/95 backdrop-blur-sm shadow-md",children:N.jsxs("nav",{className:"max-w-screen-xl mx-auto px-4 md:px-8 flex items-center justify-between py-4",children:[N.jsx("div",{className:"flex items-center gap-3",children:N.jsx("h1",{className:"text-xl font-bold tracking-wide text-white",children:"The Cantina"})}),N.jsx("ul",{className:"hidden md:flex gap-8",children:r.map((a,l)=>N.jsx("li",{children:N.jsx(Df,{to:a.path,className:`text-white font-medium hover:text-sky-400 transition-colors duration-200 ${t.pathname===a.path?"text-sky-400":""}`,children:a.title})},l))}),N.jsxs("button",{className:"md:hidden menu-btn relative w-10 h-10 flex flex-col justify-center items-center gap-1.5 focus:outline-none z-50","aria-label":"Toggle menu",onClick:()=>e(!i),children:[N.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"rotate-45 translate-y-2":""}`}),N.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`}),N.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"-rotate-45 -translate-y-2":""}`})]})]})}),N.jsxs("div",{className:`mobile-menu md:hidden fixed inset-0 z-50 flex flex-col transform transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full"}`,style:{background:"linear-gradient(to bottom, rgba(30, 41, 59, 0.95), rgba(30, 41, 59, 0.9))"},children:[N.jsx("div",{className:"flex justify-end p-6",children:N.jsx("button",{className:"text-white text-3xl font-bold focus:outline-none","aria-label":"Close menu",onClick:()=>e(!1),children:"✖"})}),N.jsx("div",{className:"flex flex-col items-center justify-center flex-1 gap-8 text-2xl",children:r.map((a,l)=>N.jsx(Df,{to:a.path,className:`text-white hover:text-sky-400 transition-colors duration-200 ${t.pathname===a.path?"text-sky-400 font-bold":""}`,onClick:()=>e(!1),children:a.title},l))})]})]})};var B4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D2=rs.createContext&&rs.createContext(B4),sw=["attr","size","title"];function aw(i,e){if(i==null)return{};var t=ow(i,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function ow(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function Vf(){return Vf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Vf.apply(this,arguments)}function V2(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Nf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(t),!0).forEach(function(r){lw(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):V2(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function lw(i,e,t){return e=uw(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function uw(i){var e=cw(i,"string");return typeof e=="symbol"?e:e+""}function cw(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function U4(i){return i&&i.map((e,t)=>rs.createElement(e.tag,Nf({key:t},e.attr),U4(e.child)))}function rt(i){return e=>rs.createElement(hw,Vf({attr:Nf({},i.attr)},e),U4(i.child))}function hw(i){var e=t=>{var{attr:r,size:a,title:l}=i,c=aw(i,sw),d=a||t.size||"1em",m;return t.className&&(m=t.className),i.className&&(m=(m?m+" ":"")+i.className),rs.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:m,style:Nf(Nf({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&rs.createElement("title",null,l),i.children)};return D2!==void 0?rs.createElement(D2.Consumer,null,t=>e(t)):e(B4)}function fw(i){return rt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M185.7 268.1h76.2l-38.1-91.6-38.1 91.6zM223.8 32L16 106.4l31.8 275.7 176 97.9 176-97.9 31.8-275.7zM354 373.8h-48.6l-26.2-65.4H168.6l-26.2 65.4H93.7L223.8 81.5z"},child:[]}]})(i)}function dw(i){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"},child:[]}]})(i)}function Fo(i){return rt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function mw(i){return rt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(i)}function gw(i){return rt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(i)}function j4(i){return rt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function pw(i){return rt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"},child:[]}]})(i)}function yw(i){return rt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(i)}function _w(i){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(i)}function q4(i){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function vw(i){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(i)}function Ew(i){return rt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function bw(i){return rt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function Tw(i){return rt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function ww(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726a17.617 17.617 0 01-10.951-.577 17.88 17.88 0 01-5.43-3.35c-.1-.074-.151-.15-.151-.22 0-.047.021-.09.051-.13zm6.565-6.218c0-1.005.247-1.863.743-2.577.495-.71 1.17-1.25 2.04-1.615.796-.335 1.756-.575 2.912-.72.39-.046 1.033-.103 1.92-.174v-.37c0-.93-.105-1.558-.3-1.875-.302-.43-.78-.65-1.44-.65h-.182c-.48.046-.896.196-1.246.46-.35.27-.575.63-.675 1.096-.06.3-.206.465-.435.51l-2.52-.315c-.248-.06-.372-.18-.372-.39 0-.046.007-.09.022-.15.247-1.29.855-2.25 1.82-2.88.976-.616 2.1-.975 3.39-1.05h.54c1.65 0 2.957.434 3.888 1.29.135.15.27.3.405.48.12.165.224.314.283.45.075.134.15.33.195.57.06.254.105.42.135.51.03.104.062.3.076.615.01.313.02.493.02.553v5.28c0 .376.06.72.165 1.036.105.313.21.54.315.674l.51.674c.09.136.136.256.136.36 0 .12-.06.226-.18.314-1.2 1.05-1.86 1.62-1.963 1.71-.165.135-.375.15-.63.045a6.062 6.062 0 01-.526-.496l-.31-.347a9.391 9.391 0 01-.317-.42l-.3-.435c-.81.886-1.603 1.44-2.4 1.665-.494.15-1.093.227-1.83.227-1.11 0-2.04-.343-2.76-1.034-.72-.69-1.08-1.665-1.08-2.94l-.05-.076zm3.753-.438c0 .566.14 1.02.425 1.364.285.34.675.512 1.155.512.045 0 .106-.007.195-.02.09-.016.134-.023.166-.023.614-.16 1.08-.553 1.424-1.178.165-.28.285-.58.36-.91.09-.32.12-.59.135-.8.015-.195.015-.54.015-1.005v-.54c-.84 0-1.484.06-1.92.18-1.275.36-1.92 1.17-1.92 2.43l-.035-.02zm9.162 7.027c.03-.06.075-.11.132-.17.362-.243.714-.41 1.05-.5a8.094 8.094 0 011.612-.24c.14-.012.28 0 .41.03.65.06 1.05.168 1.172.33.063.09.099.228.099.39v.15c0 .51-.149 1.11-.424 1.8-.278.69-.664 1.248-1.156 1.68-.073.06-.14.09-.197.09-.03 0-.06 0-.09-.012-.09-.044-.107-.12-.064-.24.54-1.26.806-2.143.806-2.64 0-.15-.03-.27-.087-.344-.145-.166-.55-.257-1.224-.257-.243 0-.533.016-.87.046-.363.045-.7.09-1 .135-.09 0-.148-.014-.18-.044-.03-.03-.036-.047-.02-.077 0-.017.006-.03.02-.063v-.06z"},child:[]}]})(i)}function Aw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(i)}function Sw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.146 0h3.924v18.166c-2.013.382-3.491.535-5.096.535-4.791 0-7.288-2.166-7.288-6.32 0-4.002 2.65-6.6 6.753-6.6.637 0 1.121.05 1.707.203zm0 9.143a3.894 3.894 0 00-1.325-.204c-1.988 0-3.134 1.223-3.134 3.365 0 2.09 1.096 3.236 3.109 3.236.433 0 .79-.025 1.35-.102V9.142zM21.314 6.06v9.098c0 3.134-.229 4.638-.917 5.937-.637 1.249-1.478 2.039-3.211 2.905l-3.644-1.733c1.733-.815 2.574-1.53 3.109-2.625.561-1.121.739-2.421.739-5.835V6.059h3.924zM17.39.021h3.924v4.026H17.39z"},child:[]}]})(i)}function Rw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 8.77h-2.468v7.565h-1.425V8.77h-2.462V7.53H24zm-6.852 7.565h-4.821V7.53h4.63v1.24h-3.205v2.494h2.953v1.234h-2.953v2.604h3.396zm-6.708 0H8.882L4.78 9.863a2.896 2.896 0 0 1-.258-.51h-.036c.032.189.048.592.048 1.21v5.772H3.157V7.53h1.659l3.965 6.32c.167.261.275.442.323.54h.024c-.04-.233-.06-.629-.06-1.185V7.529h1.372zm-8.703-.693a.868.829 0 0 1-.869.829.868.829 0 0 1-.868-.83.868.829 0 0 1 .868-.828.868.829 0 0 1 .869.829Z"},child:[]}]})(i)}function xw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(i)}function Iw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.455 8.369c-.538-.748-1.778-2.285-3.681-4.569-.826-.991-1.535-1.832-1.884-2.245a146 146 0 0 0-.488-.576l-.207-.245-.113-.133-.022-.032-.01-.005L12.57 0l-.609.488c-1.555 1.246-2.828 2.851-3.681 4.64-.523 1.064-.864 2.105-1.043 3.176-.047.241-.088.489-.121.738-.209-.017-.421-.028-.632-.033-.018-.001-.035-.002-.059-.003a7.46 7.46 0 0 0-2.28.274l-.317.089-.163.286c-.765 1.342-1.198 2.869-1.252 4.416-.07 2.01.477 3.954 1.583 5.625 1.082 1.633 2.61 2.882 4.42 3.611l.236.095.071.025.003-.001a9.59 9.59 0 0 0 2.941.568q.171.006.342.006c1.273 0 2.513-.249 3.69-.742l.008.004.313-.145a9.63 9.63 0 0 0 3.927-3.335c1.01-1.49 1.577-3.234 1.641-5.042.075-2.161-.643-4.304-2.133-6.371m-7.083 6.695c.328 1.244.264 2.44-.191 3.558-1.135-1.12-1.967-2.352-2.475-3.665-.543-1.404-.87-2.74-.974-3.975.48.157.922.366 1.315.622 1.132.737 1.914 1.902 2.325 3.461zm.207 6.022c.482.368.99.712 1.513 1.028-.771.21-1.565.302-2.369.273a8 8 0 0 1-.373-.022c.458-.394.869-.823 1.228-1.279zm1.347-6.431c-.516-1.957-1.527-3.437-3.002-4.398-.647-.421-1.385-.741-2.194-.95.011-.134.026-.268.043-.4.014-.113.03-.216.046-.313.133-.689.332-1.37.589-2.025.099-.25.206-.499.321-.74l.004-.008c.177-.358.376-.719.61-1.105l.092-.152-.003-.001c.544-.851 1.197-1.627 1.942-2.311l.288.341c.672.796 1.304 1.548 1.878 2.237 1.291 1.549 2.966 3.583 3.612 4.48 1.277 1.771 1.893 3.579 1.83 5.375-.049 1.395-.461 2.755-1.195 3.933-.694 1.116-1.661 2.05-2.8 2.708-.636-.318-1.559-.839-2.539-1.599.79-1.575.952-3.28.479-5.072zm-2.575 5.397c-.725.939-1.587 1.55-2.09 1.856-.081-.029-.163-.06-.243-.093l-.065-.026c-1.49-.616-2.747-1.656-3.635-3.01-.907-1.384-1.356-2.993-1.298-4.653.041-1.19.338-2.327.882-3.379.316-.07.638-.114.96-.131l.084-.002c.162-.003.324-.003.478 0 .227.011.454.035.677.07.073 1.513.445 3.145 1.105 4.852.637 1.644 1.694 3.162 3.144 4.515z"},child:[]}]})(i)}function Cw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z"},child:[]}]})(i)}function Dw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(i)}function Vw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(i)}function Nw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(i)}function kw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.2209.0875v5.9613l-3.7433.5012v3.5233l3.7433-.5012v3.5735l3.492-.4672V9.1047L24 8.2634l-.4631-3.4613-5.824.7794V.0875zM6.287 1.145v5.9618L0 7.9483l.4634 3.4613 5.8514-.7834 3.4644-.4637V1.145zm3.5198 9.7185l-3.492.4675v3.578l-6.183.8276.4633 3.4613 5.8239-.7796v5.4942h3.492v-5.962l3.6114-.4834V13.944l-3.7156.4973zm13.73 1.7405l-5.824.779-3.492.4673v9.0179h3.492v-5.9618L24 16.0652Z"},child:[]}]})(i)}function Mw(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71 8.71 0 0 0-.547.535c-2.109 2.237-4.066 6.38-4.674 9.544.237.48.422 1.093.544 1.561a13.044 13.044 0 0 1 .164.703s-.019-.071-.096-.296l-.05-.146a1.689 1.689 0 0 0-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376 1.176.484.884.778 2.4.778 2.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304 1.346-.226 1.478.152.256.296.698.422 1.186.286 1.1.485 2.44.485 2.44l.017.224a22.41 22.41 0 0 0 .056 2.748c.095 1.146.273 2.13.5 2.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29 1.661-8.304 1.723-4.55 4.113-8.201 6.3-9.945-1.993 1.8-4.692 7.63-5.5 9.788-.904 2.416-1.545 4.684-1.931 6.857.666-2.037 2.821-2.912 2.821-2.912s1.057-1.304 2.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184 3.613-1.72C21.695 7.9 24.195 2.767 21.678.521m-18.573.543A1.842 1.842 0 0 0 1.27 2.9v16.608a1.84 1.84 0 0 0 1.835 1.834h9.418a22.953 22.953 0 0 1-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01 27.01 0 0 0-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432 0-.12.015-.245.037-.386a9.98 9.98 0 0 1 .234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8 32.8 0 0 1 .382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28 2.587-7.443 4.8-9.791.066-.069.133-.128.198-.194Z"},child:[]}]})(i)}function Ow(i){return rt({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(i)}const Pw=[{name:"C++",icon:N.jsx(Aw,{})},{name:"Python",icon:N.jsx(yw,{})},{name:"Java",icon:N.jsx(gw,{})},{name:"C#",icon:N.jsx(kw,{})},{name:"HTML5",icon:N.jsx(mw,{})},{name:"CSS3",icon:N.jsx(dw,{})},{name:"TypeScript",icon:N.jsx(Ow,{})},{name:"Node.js",icon:N.jsx(pw,{})},{name:"Express",icon:N.jsx(xw,{})},{name:"Angular",icon:N.jsx(fw,{})},{name:"React",icon:N.jsx(_w,{})},{name:"Django",icon:N.jsx(Sw,{})},{name:".NET / ASP.NET",icon:N.jsx(Rw,{})},{name:"Next.js",icon:N.jsx(Vw,{})},{name:"UI/UX"},{name:"ChatBots"},{name:"MySQL",icon:N.jsx(Dw,{})},{name:"PostgreSQL",icon:N.jsx(Nw,{})},{name:"SQLite",icon:N.jsx(Mw,{})},{name:"Firebase",icon:N.jsx(Iw,{})},{name:"Google Cloud",icon:N.jsx(Cw,{})},{name:"AWS",icon:N.jsx(ww,{})}],zw=[{icon:N.jsx(j4,{size:24}),href:"https://www.linkedin.com/in/Kiuliumov"},{icon:N.jsx(q4,{size:24}),href:"https://x.com/DKiuliumov"},{icon:N.jsx(Fo,{size:24}),href:"https://github.com/Kiuliumov"}],Lw=()=>N.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:[N.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[N.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp mt-20",children:N.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/image-banner.jpg",alt:"Dimitur Kiuliumov",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),N.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp mt-25 ",children:[N.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"Dimitur Kiuliumov"}),N.jsxs("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:["Hello! I'm a ",N.jsx("span",{className:"text-sky-400",children:"full-stack developer"})," from Bulgaria with a strong passion for programming and mathematics. After graduating from high school, I will go after a degree in"," ",N.jsx("a",{href:"https://fpmi.bg/cms/informatics/",target:"_blank",rel:"noreferrer",className:"underline text-red-300 hover:text-red-400",children:"Computer Science at the Technical University of Sofia"}),"."]}),N.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-6",children:[N.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[N.jsx(Fo,{})," See My Work"]}),N.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Contact Me"})]}),N.jsx("div",{className:"flex justify-center md:justify-start gap-6 pt-4 text-gray-400",children:zw.map((i,e)=>N.jsx("a",{href:i.href,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400 transition-transform duration-300 transform hover:scale-110",children:i.icon},e))})]})]}),N.jsxs("div",{className:"pt-16 animate-fadeInUp",children:[N.jsx("h2",{className:"text-xl font-semibold text-sky-400 text-center md:text-left",children:"My Skills:"}),N.jsx("div",{className:"flex flex-wrap gap-3 pt-4 justify-center md:justify-start",children:Pw.map((i,e)=>N.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 bg-gray-800 rounded-full text-sm text-gray-200 transition-transform duration-300 hover:scale-105 animate-fadeInUp delay-${e*100}`,children:[i.icon," ",i.name]},i.name))})]})]})]}),Bw=()=>N.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col justify-center items-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:N.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[N.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp",children:N.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/cantina.png",alt:"The Cantina",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),N.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp",children:[N.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"About Us"}),N.jsx("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:"The Cantina is a self-run project with no outside financing. Our mission is to create the best chatbots in the market while building modern, responsive web applications."}),N.jsxs("ul",{className:"flex flex-col gap-2 text-gray-300 max-w-xl list-disc list-inside",children:[N.jsx("li",{children:"🤖 Experienced in building custom Discord bots with JavaScript and Python"}),N.jsx("li",{children:"🌐 Skilled at creating modern, responsive web apps using React and Tailwind"}),N.jsx("li",{children:"⚙️ Integrating APIs, handling databases, and automating tasks"}),N.jsx("li",{children:"🚀 Always learning new frameworks and best practices in full-stack development"}),N.jsx("li",{children:"Our goal is to create the best chatbots in the market."})]}),N.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-4",children:[N.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[N.jsx(Fo,{})," GitHub"]}),N.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Discord"})]})]})]})})]}),Uw=()=>{};var N2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},jw=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},H4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,p=m?i[a+2]:0,_=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,C=p&63;m||(C=64,c||(w=64)),r.push(t[_],t[b],t[w],t[C])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(F4(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):jw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const p=a<i.length?t[i.charAt(a)]:64;++a;const b=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new qw;const w=l<<2|d>>4;if(r.push(w),p!==64){const C=d<<4&240|p>>2;if(r.push(C),b!==64){const U=p<<6&192|b;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class qw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(i){const e=F4(i);return H4.encodeByteArray(e,!0)},kf=function(i){return Fw(i).replace(/\./g,"")},G4=function(i){try{return H4.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mf(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Hw(t)||(i[t]=Mf(i[t],e[t]));return i}function Hw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=()=>Up().__FIREBASE_DEFAULTS__,Qw=()=>{if(typeof process>"u"||typeof N2>"u")return;const i=N2.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Kw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&G4(i[1]);return e&&JSON.parse(e)},Q4=()=>{try{return Uw()||Gw()||Qw()||Kw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jp=()=>Q4()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $w(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kf(JSON.stringify(t)),kf(JSON.stringify(c)),""].join(".")}const Fu={};function Zw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?i.emulator.push(e):i.prod.push(e);return i}function Jw(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let k2=!1;function Ww(i,e){if(typeof window>"u"||typeof document>"u"||!qp(window.location.host)||Fu[i]===e||Fu[i]||k2)return;Fu[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=Zw().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{k2=!0,c()},w}function _(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Jw(r),C=t("text"),U=document.getElementById(C)||document.createElement("span"),K=t("learnmore"),j=document.getElementById(K)||document.createElement("a"),se=t("preprendIcon"),W=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;d(ne),_(j,K);const fe=p();m(W,se),ne.append(W,U,j,fe),document.body.appendChild(ne)}l?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K4(){const i=Q4()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof window<"u"||Y4()}function Y4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function $4(){return!K4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X4(){return!K4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Z4(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="FirebaseError";class Na extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nA,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nd.prototype.create)}}class nd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?rA(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Na(a,d,r)}}function rA(i,e){return i.replace(iA,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const iA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Ho(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(O2(l)&&O2(c)){if(!Ho(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function O2(i){return i!==null&&typeof i=="object"}function sA(i,e){const t=new aA(i,e);return t.subscribe.bind(t)}class aA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");oA(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=zg),a.error===void 0&&(a.error=zg),a.complete===void 0&&(a.complete=zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i){return i&&i._delegate?i._delegate:i}class ba{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Yw;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cA(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(i){return i===ua?void 0:i}function cA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=[];var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const W4={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},hA=Pe.INFO,fA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},dA=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=fA[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null,Fp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}function mA(i){Fp.forEach(e=>{e.setLogLevel(i)})}function gA(i,e){for(const t of Fp){let r=null;e&&e.level&&(r=W4[e.level]),i===null?t.userLogHandler=null:t.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(r??a.logLevel)&&i({level:Pe[l].toLowerCase(),message:d,args:c,type:a.name})}}}const pA=(i,e)=>e.some(t=>i instanceof t);let P2,z2;function yA(){return P2||(P2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return z2||(z2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e3=new WeakMap,tp=new WeakMap,t3=new WeakMap,Lg=new WeakMap,Gp=new WeakMap;function vA(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(is(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&e3.set(t,i)}).catch(()=>{}),Gp.set(e,i),e}function EA(i){if(tp.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});tp.set(i,e)}let np={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return tp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||t3.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bA(i){np=i(np)}function TA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Bg(this),e,...t);return t3.set(r,e.sort?e.sort():[e]),is(r)}:_A().includes(i)?function(...e){return i.apply(Bg(this),e),is(e3.get(this))}:function(...e){return is(i.apply(Bg(this),e))}}function wA(i){return typeof i=="function"?TA(i):(i instanceof IDBTransaction&&EA(i),pA(i,yA())?new Proxy(i,np):i)}function is(i){if(i instanceof IDBRequest)return vA(i);if(Lg.has(i))return Lg.get(i);const e=wA(i);return e!==i&&(Lg.set(i,e),Gp.set(e,i)),e}const Bg=i=>Gp.get(i);function AA(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=is(c);return r&&c.addEventListener("upgradeneeded",m=>{r(is(c.result),m.oldVersion,m.newVersion,is(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const SA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Ug=new Map;function L2(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=RA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||SA.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Ug.set(e,l),l}bA(i=>({...i,get:(e,t,r)=>L2(e,t)||i.get(e,t,r),has:(e,t)=>!!L2(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function IA(i){return i.getComponent()?.type==="VERSION"}const Pf="@firebase/app",rp="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Hp("@firebase/app"),CA="@firebase/app-compat",DA="@firebase/analytics-compat",VA="@firebase/analytics",NA="@firebase/app-check-compat",kA="@firebase/app-check",MA="@firebase/auth",OA="@firebase/auth-compat",PA="@firebase/database",zA="@firebase/data-connect",LA="@firebase/database-compat",BA="@firebase/functions",UA="@firebase/functions-compat",jA="@firebase/installations",qA="@firebase/installations-compat",FA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",QA="@firebase/performance-compat",KA="@firebase/remote-config",YA="@firebase/remote-config-compat",$A="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",JA="@firebase/ai",WA="@firebase/firestore-compat",eS="firebase",tS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]",nS={[Pf]:"fire-core",[CA]:"fire-core-compat",[VA]:"fire-analytics",[DA]:"fire-analytics-compat",[kA]:"fire-app-check",[NA]:"fire-app-check-compat",[MA]:"fire-auth",[OA]:"fire-auth-compat",[PA]:"fire-rtdb",[zA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[BA]:"fire-fn",[UA]:"fire-fn-compat",[jA]:"fire-iid",[qA]:"fire-iid-compat",[FA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[QA]:"fire-perf-compat",[KA]:"fire-rc",[YA]:"fire-rc-compat",[$A]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[WA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Map,Go=new Map,Qo=new Map;function ec(i,e){try{i.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function n3(i,e){i.container.addOrOverwriteComponent(e)}function Ko(i){const e=i.name;if(Qo.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Qo.set(e,i);for(const t of us.values())ec(t,i);for(const t of Go.values())ec(t,i);return!0}function r3(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function rS(i,e,t=ls){r3(i,e).clearInstance(t)}function Qp(i){return i.options!==void 0}function i3(i){return Qp(i)?!1:"authIdToken"in i||"appCheckToken"in i||"releaseOnDeref"in i||"automaticDataCollectionEnabled"in i}function s3(i){return i==null?!1:i.settings!==void 0}function iS(){Qo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pn=new nd("app","Firebase",sS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a3=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(i,e){const t=G4(i.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class aS extends a3{constructor(e,t,r,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,a);else{const d=e;super(d.options,c,a)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&B2(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&B2(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ci(Pf,rp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){$p(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=tS;function Yp(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:ls,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Pn.create("bad-app-name",{appName:String(a)});if(t||(t=jp()),!t)throw Pn.create("no-options");const l=us.get(a);if(l){if(Ho(t,l.options)&&Ho(r,l.config))return l;throw Pn.create("duplicate-app",{appName:a})}const c=new J4(a);for(const m of Qo.values())c.addComponent(m);const d=new a3(t,r,c);return us.set(a,d),d}function oS(i,e={}){if(eA()&&!Y4())throw Pn.create("invalid-server-app-environment");let t,r=e||{};if(i&&(Qp(i)?t=i.options:i3(i)?r=i:t=i),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=jp()),!t)throw Pn.create("no-options");const a={...r,...t};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=_=>[..._].reduce((b,w)=>Math.imul(31,b)+w.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Pn.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(a)),d=Go.get(c);if(d)return d.incRefCount(r.releaseOnDeref),d;const m=new J4(c);for(const _ of Qo.values())m.addComponent(_);const p=new aS(t,r,c,m);return Go.set(c,p),p}function lS(i=ls){const e=us.get(i);if(!e&&i===ls&&jp())return Yp();if(!e)throw Pn.create("no-app",{appName:i});return e}function uS(){return Array.from(us.values())}async function $p(i){let e=!1;const t=i.name;us.has(t)?(e=!0,us.delete(t)):Go.has(t)&&i.decRefCount()<=0&&(Go.delete(t),e=!0),e&&(await Promise.all(i.container.getProviders().map(r=>r.delete())),i.isDeleted=!0)}function ci(i,e,t){let r=nS[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}Ko(new ba(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function o3(i,e){if(i!==null&&typeof i!="function")throw Pn.create("invalid-log-argument");gA(i,e)}function l3(i){mA(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebase-heartbeat-database",hS=1,tc="firebase-heartbeat-store";let jg=null;function u3(){return jg||(jg=AA(cS,hS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Pn.create("idb-open",{originalErrorMessage:i.message})})),jg}async function fS(i){try{const t=(await u3()).transaction(tc),r=await t.objectStore(tc).get(c3(i));return await t.done,r}catch(e){if(e instanceof Na)fi.warn(e.message);else{const t=Pn.create("idb-get",{originalErrorMessage:e?.message});fi.warn(t.message)}}}async function U2(i,e){try{const r=(await u3()).transaction(tc,"readwrite");await r.objectStore(tc).put(e,c3(i)),await r.done}catch(t){if(t instanceof Na)fi.warn(t.message);else{const r=Pn.create("idb-set",{originalErrorMessage:t?.message});fi.warn(r.message)}}}function c3(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=1024,mS=30;class gS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>mS){const a=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j2(),{heartbeatsToSend:t,unsentEntries:r}=pS(this._heartbeatsCache.heartbeats),a=kf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return fi.warn(e),""}}}function j2(){return new Date().toISOString().substring(0,10)}function pS(i,e=dS){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),q2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class yS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z4()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function q2(i){return kf(JSON.stringify({version:2,heartbeats:i})).length}function _S(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(i){Ko(new ba("platform-logger",e=>new xA(e),"PRIVATE")),Ko(new ba("heartbeat",e=>new gS(e),"PRIVATE")),ci(Pf,rp,i),ci(Pf,rp,"esm2020"),ci("fire-js","")}vS("");const ES=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Na,SDK_VERSION:Kp,_DEFAULT_ENTRY_NAME:ls,_addComponent:ec,_addOrOverwriteComponent:n3,_apps:us,_clearComponents:iS,_components:Qo,_getProvider:r3,_isFirebaseApp:Qp,_isFirebaseServerApp:s3,_isFirebaseServerAppSettings:i3,_registerComponent:Ko,_removeServiceInstance:rS,_serverApps:Go,deleteApp:$p,getApp:lS,getApps:uS,initializeApp:Yp,initializeServerApp:oS,onLog:o3,registerVersion:ci,setLogLevel:l3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this._delegate=e,this.firebase=t,ec(e,new ba("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$p(this._delegate)))}_getService(e,t=ls){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=ls){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ec(this._delegate,e)}_addOrOverwriteComponent(e){n3(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},F2=new nd("app-compat","Firebase",TS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(i){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:ci,setLogLevel:l3,onLog:o3,apps:null,SDK_VERSION:Kp,INTERNAL:{registerComponent:d,removeApp:r,useAsService:m,modularAPIs:ES}};t.default=t,Object.defineProperty(t,"apps",{get:c});function r(p){delete e[p]}function a(p){if(p=p||ls,!M2(e,p))throw F2.create("no-app",{appName:p});return e[p]}a.App=i;function l(p,_={}){const b=Yp(p,_);if(M2(e,b.name))return e[b.name];const w=new i(b,t);return e[b.name]=w,w}function c(){return Object.keys(e).map(p=>e[p])}function d(p){const _=p.name,b=_.replace("-compat","");if(Ko(p)&&p.type==="PUBLIC"){const w=(C=a())=>{if(typeof C[b]!="function")throw F2.create("invalid-app-argument",{appName:_});return C[b]()};p.serviceProps!==void 0&&Mf(w,p.serviceProps),t[b]=w,i.prototype[b]=function(...C){return this._getService.bind(this,_).apply(this,p.multipleInstances?C:[])}}return p.type==="PUBLIC"?t[b]:null}function m(p,_){return _==="serverAuth"?null:_}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){const i=wS(bS);i.INTERNAL={...i.INTERNAL,createFirebaseNamespace:h3,extendNamespace:e,createSubscribe:sA,ErrorFactory:nd,deepExtend:Mf};function e(t){Mf(i,t)}return i}const AS=h3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Hp("@firebase/app-compat"),SS="@firebase/app-compat",RS="0.5.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(i){ci(SS,RS,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const i=Up();if(i.firebase!==void 0){H2.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=i.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&H2.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const cs=AS;xS();var IS="firebase",CS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.registerVersion(IS,CS,"app-compat");var G2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,f3;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function R(){}R.prototype=S.prototype,D.D=S.prototype,D.prototype=new R,D.prototype.constructor=D,D.C=function(M,O,z){for(var I=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)I[Yt-2]=arguments[Yt];return S.prototype[O].apply(M,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)M[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)M[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=D.g[0],R=D.g[1],O=D.g[2];var z=D.g[3],I=S+(z^R&(O^z))+M[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=z+(O^S&(R^O))+M[1]+3905402710&4294967295,z=S+(I<<12&4294967295|I>>>20),I=O+(R^z&(S^R))+M[2]+606105819&4294967295,O=z+(I<<17&4294967295|I>>>15),I=R+(S^O&(z^S))+M[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(z^R&(O^z))+M[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=z+(O^S&(R^O))+M[5]+1200080426&4294967295,z=S+(I<<12&4294967295|I>>>20),I=O+(R^z&(S^R))+M[6]+2821735955&4294967295,O=z+(I<<17&4294967295|I>>>15),I=R+(S^O&(z^S))+M[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(z^R&(O^z))+M[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=z+(O^S&(R^O))+M[9]+2336552879&4294967295,z=S+(I<<12&4294967295|I>>>20),I=O+(R^z&(S^R))+M[10]+4294925233&4294967295,O=z+(I<<17&4294967295|I>>>15),I=R+(S^O&(z^S))+M[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(z^R&(O^z))+M[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=z+(O^S&(R^O))+M[13]+4254626195&4294967295,z=S+(I<<12&4294967295|I>>>20),I=O+(R^z&(S^R))+M[14]+2792965006&4294967295,O=z+(I<<17&4294967295|I>>>15),I=R+(S^O&(z^S))+M[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=S+(O^z&(R^O))+M[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=z+(R^O&(S^R))+M[6]+3225465664&4294967295,z=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(z^S))+M[11]+643717713&4294967295,O=z+(I<<14&4294967295|I>>>18),I=R+(z^S&(O^z))+M[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^z&(R^O))+M[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=z+(R^O&(S^R))+M[10]+38016083&4294967295,z=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(z^S))+M[15]+3634488961&4294967295,O=z+(I<<14&4294967295|I>>>18),I=R+(z^S&(O^z))+M[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^z&(R^O))+M[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=z+(R^O&(S^R))+M[14]+3275163606&4294967295,z=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(z^S))+M[3]+4107603335&4294967295,O=z+(I<<14&4294967295|I>>>18),I=R+(z^S&(O^z))+M[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(O^z&(R^O))+M[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=z+(R^O&(S^R))+M[2]+4243563512&4294967295,z=S+(I<<9&4294967295|I>>>23),I=O+(S^R&(z^S))+M[7]+1735328473&4294967295,O=z+(I<<14&4294967295|I>>>18),I=R+(z^S&(O^z))+M[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=S+(R^O^z)+M[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=z+(S^R^O)+M[8]+2272392833&4294967295,z=S+(I<<11&4294967295|I>>>21),I=O+(z^S^R)+M[11]+1839030562&4294967295,O=z+(I<<16&4294967295|I>>>16),I=R+(O^z^S)+M[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^z)+M[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=z+(S^R^O)+M[4]+1272893353&4294967295,z=S+(I<<11&4294967295|I>>>21),I=O+(z^S^R)+M[7]+4139469664&4294967295,O=z+(I<<16&4294967295|I>>>16),I=R+(O^z^S)+M[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^z)+M[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=z+(S^R^O)+M[0]+3936430074&4294967295,z=S+(I<<11&4294967295|I>>>21),I=O+(z^S^R)+M[3]+3572445317&4294967295,O=z+(I<<16&4294967295|I>>>16),I=R+(O^z^S)+M[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(R^O^z)+M[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=z+(S^R^O)+M[12]+3873151461&4294967295,z=S+(I<<11&4294967295|I>>>21),I=O+(z^S^R)+M[15]+530742520&4294967295,O=z+(I<<16&4294967295|I>>>16),I=R+(O^z^S)+M[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=S+(O^(R|~z))+M[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=z+(R^(S|~O))+M[7]+1126891415&4294967295,z=S+(I<<10&4294967295|I>>>22),I=O+(S^(z|~R))+M[14]+2878612391&4294967295,O=z+(I<<15&4294967295|I>>>17),I=R+(z^(O|~S))+M[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~z))+M[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=z+(R^(S|~O))+M[3]+2399980690&4294967295,z=S+(I<<10&4294967295|I>>>22),I=O+(S^(z|~R))+M[10]+4293915773&4294967295,O=z+(I<<15&4294967295|I>>>17),I=R+(z^(O|~S))+M[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~z))+M[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=z+(R^(S|~O))+M[15]+4264355552&4294967295,z=S+(I<<10&4294967295|I>>>22),I=O+(S^(z|~R))+M[6]+2734768916&4294967295,O=z+(I<<15&4294967295|I>>>17),I=R+(z^(O|~S))+M[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=S+(O^(R|~z))+M[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=z+(R^(S|~O))+M[11]+3174756917&4294967295,z=S+(I<<10&4294967295|I>>>22),I=O+(S^(z|~R))+M[2]+718787259&4294967295,O=z+(I<<15&4294967295|I>>>17),I=R+(z^(O|~S))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.u=function(D,S){S===void 0&&(S=D.length);for(var R=S-this.blockSize,M=this.B,O=this.h,z=0;z<S;){if(O==0)for(;z<=R;)a(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(M[O++]=D.charCodeAt(z++),O==this.blockSize){a(this,M),O=0;break}}else for(;z<S;)if(M[O++]=D[z++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;var R=8*this.o;for(S=D.length-8;S<D.length;++S)D[S]=R&255,R/=256;for(this.u(D),D=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)D[R++]=this.g[S]>>>M&255;return D};function l(D,S){var R=d;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=S(D)}function c(D,S){this.h=S;for(var R=[],M=!0,O=D.length-1;0<=O;O--){var z=D[O]|0;M&&z==S||(R[O]=z,M=!1)}this.g=R}var d={};function m(D){return-128<=D&&128>D?l(D,function(S){return new c([S|0],0>S?-1:0)}):new c([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return j(p(-D));for(var S=[],R=1,M=0;D>=R;M++)S[M]=D/R|0,R*=4294967296;return new c(S,0)}function _(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return j(_(D.substring(1),S));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(S,8)),M=b,O=0;O<D.length;O+=8){var z=Math.min(8,D.length-O),I=parseInt(D.substring(O,O+z),S);8>z?(z=p(Math.pow(S,z)),M=M.j(z).add(p(I))):(M=M.j(R),M=M.add(p(I)))}return M}var b=m(0),w=m(1),C=m(16777216);i=c.prototype,i.m=function(){if(K(this))return-j(this).m();for(var D=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);D+=(0<=M?M:4294967296+M)*S,S*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(K(this))return"-"+j(this).toString(D);for(var S=p(Math.pow(D,6)),R=this,M="";;){var O=fe(R,S).g;R=se(R,O.j(S));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(D);if(R=O,U(R))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function K(D){return D.h==-1}i.l=function(D){return D=se(this,D),K(D)?-1:U(D)?0:1};function j(D){for(var S=D.g.length,R=[],M=0;M<S;M++)R[M]=~D.g[M];return new c(R,~D.h).add(w)}i.abs=function(){return K(this)?j(this):this},i.add=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0,O=0;O<=S;O++){var z=M+(this.i(O)&65535)+(D.i(O)&65535),I=(z>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=I>>>16,z&=65535,I&=65535,R[O]=I<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function se(D,S){return D.add(j(S))}i.j=function(D){if(U(this)||U(D))return b;if(K(this))return K(D)?j(this).j(j(D)):j(j(this).j(D));if(K(D))return j(this.j(j(D)));if(0>this.l(C)&&0>D.l(C))return p(this.m()*D.m());for(var S=this.g.length+D.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<D.g.length;O++){var z=this.i(M)>>>16,I=this.i(M)&65535,Yt=D.i(O)>>>16,pt=D.i(O)&65535;R[2*M+2*O]+=I*pt,W(R,2*M+2*O),R[2*M+2*O+1]+=z*pt,W(R,2*M+2*O+1),R[2*M+2*O+1]+=I*Yt,W(R,2*M+2*O+1),R[2*M+2*O+2]+=z*Yt,W(R,2*M+2*O+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new c(R,0)};function W(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ne(D,S){this.g=D,this.h=S}function fe(D,S){if(U(S))throw Error("division by zero");if(U(D))return new ne(b,b);if(K(D))return S=fe(j(D),S),new ne(j(S.g),j(S.h));if(K(S))return S=fe(D,j(S)),new ne(j(S.g),S.h);if(30<D.g.length){if(K(D)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=S;0>=M.l(D);)R=ue(R),M=ue(M);var O=_e(R,1),z=_e(M,1);for(M=_e(M,2),R=_e(R,2);!U(M);){var I=z.add(M);0>=I.l(D)&&(O=O.add(R),z=I),M=_e(M,1),R=_e(R,1)}return S=se(D,O.j(S)),new ne(O,S)}for(O=b;0<=D.l(S);){for(R=Math.max(1,Math.floor(D.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(R),I=z.j(S);K(I)||0<I.l(D);)R-=M,z=p(R),I=z.j(S);U(z)&&(z=w),O=O.add(z),D=se(D,I)}return new ne(O,D)}i.A=function(D){return fe(this,D).h},i.and=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&D.i(M);return new c(R,this.h&D.h)},i.or=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|D.i(M);return new c(R,this.h|D.h)},i.xor=function(D){for(var S=Math.max(this.g.length,D.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^D.i(M);return new c(R,this.h^D.h)};function ue(D){for(var S=D.g.length+1,R=[],M=0;M<S;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new c(R,D.h)}function _e(D,S){var R=S>>5;S%=32;for(var M=D.g.length-R,O=[],z=0;z<M;z++)O[z]=0<S?D.i(z+R)>>>S|D.i(z+R+1)<<32-S:D.i(z+R);return new c(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,f3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,ss=c}).apply(typeof G2<"u"?G2:typeof self<"u"?self:typeof window<"u"?window:{});var uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d3,Lu,m3,_f,ip,g3,p3,y3;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uf=="object"&&uf];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var v=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var L=h[A];if(!(L in v))break e;v=v[L]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,A=!1,L={next:function(){if(!A&&v<h.length){var Y=v++;return{value:y(Y,h[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,v){return h.call.apply(h.bind,arguments)}function b(h,y,v){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),h.apply(y,L)}}return function(){return h.apply(y,arguments)}}function w(h,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,w.apply(null,arguments)}function C(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function U(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(A,L,Y){for(var oe=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)oe[ze-2]=arguments[ze];return y.prototype[L].apply(A,oe)}}function K(h){const y=h.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function j(h,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(m(A)){const L=h.length||0,Y=A.length||0;h.length=L+Y;for(let oe=0;oe<Y;oe++)h[L+oe]=A[oe]}else h.push(A)}}class se{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function fe(h){return fe[" "](h),h}fe[" "]=function(){};var ue=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function _e(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function D(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function S(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)h[v]=A[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function O(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function z(h){d.setTimeout(()=>{throw h},0)}function I(){var h=Fe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Yt{constructor(){this.h=this.g=null}add(y,v){const A=pt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new se(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Ee=!1,Fe=new Yt,V=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(re)}};var re=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(v){z(v)}var y=pt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}Ee=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h})();function De(h,y){if(ae.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ue){e:{try{fe(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}U(De,ae);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),it=0;function ur(h,y,v,A,L){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=L,this.key=++it,this.da=this.fa=!1}function Ei(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pr(h){this.src=h,this.g={},this.h=0}Pr.prototype.add=function(h,y,v,A,L){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var oe=Rs(h,y,A,L);return-1<oe?(y=h[oe],v||(y.fa=!1)):(y=new ur(y,this.src,Y,!!A,L),y.fa=v,h.push(y)),y};function Ss(h,y){var v=y.type;if(v in h.g){var A=h.g[v],L=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(A,L,1),Y&&(Ei(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Rs(h,y,v,A){for(var L=0;L<h.length;++L){var Y=h[L];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return L}return-1}var xs="closure_lm_"+(1e6*Math.random()|0),Tl={};function zc(h,y,v,A,L){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)zc(h,y[Y],v,A,L);return null}return v=Lc(v),h&&h[Ut]?h.K(y,v,p(A)?!!A.capture:!1,L):Ln(h,y,v,!1,A,L)}function Ln(h,y,v,A,L,Y){if(!y)throw Error("Invalid event type");var oe=p(L)?!!L.capture:!!L,ze=La(h);if(ze||(h[xs]=ze=new Pr(h)),v=ze.add(y,v,A,oe,Y),v.proxy)return v;if(A=Cd(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)be||(L=oe),L===void 0&&(L=!1),h.addEventListener(y.toString(),A,L);else if(h.attachEvent)h.attachEvent(Is(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cd(){function h(v){return y.call(h.src,h.listener,v)}const y=Dd;return h}function wl(h,y,v,A,L){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)wl(h,y[Y],v,A,L);else A=p(A)?!!A.capture:!!A,v=Lc(v),h&&h[Ut]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],v=Rs(Y,v,A,L),-1<v&&(Ei(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=La(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Rs(y,v,A,L)),(v=-1<h?y[h]:null)&&za(v))}function za(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ut])Ss(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(Is(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=La(y))?(Ss(v,h),v.h==0&&(v.src=null,y[xs]=null)):Ei(h)}}}function Is(h){return h in Tl?Tl[h]:Tl[h]="on"+h}function Dd(h,y){if(h.da)h=!0;else{y=new De(y,this);var v=h.listener,A=h.ha||h.src;h.fa&&za(h),h=v.call(A,y)}return h}function La(h){return h=h[xs],h instanceof Pr?h:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(y){return h.handleEvent(y)}),h[Al])}function yt(){de.call(this),this.i=new Pr(this),this.M=this,this.F=null}U(yt,de),yt.prototype[Ut]=!0,yt.prototype.removeEventListener=function(h,y,v,A){wl(this,h,y,v,A)};function Ke(h,y){var v,A=h.F;if(A)for(v=[];A;A=A.F)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ae(y,h);else if(y instanceof ae)y.target=y.target||h;else{var L=y;y=new ae(A,h),M(y,L)}if(L=!0,v)for(var Y=v.length-1;0<=Y;Y--){var oe=y.g=v[Y];L=Rn(oe,A,!0,y)&&L}if(oe=y.g=h,L=Rn(oe,A,!0,y)&&L,L=Rn(oe,A,!1,y)&&L,v)for(Y=0;Y<v.length;Y++)oe=y.g=v[Y],L=Rn(oe,A,!1,y)&&L}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],A=0;A<v.length;A++)Ei(v[A]);delete h.g[y],h.h--}}this.F=null},yt.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},yt.prototype.L=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Rn(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==v){var ze=oe.listener,Ot=oe.ha||oe.src;oe.fa&&Ss(h.i,oe),L=ze.call(Ot,A)!==!1&&L}}return L&&!A.defaultPrevented}function rn(h,y,v){if(typeof h=="function")v&&(h=w(h,v));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Bc(h){h.g=rn(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Vd extends de{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(h){de.call(this),this.h=h,this.g={}}U(Cs,de);var Ds=[];function Vs(h){_e(h.g,function(y,v){this.g.hasOwnProperty(v)&&za(y)},h),h.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Vs(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=d.JSON.stringify,Ba=d.JSON.parse,Ns=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Sl(){}Sl.prototype.h=null;function Rl(h){return h.h||(h.h=h.i())}function xl(){}var zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){ae.call(this,"d")}U(Lr,ae);function Il(){ae.call(this,"c")}U(Il,ae);var cr={},Cl=null;function bi(){return Cl=Cl||new yt}cr.La="serverreachability";function Ua(h){ae.call(this,cr.La,h)}U(Ua,ae);function Ti(h){const y=bi();Ke(y,new Ua(y))}cr.STAT_EVENT="statevent";function Uc(h,y){ae.call(this,cr.STAT_EVENT,h),this.stat=y}U(Uc,ae);function ut(h){const y=bi();Ke(y,new Uc(y,h))}cr.Ma="timingevent";function Mt(h,y){ae.call(this,cr.Ma,h),this.size=y}U(Mt,ae);function xt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Dl(h,y,v,A,L,Y){h.info(function(){if(h.g)if(Y)for(var oe="",ze=Y.split("&"),Ot=0;Ot<ze.length;Ot++){var Le=ze[Ot].split("=");if(1<Le.length){var qt=Le[0];Le=Le[1];var Pt=qt.split("_");oe=2<=Pt.length&&Pt[1]=="type"?oe+(qt+"="+Le+"&"):oe+(qt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+y+`
`+v+`
`+oe})}function Nd(h,y,v,A,L,Y,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+y+`
`+v+`
`+Y+" "+oe})}function wi(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ks(h,v)+(A?" "+A:"")})}function jc(h,y){h.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function ks(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var A=v[h];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<L.length;oe++)L[oe]=""}}}}return Wn(v)}catch{return y}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function fr(){}U(fr,Sl),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},hr=new fr;function fn(h,y,v,A){this.j=h,this.i=y,this.l=v,this.R=A||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Vl={},ja={};function er(h,y,v){h.L=1,h.v=Ls(xn(y)),h.m=v,h.P=!0,Ur(h,null)}function Ur(h,y){h.F=Date.now(),Ms(h),h.A=xn(h.v);var v=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),zl(v.i,"t",A),h.C=0,v=h.j.J,h.h=new bt,h.g=rh(h.j,v?y:null,!h.m),0<h.O&&(h.M=new Vd(w(h.Y,h,h.g),h.O)),y=h.U,v=h.g,A=h.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ds[0]=L.toString()),L=Ds);for(var Y=0;Y<L.length;Y++){var oe=zc(v,L[Y],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ti(),Dl(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Fn(h)==3?y.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Fn(this.g);var y=this.g.Ba();const Yr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=Yr?Ti(3):Ti(2)),Si(this);var v=this.g.Z();this.X=v;t:if(qc(this)){var A=$c(this.g);h="";var L=A.length,Y=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),dr(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Y&&y==L-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Nd(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ot=this.g;if((ze=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ze)){var Le=ze;break t}}Le=null}if(v=Le)wi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,v);else{this.o=!1,this.s=3,ut(12),$t(this),dr(this);break e}}if(this.P){v=!0;let Xt;for(;!this.J&&this.C<oe.length;)if(Xt=Fc(this,oe),Xt==ja){Pt==4&&(this.s=4,ut(14),v=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Vl){this.s=4,ut(15),wi(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else wi(this.i,this.l,Xt,null),Os(this,Xt);if(qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||oe.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)wi(this.i,this.l,oe,"[Invalid Chunked Response]"),$t(this),dr(this);else if(0<oe.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Qs(qt),qt.M=!0,ut(11))}}else wi(this.i,this.l,oe,null),Os(this,oe);Pt==4&&$t(this),this.o&&!this.J&&(Pt==4?eh(this.j,this):(this.o=!1,Ms(this)))}else zd(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),$t(this),dr(this)}}}catch{}finally{}};function qc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Fc(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?ja:(v=Number(y.substring(v,A)),isNaN(v)?Vl:(A+=1,A+v>y.length?ja:(y=y.slice(A,A+v),h.C=A+v,y)))}fn.prototype.cancel=function(){this.J=!0,$t(this)};function Ms(h){h.S=Date.now()+h.I,Hc(h,h.I)}function Hc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xt(w(h.ba,h),y)}function Si(h){h.B&&(d.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(jc(this.i,this.A),this.L!=2&&(Ti(),ut(17)),$t(this),this.s=2,dr(this)):Hc(this,this.S-h)};function dr(h){h.j.G==0||h.J||eh(h.j,h)}function $t(h){Si(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Vs(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Os(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Nl(v.h,h))){if(!h.K&&Nl(v.h,h)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Wa(v),Za(v);else break e;ql(v),ut(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=xt(w(v.Za,v),6e3));if(1>=Fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Kr(v,11)}else if((h.K||v.g==h)&&Wa(v),!W(y))for(L=v.Da.g.parse(y),y=0;y<L.length;y++){let Le=L[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const qt=Le[3];qt!=null&&(v.la=qt,v.j.info("VER="+v.la));const Pt=Le[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const Yr=Le[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(A=1.5*Yr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Xt=h.g;if(Xt){const Er=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var Y=A.h;Y.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ha(Y,Y.h),Y.h=null))}if(A.D){const Hl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(A.ya=Hl,Je(A.I,A.D,Hl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=h;if(A.qa=nh(A,A.J?A.ia:null,A.W),oe.K){dn(A.h,oe);var ze=oe,Ot=A.L;Ot&&(ze.I=Ot),ze.B&&(Si(ze),Ms(ze)),A.g=oe}else Jc(A);0<v.i.length&&Ja(v)}else Le[0]!="stop"&&Le[0]!="close"||Kr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Kr(v,7):Ul(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Ti(4)}catch{}}var Gc=class{constructor(h,y){this.g=h,this.map=y}};function jr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fa(h){return h.h?1:h.g?h.g.size:0}function Nl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ha(h,y){h.g?h.g.add(y):h.h=y}function dn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}jr.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return K(h.i)}function kd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],v=h.length,A=0;A<v;A++)y.push(h[A]);return y}y=[],v=0;for(A in h)y[v++]=h[A];return y}function Ga(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const A in h)y[v++]=A;return y}}}function Ml(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=Ga(h),A=kd(h),L=A.length,Y=0;Y<L;Y++)y.call(void 0,A[Y],v&&v[Y],h)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var A=h[v].indexOf("="),L=null;if(0<=A){var Y=h[v].substring(0,A);L=h[v].substring(A+1)}else Y=h[v];y(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,zs(this,h.j),this.o=h.o,this.g=h.g,Ri(this,h.s),this.l=h.l;var y=h.i,v=new Fr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),qr(this,v),this.m=h.m}else h&&(y=String(h).match(Ps))?(this.h=!1,zs(this,y[1]||"",!0),this.o=Un(y[2]||""),this.g=Un(y[3]||"",!0),Ri(this,y[4]),this.l=Un(y[5]||"",!0),qr(this,y[6]||"",!0),this.m=Un(y[7]||"")):(this.h=!1,this.i=new Fr(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Bs(y,Ol,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Bs(y,Ol,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Bs(v,v.charAt(0)=="/"?Od:Pl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Bs(v,Qa)),h.join("")};function xn(h){return new It(h)}function zs(h,y,v){h.j=v?Un(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ri(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function qr(h,y,v){y instanceof Fr?(h.i=y,Kc(h.i,h.h)):(v||(y=Bs(y,Pd)),h.i=new Fr(y,h.h))}function Je(h,y,v){h.i.set(y,v)}function Ls(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Un(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Qc),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ol=/[#\/\?@]/g,Pl=/[#\?:]/g,Od=/[#\?]/g,Pd=/[#\?@]/g,Qa=/#/g;function Fr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Md(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Fr.prototype,i.add=function(h,y){jn(this),this.i=null,h=mr(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Hr(h,y){jn(h),y=mr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Gr(h,y){return jn(h),y=mr(h,y),h.g.has(y)}i.forEach=function(h,y){jn(this),this.g.forEach(function(v,A){v.forEach(function(L){h.call(y,L,A,this)},this)},this)},i.na=function(){jn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const L=h[A];for(let Y=0;Y<L.length;Y++)v.push(y[A])}return v},i.V=function(h){jn(this);let y=[];if(typeof h=="string")Gr(this,h)&&(y=y.concat(this.g.get(mr(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},i.set=function(h,y){return jn(this),this.i=null,h=mr(this,h),Gr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function zl(h,y,v){Hr(h,y),0<v.length&&(h.i=null,h.g.set(mr(h,y),K(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var L=Y;oe[A]!==""&&(L+="="+encodeURIComponent(String(oe[A]))),h.push(L)}}return this.i=h.join("&")};function mr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Kc(h,y){y&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(Hr(this,A),zl(this,L,v))},h)),h.j=y}function Us(h,y){const v=new Bn;if(d.Image){const A=new Image;A.onload=C(qn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=C(qn,v,"TestLoadImage: error",!1,y,A),A.onabort=C(qn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=C(qn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function tr(h,y){const v=new Bn,A=new AbortController,L=setTimeout(()=>{A.abort(),qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(L),Y.ok?qn(v,"TestPingServer: ok",!0,y):qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),qn(v,"TestPingServer: error",!1,y)})}function qn(h,y,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function js(){this.g=new Ns}function gr(h,y,v){const A=v||"";try{Ml(h,function(L,Y){let oe=L;p(L)&&(oe=Wn(L)),y.push(A+Y+"="+encodeURIComponent(oe))})}catch(L){throw y.push(A+"type="+encodeURIComponent("_badmap")),L}}function xi(h){this.l=h.Ub||null,this.j=h.eb||!1}U(xi,Sl),xi.prototype.g=function(){return new Qr(this.l,this.j)},xi.prototype.i=(function(h){return function(){return h}})({});function Qr(h,y){yt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Qr,yt),i=Qr.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,yr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ll(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ll(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?pr(this):yr(this),this.readyState==3&&Ll(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,pr(this))},i.Qa=function(h){this.g&&(this.response=h,pr(this))},i.ga=function(){this.g&&pr(this)};function pr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,yr(h)}i.setRequestHeader=function(h,y){this.u.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function yr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bl(h){let y="";return _e(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function jt(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bl(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):Je(h,y,v))}function Ge(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ge,yt);var Ka=/^https?$/i,qs=["POST","PUT"];i=Ge.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?Rl(this.o):Rl(hr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Yc(this,Y);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),L=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(qs,y,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of v)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Yc(this,Y)}};function Yc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ya(h),_r(h)}function Ya(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),_r(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},i.bb=function(){$a(this)};function $a(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)rn(h.Ea,0,h);else if(Ke(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var L=String(h.D).match(Ps)[1]||null;!L&&d.self&&d.self.location&&(L=d.self.location.protocol.slice(0,-1)),A=!Ka.test(L?L.toLowerCase():"")}v=A}if(v)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var Y=2<Fn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Ya(h)}}finally{_r(h)}}}}function _r(h,y){if(h.g){Fs(h);const v=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ke(h,"ready");try{v.onreadystatechange=A}catch{}}}function Fs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ba(y)}};function $c(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zd(h){const y={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(W(h[A]))continue;var v=O(h[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[L]||[];y[L]=Y,Y.push(v)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Xa(h){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,h),this.cb=Hs("retryDelaySeedMs",1e4,h),this.Wa=Hs("forwardChannelMaxRetries",2,h),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(h&&h.concurrentRequestLimit),this.Da=new js,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Xa.prototype,i.la=8,i.G=1,i.connect=function(h,y,v,A){ut(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=nh(this,null,this.W),Ja(this)};function Ul(h){if(Xc(h),h.G==3){var y=h.U++,v=xn(h.I);if(Je(v,"SID",h.K),Je(v,"RID",y),Je(v,"TYPE","terminate"),Gs(h,v),y=new fn(h,h.j,y),y.L=2,y.v=Ls(xn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=rh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ms(y)}th(h)}function Za(h){h.g&&(Qs(h),h.g.cancel(),h.g=null)}function Xc(h){Za(h),h.u&&(d.clearTimeout(h.u),h.u=null),Wa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ja(h){if(!qa(h.h)&&!h.s){h.s=!0;var y=h.Ga;ce||V(),Ee||(ce(),Ee=!0),Fe.add(y,h),h.B=0}}function Ld(h,y){return Fa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xt(w(h.Ga,h,y),Fl(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const L=new fn(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=S(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Zc(this,L,y),v=xn(this.I),Je(v,"RID",h),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),Gs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Bl(Y)))+"&"+y:this.m&&jt(v,this.m,Y)),Ha(this.h,L),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",y),Je(v,"SID","null"),L.T=!0,er(L,v,null)):er(L,v,y),this.G=2}}else this.G==3&&(h?jl(this,h):this.i.length==0||qa(this.h)||jl(this))};function jl(h,y){var v;y?v=y.l:v=h.U++;const A=xn(h.I);Je(A,"SID",h.K),Je(A,"RID",v),Je(A,"AID",h.T),Gs(h,A),h.m&&h.o&&jt(A,h.m,h.o),v=new fn(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Zc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ha(h.h,v),er(v,A,y)}function Gs(h,y){h.H&&_e(h.H,function(v,A){Je(y,A,v)}),h.l&&Ml({},function(v,A){Je(y,A,v)})}function Zc(h,y,v){v=Math.min(h.i.length,v);var A=h.l?w(h.l.Na,h.l,h):null;e:{var L=h.i;let Y=-1;for(;;){const oe=["count="+v];Y==-1?0<v?(Y=L[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let ze=!0;for(let Ot=0;Ot<v;Ot++){let Le=L[Ot].g;const qt=L[Ot].map;if(Le-=Y,0>Le)Y=Math.max(0,L[Ot].g-100),ze=!1;else try{gr(qt,oe,"req"+Le+"_")}catch{A&&A(qt)}}if(ze){A=oe.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,A}function Jc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ce||V(),Ee||(ce(),Ee=!0),Fe.add(y,h),h.v=0}}function ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xt(w(h.Fa,h),Fl(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xt(w(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Za(this),Wc(this))};function Qs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Wc(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=xn(h.qa);Je(y,"RID","rpc"),Je(y,"SID",h.K),Je(y,"AID",h.T),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(y,"TO",h.ja),Je(y,"TYPE","xmlhttp"),Gs(h,y),h.m&&h.o&&jt(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Ls(xn(y)),v.m=null,v.P=!0,Ur(v,h)}i.Za=function(){this.C!=null&&(this.C=null,Za(this),ql(this),ut(19))};function Wa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function eh(h,y){var v=null;if(h.g==y){Wa(h),Qs(h),h.g=null;var A=2}else if(Nl(h.h,y))v=y.D,dn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var L=h.B;A=bi(),Ke(A,new Mt(A,v)),Ja(h)}else Jc(h);else if(L=y.s,L==3||L==0&&0<y.X||!(A==1&&Ld(h,y)||A==2&&ql(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),L){case 1:Kr(h,5);break;case 4:Kr(h,10);break;case 3:Kr(h,6);break;default:Kr(h,2)}}}function Fl(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function Kr(h,y){if(h.j.info("Error code "+y),y==2){var v=w(h.fb,h),A=h.Xa;const L=!A;A=new It(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zs(A,"https"),Ls(A),L?Us(A.toString(),v):tr(A.toString(),v)}else ut(2);h.G=0,h.l&&h.l.sa(y),th(h),Xc(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function th(h){if(h.G=0,h.ka=[],h.l){const y=kl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ka,y),j(h.ka,h.i),h.h.i.length=0,K(h.i),h.i.length=0),h.l.ra()}}function nh(h,y,v){var A=v instanceof It?xn(v):new It(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ri(A,A.s);else{var L=d.location;A=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var Y=new It(null);A&&zs(Y,A),y&&(Y.g=y),L&&Ri(Y,L),v&&(Y.l=v),A=Y}return v=h.D,y=h.ya,v&&y&&Je(A,v,y),Je(A,"VER",h.la),Gs(h,A),A}function rh(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ge(new xi({eb:v})):new Ge(h.pa),y.Ha(h.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}i=ih.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function eo(){}eo.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){yt.call(this),this.g=new Xa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!W(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vr(this)}U(mn,yt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ul(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=Wn(h),h=v);y.i.push(new Gc(y.Ya++,h)),y.G==3&&Ja(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,mn.aa.N.call(this)};function sh(h){Lr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}U(sh,Lr);function ah(){Il.call(this),this.status=1}U(ah,Il);function vr(h){this.g=h}U(vr,ih),vr.prototype.ua=function(){Ke(this.g,"a")},vr.prototype.ta=function(h){Ke(this.g,new sh(h))},vr.prototype.sa=function(h){Ke(this.g,new ah)},vr.prototype.ra=function(){Ke(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,y3=function(){return new eo},p3=function(){return bi()},g3=cr,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,_f=Ai,Br.COMPLETE="complete",m3=Br,xl.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Lu=xl,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,d3=Ge}).apply(typeof uf<"u"?uf:typeof self<"u"?self:typeof window<"u"?window:{});const Q2="@firebase/firestore",K2="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Hp("@firebase/firestore");function Po(){return hs.logLevel}function DS(i){hs.setLogLevel(i)}function ie(i,...e){if(hs.logLevel<=Pe.DEBUG){const t=e.map(Xp);hs.debug(`Firestore (${ml}): ${i}`,...t)}}function At(i,...e){if(hs.logLevel<=Pe.ERROR){const t=e.map(Xp);hs.error(`Firestore (${ml}): ${i}`,...t)}}function kr(i,...e){if(hs.logLevel<=Pe.WARN){const t=e.map(Xp);hs.warn(`Firestore (${ml}): ${i}`,...t)}}function Xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_3(i,r,t)}function _3(i,e,t){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw At(r),new Error(r)}function pe(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||_3(e,a,r)}function VS(i,e){i||me(57014,e)}function he(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Na{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kt.UNAUTHENTICATED)))}shutdown(){}}class kS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class MS{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new nn,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new nn)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string",31837,{l:r}),new v3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class OS{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PS{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new OS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,s3(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);const r=l=>{l.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=LS(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Re(i,e){return i<e?-1:i>e?1:0}function sp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return qg(a)===qg(l)?Re(a,l):qg(a)?1:-1}return Re(i.length,e.length)}const BS=55296,US=57343;function qg(i){const e=i.charCodeAt(0);return e>=BS&&e<=US}function Yo(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}function E3(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="__name__";class Rr{constructor(e,t,r){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Rr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const r=Rr.isNumericId(e),a=Rr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class Me extends Rr{construct(e,t,r){return new Me(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Me(t)}static emptyPath(){return new Me([])}}const jS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Rr{construct(e,t,r){return new ft(e,t,r)}static isValidIdentifier(e){return jS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$2}static keyField(){return new ft([$2])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new te(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new te(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new te(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new te(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Me.fromString(e))}static fromName(e){return new le(Me.fromString(e).popFirst(5))}static empty(){return new le(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i,e,t){if(!t)throw new te(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function b3(i,e,t,r){if(e===!0&&r===!0)throw new te(Q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function X2(i){if(!le.isDocumentKey(i))throw new te(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z2(i){if(le.isDocumentKey(i))throw new te(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function T3(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function rd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":me(12329,{type:typeof i})}function qe(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new te(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rd(i);throw new te(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function w3(i,e){if(e<=0)throw new te(Q.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Tc(i,e){if(!T3(i))throw new te(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new te(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=-62135596800,W2=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*W2);return new Qe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new te(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new te(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<J2)throw new te(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W2}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Nt("string",Qe._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Qe(0,0))}static max(){return new ye(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=-1;class zf{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function ap(i){return i.fields.find((e=>e.kind===2))}function ca(i){return i.fields.filter((e=>e.kind!==2))}zf.UNKNOWN_ID=-1;class vf{constructor(e,t){this.fieldPath=e,this.kind=t}}class nc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nc(0,zn.min())}}function A3(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=ye.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new zn(a,le.empty(),e)}function S3(i){return new zn(i.readTime,i.key,$o)}class zn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zn(ye.min(),le.empty(),$o)}static max(){return new zn(ye.max(),le.empty(),$o)}}function Wp(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=le.comparator(i.documentKey,e.documentKey),t!==0?t:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==R3)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):B.reject(t)}static resolve(e){return new B(((t,r)=>{t(e)}))}static reject(e){return new B(((t,r)=>{r(e)}))}static waitFor(e){return new B(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>r(m)))})),c=!0,l===a&&t()}))}static or(e){let t=B.resolve(!1);for(const r of e)t=t.next((a=>a?B.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new B(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((_=>{c[p]=_,++d,d===l&&r(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new B(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="SimpleDb";class id{static open(e,t,r,a){try{return new id(t,e.transaction(a,r))}catch(l){throw new Hu(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new nn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Hu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=e1(r.target.error);this.S.reject(new Hu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ie(On,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new FS(t)}}class Dr{static delete(e){return ie(On,"Removing database:",e),fa(Up().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Z4())return!1;if(Dr.F())return!0;const e=Of(),t=Dr.M(e),r=0<t&&t<10,a=I3(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Dr.M(Of())===12.2&&At("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ie(On,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{r(new Hu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new te(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new te(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Hu(e,c))},a.onupgradeneeded=l=>{ie(On,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{ie(On,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=id.open(this.db,e,l?"readonly":"readwrite",r),m=a(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),B.reject(p)))).toPromise();return m.catch((()=>{})),await d.D,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(ie(On,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function I3(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class qS{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return fa(this.U.delete())}}class Hu extends te{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bs(i){return i.name==="IndexedDbTransactionError"}class FS{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ie(On,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ie(On,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fa(r)}add(e){return ie(On,"ADD",this.store.name,e,e),fa(this.store.add(e))}get(e){return fa(this.store.get(e)).next((t=>(t===void 0&&(t=null),ie(On,"GET",this.store.name,e,t),t)))}delete(e){return ie(On,"DELETE",this.store.name,e),fa(this.store.delete(e))}count(){return ie(On,"COUNT",this.store.name),fa(this.store.count())}J(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new B(((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(r),c=[];return this.H(l,((d,m)=>{c.push(m)})).next((()=>c))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new B(((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){ie(On,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const a=this.cursor(r);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.H(a,t)}te(e){const t=this.cursor({});return new B(((r,a)=>{t.onerror=l=>{const c=e1(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}H(e,t){const r=[];return new B(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new qS(d),p=t(d.primaryKey,d.value,m);if(p instanceof B){const _=p.catch((b=>(m.done(),B.reject(b))));r.push(_)}m.isDone?a():m.G===null?d.continue():d.continue(m.G)}})).next((()=>B.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fa(i){return new B(((e,t)=>{i.onsuccess=r=>{const a=r.target.result;e(a)},i.onerror=r=>{const a=e1(r.target.error);t(a)}}))}let ev=!1;function e1(i){const e=Dr.M(Of());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const r=new te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ev||(ev=!0,setTimeout((()=>{throw r}),0)),r}}return i}const Gu="IndexBackfiller";class HS{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ie(Gu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ie(Gu,`Documents written: ${t}`)}catch(t){bs(t)?ie(Gu,"Ignoring IndexedDB error during index backfill: ",t):await Es(t)}await this.re(6e4)}))}}class GS{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,l=!0;return B.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ie(Gu,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(ie(Gu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,l)=>{const c=S3(l);Wp(c,r)>0&&(r=c)})),new zn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=-1;function wc(i){return i==null}function rc(i){return i===0&&1/i==-1/0}function C3(i){return typeof i=="number"&&Number.isInteger(i)&&!rc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="";function cn(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=tv(e)),e=QS(i.get(t),e);return tv(e)}function QS(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Lf:t+="";break;default:t+=l}}return t}function tv(i){return i+Lf+""}function Ir(i){const e=i.length;if(pe(e>=2,64408,{path:i}),e===2)return pe(i.charAt(0)===Lf&&i.charAt(1)==="",56145,{path:i}),Me.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const c=i.indexOf(Lf,l);switch((c<0||c>t)&&me(50515,{path:i}),i.charAt(c+1)){case"":const d=i.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),r.push(m);break;case"":a+=i.substring(l,c),a+="\0";break;case"":a+=i.substring(l,c+1);break;default:me(61167,{path:i})}l=c+2}return new Me(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="remoteDocuments",Ac="owner",Do="owner",ic="mutationQueues",KS="userId",sr="mutations",nv="batchId",ya="userMutationsIndex",rv=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(i,e){return[i,cn(e)]}function D3(i,e,t){return[i,cn(e),t]}const YS={},Xo="documentMutations",Bf="remoteDocumentsV14",$S=["prefixPath","collectionGroup","readTime","documentId"],bf="documentKeyIndex",XS=["prefixPath","collectionGroup","documentId"],V3="collectionGroupIndex",ZS=["collectionGroup","readTime","prefixPath","documentId"],sc="remoteDocumentGlobal",op="remoteDocumentGlobalKey",Zo="targets",N3="queryTargetsIndex",JS=["canonicalId","targetId"],Jo="targetDocuments",WS=["targetId","path"],t1="documentTargetsIndex",e9=["path","targetId"],Uf="targetGlobalKey",Ea="targetGlobal",ac="collectionParents",t9=["collectionId","parent"],Wo="clientMetadata",n9="clientId",sd="bundles",r9="bundleId",ad="namedQueries",i9="name",n1="indexConfiguration",s9="indexId",lp="collectionGroupIndex",a9="collectionGroup",Qu="indexState",o9=["indexId","uid"],k3="sequenceNumberIndex",l9=["uid","sequenceNumber"],Ku="indexEntries",u9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M3="documentKeyIndex",c9=["indexId","uid","orderedDocumentKey"],od="documentOverlays",h9=["userId","collectionPath","documentId"],up="collectionPathOverlayIndex",f9=["userId","collectionPath","largestBatchId"],O3="collectionGroupOverlayIndex",d9=["userId","collectionGroup","largestBatchId"],r1="globals",m9="name",P3=[ic,sr,Xo,ha,Zo,Ac,Ea,Jo,Wo,sc,ac,sd,ad],g9=[...P3,od],z3=[ic,sr,Xo,Bf,Zo,Ac,Ea,Jo,Wo,sc,ac,sd,ad,od],L3=z3,i1=[...L3,n1,Qu,Ku],p9=i1,B3=[...i1,r1],y9=B3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends x3{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bt(i,e){const t=he(i);return Dr.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ts(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function U3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new en(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(e){return new sv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class sv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vo(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new An([])}unionWith(e){let t=new Ze(ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new j3("Invalid base64 string: "+l):l}})(e);return new Et(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Et(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const v9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(i){if(pe(!!i,39018),typeof i=="string"){let e=0;const t=v9.exec(i);if(pe(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(i.seconds),nanos:ht(i.nanos)}}function ht(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mi(i){return typeof i=="string"?Et.fromBase64String(i):Et.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="server_timestamp",F3="__type__",H3="__previous_value__",G3="__local_write_time__";function ld(i){return(i?.mapValue?.fields||{})[F3]?.stringValue===q3}function ud(i){const e=i.mapValue.fields[H3];return ld(e)?ud(e):e}function oc(i){const e=di(i.mapValue.fields[G3].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,t,r,a,l,c,d,m,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_}}const hp="(default)";class fs{constructor(e,t){this.projectId=e,this.database=t||hp}static empty(){return new fs("","")}get isDefaultDatabase(){return this.database===hp}isEqual(e){return e instanceof fs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__type__",Q3="__max__",ts={mapValue:{fields:{__type__:{stringValue:Q3}}}},a1="__vector__",el="value",Tf={nullValue:"NULL_VALUE"};function ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ld(i)?4:K3(i)?9007199254740991:cd(i)?10:11:me(28295,{value:i})}function Mr(i,e){if(i===e)return!0;const t=ds(i);if(t!==ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return oc(i).isEqual(oc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=di(a.timestampValue),d=di(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return mi(a.bytesValue).isEqual(mi(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return ht(a.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(a.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ht(a.integerValue)===ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ht(a.doubleValue),d=ht(l.doubleValue);return c===d?rc(c)===rc(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Yo(i.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(iv(c)!==iv(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Mr(c[m],d[m])))return!1;return!0})(i,e);default:return me(52216,{left:i})}}function lc(i,e){return(i.values||[]).find((t=>Mr(t,e)))!==void 0}function ms(i,e){if(i===e)return 0;const t=ds(i),r=ds(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ht(l.integerValue||l.doubleValue),m=ht(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(i,e);case 3:return av(i.timestampValue,e.timestampValue);case 4:return av(oc(i),oc(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=mi(l),m=mi(c);return d.compareTo(m)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=Re(d[p],m[p]);if(_!==0)return _}return Re(d.length,m.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Re(ht(l.latitude),ht(c.latitude));return d!==0?d:Re(ht(l.longitude),ht(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return ov(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[el]?.arrayValue,_=m[el]?.arrayValue,b=Re(p?.values?.length||0,_?.values?.length||0);return b!==0?b:ov(p,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ts.mapValue&&c===ts.mapValue)return 0;if(l===ts.mapValue)return 1;if(c===ts.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let b=0;b<m.length&&b<_.length;++b){const w=sp(m[b],_[b]);if(w!==0)return w;const C=ms(d[m[b]],p[_[b]]);if(C!==0)return C}return Re(m.length,_.length)})(i.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function av(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const t=di(i),r=di(e),a=Re(t.seconds,r.seconds);return a!==0?a:Re(t.nanos,r.nanos)}function ov(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ms(t[a],r[a]);if(l)return l}return Re(t.length,r.length)}function tl(i){return fp(i)}function fp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=di(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return mi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return le.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=fp(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${fp(t.fields[c])}`;return a+"}"})(i.mapValue):me(61005,{value:i})}function wf(i){switch(ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(i);return e?16+wf(e):16;case 5:return 2*i.stringValue.length;case 6:return mi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+wf(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return Ts(r.fields,((l,c)=>{a+=l.length+wf(c)})),a})(i.mapValue);default:throw me(13486,{value:i})}}function Ta(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function dp(i){return!!i&&"integerValue"in i}function uc(i){return!!i&&"arrayValue"in i}function lv(i){return!!i&&"nullValue"in i}function uv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Af(i){return!!i&&"mapValue"in i}function cd(i){return(i?.mapValue?.fields||{})[s1]?.stringValue===a1}function Yu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ts(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Yu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yu(i.arrayValue.values[t]);return e}return{...i}}function K3(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Q3}const Y3={mapValue:{fields:{[s1]:{stringValue:a1},[el]:{arrayValue:{}}}}};function b9(i){return"nullValue"in i?Tf:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ta(fs.empty(),le.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?cd(i)?Y3:{mapValue:{}}:me(35942,{value:i})}function T9(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ta(fs.empty(),le.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?Y3:"mapValue"in i?cd(i)?{mapValue:{}}:ts:me(61959,{value:i})}function cv(i,e){const t=ms(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function hv(i,e){const t=ms(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(t)}setAll(e){let t=ft.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Yu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ts(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new tn(Yu(this.value))}}function $3(i){const e=[];return Ts(i.fields,((t,r)=>{const a=new ft([t]);if(Af(r)){const l=$3(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new lt(e,0,ye.min(),ye.min(),ye.min(),tn.empty(),0)}static newFoundDocument(e,t,r,a){return new lt(e,1,t,ye.min(),r,a,0)}static newNoDocument(e,t){return new lt(e,2,t,ye.min(),ye.min(),tn.empty(),0)}static newUnknownDocument(e,t){return new lt(e,3,t,ye.min(),ye.min(),tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t){this.position=e,this.inclusive=t}}function fv(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=le.comparator(le.fromName(c.referenceValue),t.key):r=ms(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function dv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function w9(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X3=class{};class Oe extends X3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new A9(e,t,r):t==="array-contains"?new x9(e,r):t==="in"?new nE(e,r):t==="not-in"?new I9(e,r):t==="array-contains-any"?new C9(e,r):new Oe(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new S9(e,r):new R9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ms(t,this.value)):t!==null&&ds(this.value)===ds(t)&&this.matchesComparison(ms(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xe extends X3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xe(e,t)}matches(e){return nl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nl(i){return i.op==="and"}function mp(i){return i.op==="or"}function o1(i){return Z3(i)&&nl(i)}function Z3(i){for(const e of i.filters)if(e instanceof Xe)return!1;return!0}function gp(i){if(i instanceof Oe)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(o1(i))return i.filters.map((e=>gp(e))).join(",");{const e=i.filters.map((t=>gp(t))).join(",");return`${i.op}(${e})`}}function J3(i,e){return i instanceof Oe?(function(r,a){return a instanceof Oe&&r.op===a.op&&r.field.isEqual(a.field)&&Mr(r.value,a.value)})(i,e):i instanceof Xe?(function(r,a){return a instanceof Xe&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&J3(c,a.filters[d])),!0):!1})(i,e):void me(19439)}function W3(i,e){const t=i.filters.concat(e);return Xe.create(t,i.op)}function eE(i){return i instanceof Oe?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(i):i instanceof Xe?(function(t){return t.op.toString()+" {"+t.getFilters().map(eE).join(" ,")+"}"})(i):"Filter"}class A9 extends Oe{constructor(e,t,r){super(e,t,r),this.key=le.fromName(r.referenceValue)}matches(e){const t=le.comparator(e.key,this.key);return this.matchesComparison(t)}}class S9 extends Oe{constructor(e,t){super(e,"in",t),this.keys=tE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class R9 extends Oe{constructor(e,t){super(e,"not-in",t),this.keys=tE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tE(i,e){return(e.arrayValue?.values||[]).map((t=>le.fromName(t.referenceValue)))}class x9 extends Oe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uc(t)&&lc(t.arrayValue,this.value)}}class nE extends Oe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lc(this.value.arrayValue,t)}}class I9 extends Oe{constructor(e,t){super(e,"not-in",t)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lc(this.value.arrayValue,t)}}class C9 extends Oe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>lc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function pp(i,e=null,t=[],r=[],a=null,l=null,c=null){return new D9(i,e,t,r,a,l,c)}function wa(i){const e=he(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>gp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>tl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>tl(r))).join(",")),e.Te=t}return e.Te}function Sc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!w9(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!J3(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dv(i.startAt,e.startAt)&&dv(i.endAt,e.endAt)}function jf(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function qf(i,e){return i.filters.filter((t=>t instanceof Oe&&t.field.isEqual(e)))}function mv(i,e,t){let r=Tf,a=!0;for(const l of qf(i,e)){let c=Tf,d=!0;switch(l.op){case"<":case"<=":c=b9(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Tf}cv({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];cv({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function gv(i,e,t){let r=ts,a=!0;for(const l of qf(i,e)){let c=ts,d=!0;switch(l.op){case">=":case">":c=T9(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=ts}hv({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];hv({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rE(i,e,t,r,a,l,c,d){return new pi(i,e,t,r,a,l,c,d)}function gl(i){return new pi(i)}function pv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function l1(i){return i.collectionGroup!==null}function jo(i){const e=he(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ze(ft.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cc(l,r))})),t.has(ft.keyField().canonicalString())||e.Ie.push(new cc(ft.keyField(),r))}return e.Ie}function _n(i){const e=he(i);return e.Ee||(e.Ee=V9(e,jo(i))),e.Ee}function V9(i,e){if(i.limitType==="F")return pp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cc(a.field,l)}));const t=i.endAt?new gs(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new gs(i.startAt.position,i.startAt.inclusive):null;return pp(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function yp(i,e){const t=i.filters.concat([e]);return new pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ff(i,e,t){return new pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Rc(i,e){return Sc(_n(i),_n(e))&&i.limitType===e.limitType}function iE(i){return`${wa(_n(i))}|lt:${i.limitType}`}function zo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>eE(a))).join(", ")}]`),wc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>tl(a))).join(",")),`Target(${r})`})(_n(i))}; limitType=${i.limitType})`}function xc(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):le.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of jo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,m){const p=fv(c,d,m);return c.inclusive?p<=0:p<0})(r.startAt,jo(r),a)||r.endAt&&!(function(c,d,m){const p=fv(c,d,m);return c.inclusive?p>=0:p>0})(r.endAt,jo(r),a))})(i,e)}function sE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aE(i){return(e,t)=>{let r=!1;for(const a of jo(i)){const l=N9(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function N9(i,e,t){const r=i.field.isKeyField()?le.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?ms(m,p):me(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return me(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return U3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new ot(le.comparator);function Sn(){return k9}const oE=new ot(le.comparator);function Bu(...i){let e=oE;for(const t of i)e=e.insert(t.key,t);return e}function lE(i){let e=oE;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Cr(){return $u()}function uE(){return $u()}function $u(){return new yi((i=>i.toString()),((i,e)=>i.isEqual(e)))}const M9=new ot(le.comparator),O9=new Ze(le.comparator);function xe(...i){let e=O9;for(const t of i)e=e.add(t);return e}const P9=new Ze(Re);function u1(){return P9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function cE(i){return{integerValue:""+i}}function hE(i,e){return C3(e)?cE(e):c1(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function z9(i,e,t){return i instanceof rl?(function(a,l){const c={fields:{[F3]:{stringValue:q3},[G3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ld(l)&&(l=ud(l)),l&&(c.fields[H3]=l),{mapValue:c}})(t,e):i instanceof Aa?dE(i,e):i instanceof Sa?mE(i,e):(function(a,l){const c=fE(a,l),d=yv(c)+yv(a.Ae);return dp(c)&&dp(a.Ae)?cE(d):c1(a.serializer,d)})(i,e)}function L9(i,e,t){return i instanceof Aa?dE(i,e):i instanceof Sa?mE(i,e):t}function fE(i,e){return i instanceof il?(function(r){return dp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class rl extends hd{}class Aa extends hd{constructor(e){super(),this.elements=e}}function dE(i,e){const t=gE(e);for(const r of i.elements)t.some((a=>Mr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Sa extends hd{constructor(e){super(),this.elements=e}}function mE(i,e){let t=gE(e);for(const r of i.elements)t=t.filter((a=>!Mr(a,r)));return{arrayValue:{values:t}}}class il extends hd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yv(i){return ht(i.integerValue||i.doubleValue)}function gE(i){return uc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.field=e,this.transform=t}}function B9(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof Aa&&a instanceof Aa||r instanceof Sa&&a instanceof Sa?Yo(r.elements,a.elements,Mr):r instanceof il&&a instanceof il?Mr(r.Ae,a.Ae):r instanceof rl&&a instanceof rl})(i.transform,e.transform)}class U9{constructor(e,t){this.version=e,this.transformResults=t}}class dt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class fd{}function pE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new yl(i.key,dt.none()):new pl(i.key,i.data,dt.none());{const t=i.data,r=tn.empty();let a=new Ze(ft.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new _i(i.key,r,new An(a.toArray()),dt.none())}}function j9(i,e,t){i instanceof pl?(function(a,l,c){const d=a.value.clone(),m=vv(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof _i?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=vv(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(yE(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Xu(i,e,t,r){return i instanceof pl?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=l.value.clone(),_=Ev(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(i,e,t,r):i instanceof _i?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const p=Ev(l.fieldTransforms,m,c),_=c.data;return _.setAll(yE(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(i,e,t,r):(function(l,c,d){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function q9(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=fE(r.transform,a||null);l!=null&&(t===null&&(t=tn.empty()),t.set(r.field,l))}return t||null}function _v(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Yo(r,a,((l,c)=>B9(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pl extends fd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _i extends fd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yE(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function vv(i,e,t){const r=new Map;pe(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,L9(c,d,t[a]))}return r}function Ev(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,z9(l,c,e))}return r}class yl extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h1 extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&j9(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uE();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=pE(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(ye.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,r)=>_v(t,r)))&&Yo(this.baseMutations,e.baseMutations,((t,r)=>_v(t,r)))}}class d1{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){pe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return M9})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new d1(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ue;function _E(i){switch(i){case Q.OK:return me(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return me(15467,{code:i})}}function vE(i){if(i===void 0)return At("GRPC error has no .code"),Q.UNKNOWN;switch(i){case Vt.OK:return Q.OK;case Vt.CANCELLED:return Q.CANCELLED;case Vt.UNKNOWN:return Q.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return Q.INTERNAL;case Vt.UNAVAILABLE:return Q.UNAVAILABLE;case Vt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Vt.NOT_FOUND:return Q.NOT_FOUND;case Vt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Vt.ABORTED:return Q.ABORTED;case Vt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Vt.DATA_LOSS:return Q.DATA_LOSS;default:return me(39323,{code:i})}}(Ue=Vt||(Vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new ss([4294967295,4294967295],0);function bv(i){const e=EE().encode(i),t=new f3;return t.update(e),new Uint8Array(t.digest())}function Tv(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ss([t,r],0),new ss([a,l],0)]}class g1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(r<0)throw new Uu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ss.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ss.fromNumber(r)));return a.compare(H9)===1&&(a=new ss([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bv(e),[r,a]=Tv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new g1(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=bv(e),[r,a]=Tv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cc(ye.min(),a,new ot(Re),Sn(),xe())}}class Dc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Dc(r,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class bE{constructor(e,t){this.targetId=e,this.Ce=t}}class TE{constructor(e,t,r=Et.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class wv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),t=xe(),r=xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:me(38017,{changeType:l})}})),new Dc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Av()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sn(),this.Je=hf(),this.He=hf(),this.Ye=new ot(Re)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(jf(l))if(r===0){const c=new le(l.path);this.et(t,c,lt.newNoDocument(c,ye.min()))}else pe(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=mi(r).toUint8Array()}catch(m){if(m instanceof j3)return kr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new g1(c,a,l)}catch(m){return kr(m instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jf(d.target)){const m=new le(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,lt.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=xe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Cc(e,t,this.Ye,this.je,r);return this.je=Sn(),this.Je=hf(),this.He=hf(),this.Ye=new ot(Re),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new wv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ze(Re),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ze(Re),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hf(){return new ot(le.comparator)}function Av(){return new ot(le.comparator)}const Q9={asc:"ASCENDING",desc:"DESCENDING"},K9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y9={and:"AND",or:"OR"};class $9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(i,e){return i.useProto3Json||wc(e)?e:{value:e}}function sl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function X9(i,e){return sl(i,e.toTimestamp())}function St(i){return pe(!!i,49232),ye.fromTimestamp((function(t){const r=di(t);return new Qe(r.seconds,r.nanos)})(i))}function p1(i,e){return vp(i,e).canonicalString()}function vp(i,e){const t=(function(a){return new Me(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function AE(i){const e=Me.fromString(i);return pe(ME(e),10190,{key:e.toString()}),e}function hc(i,e){return p1(i.databaseId,e.path)}function Vr(i,e){const t=AE(e);if(t.get(1)!==i.databaseId.projectId)throw new te(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new te(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new le(xE(t))}function SE(i,e){return p1(i.databaseId,e)}function RE(i){const e=AE(i);return e.length===4?Me.emptyPath():xE(e)}function Ep(i){return new Me(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xE(i){return pe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Sv(i,e,t){return{name:hc(i,e),fields:t.value.mapValue.fields}}function IE(i,e,t){const r=Vr(i,e.name),a=St(e.updateTime),l=e.createTime?St(e.createTime):ye.min(),c=new tn({mapValue:{fields:e.fields}}),d=lt.newFoundDocument(r,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Z9(i,e){return"found"in e?(function(r,a){pe(!!a.found,43571),a.found.name,a.found.updateTime;const l=Vr(r,a.found.name),c=St(a.found.updateTime),d=a.found.createTime?St(a.found.createTime):ye.min(),m=new tn({mapValue:{fields:a.found.fields}});return lt.newFoundDocument(l,c,d,m)})(i,e):"missing"in e?(function(r,a){pe(!!a.missing,3894),pe(!!a.readTime,22933);const l=Vr(r,a.missing),c=St(a.readTime);return lt.newNoDocument(l,c)})(i,e):me(7234,{result:e})}function J9(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:me(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(pe(_===void 0||typeof _=="string",58123),Et.fromBase64String(_||"")):(pe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Et.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const _=p.code===void 0?Q.UNKNOWN:vE(p.code);return new te(_,p.message||"")})(c);t=new TE(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vr(i,r.document.name),l=St(r.document.updateTime),c=r.document.createTime?St(r.document.createTime):ye.min(),d=new tn({mapValue:{fields:r.document.fields}}),m=lt.newFoundDocument(a,l,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];t=new Rf(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vr(i,r.document),l=r.readTime?St(r.readTime):ye.min(),c=lt.newNoDocument(a,l),d=r.removedTargetIds||[];t=new Rf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vr(i,r.document),l=r.removedTargetIds||[];t=new Rf([],l,a,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new F9(a,l),d=r.targetId;t=new bE(d,c)}}return t}function fc(i,e){let t;if(e instanceof pl)t={update:Sv(i,e.key,e.value)};else if(e instanceof yl)t={delete:hc(i,e.key)};else if(e instanceof _i)t={update:Sv(i,e.key,e.data),updateMask:i7(e.fieldMask)};else{if(!(e instanceof h1))return me(16599,{Vt:e.type});t={verify:hc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof rl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Aa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sa)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof il)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw me(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:X9(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:me(27497)})(i,e.precondition)),t}function bp(i,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?dt.updateTime(St(l.updateTime)):l.exists!==void 0?dt.exists(l.exists):dt.none()})(e.currentDocument):dt.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let m=null;if("setToServerValue"in d)pe(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new rl;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new Aa(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new Sa(_)}else"increment"in d?m=new il(c,d.increment):me(16584,{proto:d});const p=ft.fromServerFormat(d.fieldPath);return new Ic(p,m)})(i,a))):[];if(e.update){e.update.name;const a=Vr(i,e.update.name),l=new tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(m){const p=m.fieldPaths||[];return new An(p.map((_=>ft.fromServerFormat(_))))})(e.updateMask);return new _i(a,l,c,t,r)}return new pl(a,l,t,r)}if(e.delete){const a=Vr(i,e.delete);return new yl(a,t)}if(e.verify){const a=Vr(i,e.verify);return new h1(a,t)}return me(1463,{proto:e})}function W9(i,e){return i&&i.length>0?(pe(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?St(a.updateTime):St(l);return c.isEqual(ye.min())&&(c=St(l)),new U9(c,a.transformResults||[])})(t,e)))):[]}function CE(i,e){return{documents:[SE(i,e.path)]}}function DE(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SE(i,a);const l=(function(p){if(p.length!==0)return kE(Xe.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(w){return{field:Lo(w.field),direction:t7(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=_p(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function VE(i){let e=RE(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){pe(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(b){const w=NE(b);return w instanceof Xe&&o1(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((w=>(function(U){return new cc(Bo(U.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(b){let w;return w=typeof b=="object"?b.value:b,wc(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(b){const w=!!b.before,C=b.values||[];return new gs(C,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(b){const w=!b.before,C=b.values||[];return new gs(C,w)})(t.endAt)),rE(e,a,c,l,d,"F",m,p)}function e7(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NE(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bo(t.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(t.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Bo(t.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Oe.create(Bo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Xe.create(t.compositeFilter.filters.map((r=>NE(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(i):me(30097,{filter:i})}function t7(i){return Q9[i]}function n7(i){return K9[i]}function r7(i){return Y9[i]}function Lo(i){return{fieldPath:i.canonicalString()}}function Bo(i){return ft.fromServerFormat(i.fieldPath)}function kE(i){return i instanceof Oe?(function(t){if(t.op==="=="){if(uv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(lv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(lv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:n7(t.op),value:t.value}}})(i):i instanceof Xe?(function(t){const r=t.getFilters().map((a=>kE(a)));return r.length===1?r[0]:{compositeFilter:{op:r7(t.op),filters:r}}})(i):me(54877,{filter:i})}function i7(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ME(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t,r,a,l=ye.min(),c=ye.min(),d=Et.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.yt=e}}function s7(i,e){let t;if(e.document)t=IE(i.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=le.fromSegments(e.noDocument.path),a=xa(e.noDocument.readTime);t=lt.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me(56709);{const r=le.fromSegments(e.unknownDocument.path),a=xa(e.unknownDocument.version);t=lt.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const l=new Qe(a[0],a[1]);return ye.fromTimestamp(l)})(e.readTime)),t}function Rv(i,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:hc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:sl(l,c.version.toTimestamp()),createTime:sl(l,c.createTime.toTimestamp())}})(i.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ra(e.version)};else{if(!e.isUnknownDocument())return me(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Ra(e.version)}}return r}function Hf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ra(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xa(i){const e=new Qe(i.seconds,i.nanoseconds);return ye.fromTimestamp(e)}function da(i,e){const t=(e.baseMutations||[]).map((l=>bp(i.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>bp(i.yt,l))),a=Qe.fromMillis(e.localWriteTimeMs);return new f1(e.batchId,a,t,r)}function ju(i){const e=xa(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?xa(i.lastLimboFreeSnapshotVersion):ye.min();let r;return r=(function(l){return l.documents!==void 0})(i.query)?(function(l){const c=l.documents.length;return pe(c===1,1966,{count:c}),_n(gl(RE(l.documents[0])))})(i.query):(function(l){return _n(VE(l))})(i.query),new li(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Et.fromBase64String(i.resumeToken))}function PE(i,e){const t=Ra(e.snapshotVersion),r=Ra(e.lastLimboFreeSnapshotVersion);let a;a=jf(e.target)?CE(i.yt,e.target):DE(i.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wa(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function y1(i){const e=VE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ff(e,e.limit,"L"):e}function Fg(i,e){return new m1(e.largestBatchId,bp(i.yt,e.overlayMutation))}function xv(i,e){const t=e.path.lastSegment();return[i,cn(e.path.popLast()),t]}function Iv(i,e,t,r){return{indexId:i,uid:e,sequenceNumber:t,readTime:Ra(r.readTime),documentKey:cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{getBundleMetadata(e,t){return Cv(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:xa(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return Cv(e).put((function(a){return{bundleId:a.id,createTime:Ra(St(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Dv(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:y1(l.bundledQuery),readTime:xa(l.readTime)}})(r)}))}saveNamedQuery(e,t){return Dv(e).put((function(a){return{name:a.name,readTime:Ra(St(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Cv(i){return Bt(i,sd)}function Dv(i){return Bt(i,ad)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new dd(e,r)}getOverlay(e,t){return ku(e).get(xv(this.userId,t)).next((r=>r?Fg(this.serializer,r):null))}getOverlays(e,t){const r=Cr();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((l,c)=>{const d=new m1(t,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(cn(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(ku(e).Z(up,d))})),B.waitFor(l)}getOverlaysForCollection(e,t,r){const a=Cr(),l=cn(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return ku(e).J(up,c).next((d=>{for(const m of d){const p=Fg(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const l=Cr();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ku(e).ee({index:O3,range:d},((m,p,_)=>{const b=Fg(this.serializer,p);l.size()<a||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):_.done()})).next((()=>l))}St(e,t){return ku(e).put((function(a,l,c){const[d,m,p]=xv(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:fc(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function ku(i){return Bt(i,od)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{bt(e){return Bt(e,r1)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Et.fromUint8Array(r):Et.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),rc(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=di(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(mi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?K3(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):cd(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):me(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=el,l=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ht(l)),this.Ot(a,t),this.Ct(r[a],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),le.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ma.Kt=new ma;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=255;function l7(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function Vv(i){const e=64-(function(r){let a=0;for(let l=0;l<8;++l){const c=l7(255&r[l]);if(a+=c,c!==8)break}return a})(i);return Math.ceil(e/8)}class u7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),r=Vv(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=Vv(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(No),this.sn(255)}_n(){this.an(No),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===No?(this.sn(No),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===No?(this.an(No),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class c7{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class h7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Mu{constructor(){this.cn=new u7,this.ln=new c7(this.cn),this.hn=new h7(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,r,a){this.Tn=e,this.In=t,this.En=r,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new ga(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:xf(this.En),directionalValue:xf(this.dn),orderedDocumentKey:xf(t),documentKey:r.path.toArray()}}Vn(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function $i(i,e){let t=i.Tn-e.Tn;return t!==0?t:(t=Nv(i.En,e.En),t!==0?t:(t=Nv(i.dn,e.dn),t!==0?t:le.comparator(i.In,e.In)))}function Nv(i,e){for(let t=0;t<i.length&&t<e.length;++t){const r=i[t]-e[t];if(r!==0)return r}return i.length-e.length}function xf(i){return X4()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(i):i}function kv(i){return typeof i!="string"?i:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(i)}class Mv{constructor(e){this.mn=new Ze(((t,r)=>ft.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(pe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=ap(e);if(t!==void 0&&!this.wn(t))return!1;const r=ca(e);let a=new Set,l=0,c=0;for(;l<r.length&&this.wn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=r[l];if(!this.Sn(d,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ze(ft.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new vf(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new vf(r.field,r.dir==="asc"?0:1)));return new zf(zf.UNKNOWN_ID,this.collectionId,t,nc.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){if(pe(i instanceof Oe||i instanceof Xe,20012),i instanceof Oe){if(i instanceof nE){const t=i.value.arrayValue?.values?.map((r=>Oe.create(i.field,"==",r)))||[];return Xe.create(t,"or")}return i}const e=i.filters.map((t=>zE(t)));return Xe.create(e,i.op)}function f7(i){if(i.getFilters().length===0)return[];const e=Ap(zE(i));return pe(LE(e),7391),Tp(e)||wp(e)?[e]:e.getFilters()}function Tp(i){return i instanceof Oe}function wp(i){return i instanceof Xe&&o1(i)}function LE(i){return Tp(i)||wp(i)||(function(t){if(t instanceof Xe&&mp(t)){for(const r of t.getFilters())if(!Tp(r)&&!wp(r))return!1;return!0}return!1})(i)}function Ap(i){if(pe(i instanceof Oe||i instanceof Xe,34018),i instanceof Oe)return i;if(i.filters.length===1)return Ap(i.filters[0]);const e=i.filters.map((r=>Ap(r)));let t=Xe.create(e,i.op);return t=Gf(t),LE(t)?t:(pe(t instanceof Xe,64498),pe(nl(t),40251),pe(t.filters.length>1,57927),t.filters.reduce(((r,a)=>_1(r,a))))}function _1(i,e){let t;return pe(i instanceof Oe||i instanceof Xe,38388),pe(e instanceof Oe||e instanceof Xe,25473),t=i instanceof Oe?e instanceof Oe?(function(a,l){return Xe.create([a,l],"and")})(i,e):Ov(i,e):e instanceof Oe?Ov(e,i):(function(a,l){if(pe(a.filters.length>0&&l.filters.length>0,48005),nl(a)&&nl(l))return W3(a,l.getFilters());const c=mp(a)?a:l,d=mp(a)?l:a,m=c.filters.map((p=>_1(p,d)));return Xe.create(m,"or")})(i,e),Gf(t)}function Ov(i,e){if(nl(e))return W3(e,i.getFilters());{const t=e.filters.map((r=>_1(i,r)));return Xe.create(t,"or")}}function Gf(i){if(pe(i instanceof Oe||i instanceof Xe,11850),i instanceof Oe)return i;const e=i.getFilters();if(e.length===1)return Gf(e[0]);if(Z3(i))return i;const t=e.map((a=>Gf(a))),r=[];return t.forEach((a=>{a instanceof Oe?r.push(a):a instanceof Xe&&(a.op===i.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:Xe.create(r,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.Cn=new v1}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(zn.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class v1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ze(Me.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ze(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="IndexedDbIndexManager",ff=new Uint8Array(0);class m7{constructor(e,t){this.databaseId=t,this.vn=new v1,this.Fn=new yi((r=>wa(r)),((r,a)=>Sc(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:r,parent:cn(a)};return zv(e).put(l)}return B.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[E3(t),""],!1,!0);return zv(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Ir(c.parent))}return r}))}addFieldIndex(e,t){const r=Ou(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(t);delete a.indexId;const l=r.add(a);if(t.indexState){const c=Mo(e);return l.next((d=>{c.put(Iv(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=Ou(e),a=Mo(e),l=ko(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Ou(e),r=ko(e),a=Mo(e);return t.Z().next((()=>r.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return B.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const l=new Mv(r).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=ko(e);let a=!0;const l=new Map;return B.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=xe();const d=[];return B.forEach(l,((m,p)=>{ie(Pv,`Using index ${(function(ne){return`id=${ne.indexId}|cg=${ne.collectionGroup}|f=${ne.fields.map((fe=>`${fe.fieldPath}:${fe.kind}`)).join(",")}`})(m)} to execute ${wa(t)}`);const _=(function(ne,fe){const ue=ap(fe);if(ue===void 0)return null;for(const _e of qf(ne,ue.fieldPath))switch(_e.op){case"array-contains-any":return _e.value.arrayValue.values||[];case"array-contains":return[_e.value]}return null})(p,m),b=(function(ne,fe){const ue=new Map;for(const _e of ca(fe))for(const D of qf(ne,_e.fieldPath))switch(D.op){case"==":case"in":ue.set(_e.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return ue.set(_e.fieldPath.canonicalString(),D.value),Array.from(ue.values())}return null})(p,m),w=(function(ne,fe){const ue=[];let _e=!0;for(const D of ca(fe)){const S=D.kind===0?mv(ne,D.fieldPath,ne.startAt):gv(ne,D.fieldPath,ne.startAt);ue.push(S.value),_e&&(_e=S.inclusive)}return new gs(ue,_e)})(p,m),C=(function(ne,fe){const ue=[];let _e=!0;for(const D of ca(fe)){const S=D.kind===0?gv(ne,D.fieldPath,ne.endAt):mv(ne,D.fieldPath,ne.endAt);ue.push(S.value),_e&&(_e=S.inclusive)}return new gs(ue,_e)})(p,m),U=this.On(m,p,w),K=this.On(m,p,C),j=this.Nn(m,p,b),se=this.Bn(m.indexId,_,U,w.inclusive,K,C.inclusive,j);return B.forEach(se,(W=>r.Y(W,t.limit).next((ne=>{ne.forEach((fe=>{const ue=le.fromSegments(fe.documentKey);c.has(ue)||(c=c.add(ue),d.push(ue))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=f7(Xe.create(e.filters,"and")).map((r=>pp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(r.length,l.length),p=m/(t!=null?t.length:1),_=[];for(let b=0;b<m;++b){const w=t?this.Ln(t[b/p]):ff,C=this.kn(e,w,r[b%p],a),U=this.qn(e,w,l[b%p],c),K=d.map((j=>this.kn(e,w,j,!0)));_.push(...this.createRange(C,U,K))}return _}kn(e,t,r,a){const l=new ga(e,le.empty(),t,r);return a?l:l.An()}qn(e,t,r,a){const l=new ga(e,le.empty(),t,r);return a?l.An():l}xn(e,t){const r=new Mv(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)r.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let r=2;const a=this.Mn(t);return B.forEach(a,(l=>this.xn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(m){let p=new Ze(ft.comparator),_=!1;for(const b of m.filters)for(const w of b.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:p=p.add(w.field));for(const b of m.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}Qn(e,t){const r=new Mu;for(const a of ca(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=r.Pn(a.kind);ma.Kt.Dt(l,c)}return r.un()}Ln(e){const t=new Mu;return ma.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new Mu;return ma.Kt.Dt(Ta(this.databaseId,t),r.Pn((function(l){const c=ca(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let a=[];a.push(new Mu);let l=0;for(const c of ca(e)){const d=r[l++];for(const m of a)if(this.Un(t,c.fieldPath)&&uc(d))a=this.Kn(a,c,d);else{const p=m.Pn(c.kind);ma.Kt.Dt(d,p)}}return this.Wn(a)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const a=[...e],l=[];for(const c of r.arrayValue.values||[])for(const d of a){const m=new Mu;m.seed(d.un()),ma.Kt.Dt(c,m.Pn(t.kind)),l.push(m)}return l}Un(e,t){return!!e.filters.find((r=>r instanceof Oe&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Ou(e),a=Mo(e);return(t?r.J(lp,IDBKeyRange.bound(t,t)):r.J()).next((l=>{const c=[];return B.forEach(l,(d=>a.get([d.indexId,this.uid]).next((m=>{c.push((function(_,b){const w=b?new nc(b.sequenceNumber,new zn(xa(b.readTime),new le(Ir(b.documentKey)),b.largestBatchId)):nc.empty(),C=_.fields.map((([U,K])=>new vf(ft.fromServerFormat(U),K)));return new zf(_.indexId,_.collectionGroup,C,w)})(d,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Re(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=Ou(e),l=Mo(e);return this.Gn(e).next((c=>a.J(lp,IDBKeyRange.bound(t,t)).next((d=>B.forEach(d,(m=>l.put(Iv(m.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return B.forEach(t,((a,l)=>{const c=r.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),B.forEach(d,(m=>this.zn(e,a,m).next((p=>{const _=this.jn(l,m);return p.isEqual(_)?B.resolve():this.Jn(e,l,m,p,_)})))))))}))}Hn(e,t,r,a){return ko(e).put(a.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,a){return ko(e).delete(a.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const a=ko(e);let l=new Ze($i);return a.ee({index:M3,range:IDBKeyRange.only([r.indexId,this.uid,xf(this.$n(r,t))])},((c,d)=>{l=l.add(new ga(r.indexId,t,kv(d.arrayValue),kv(d.directionalValue)))})).next((()=>l))}jn(e,t){let r=new Ze($i);const a=this.Qn(t,e);if(a==null)return r;const l=ap(t);if(l!=null){const c=e.data.field(l.fieldPath);if(uc(c))for(const d of c.arrayValue.values||[])r=r.add(new ga(t.indexId,e.key,this.Ln(d),a))}else r=r.add(new ga(t.indexId,e.key,ff,a));return r}Jn(e,t,r,a,l){ie(Pv,"Updating index entries for document '%s'",t.key);const c=[];return(function(m,p,_,b,w){const C=m.getIterator(),U=p.getIterator();let K=Vo(C),j=Vo(U);for(;K||j;){let se=!1,W=!1;if(K&&j){const ne=_(K,j);ne<0?W=!0:ne>0&&(se=!0)}else K!=null?W=!0:se=!0;se?(b(j),j=Vo(U)):W?(w(K),K=Vo(C)):(K=Vo(C),j=Vo(U))}})(a,l,$i,(d=>{c.push(this.Hn(e,t,r,d))}),(d=>{c.push(this.Yn(e,t,r,d))})),B.waitFor(c)}Gn(e){let t=1;return Mo(e).ee({index:k3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,d)=>$i(c,d))).filter(((c,d,m)=>!d||$i(c,m[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=$i(c,e),m=$i(c,t);if(d===0)a[0]=e.An();else if(d>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,ff,le.empty()),m=a[c+1].Vn(this.uid,ff,le.empty());l.push(IDBKeyRange.bound(d,m))}return l}Zn(e,t){return $i(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Lv)}getMinOffset(e,t){return B.mapArray(this.Mn(t),(r=>this.xn(e,r).next((a=>a||me(44426))))).next(Lv)}}function zv(i){return Bt(i,ac)}function ko(i){return Bt(i,Ku)}function Ou(i){return Bt(i,n1)}function Mo(i){return Bt(i,Qu)}function Lv(i){pe(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<i.length;r++){const a=i[r].indexState.offset;Wp(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new zn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i,e,t){const r=i.store(sr),a=i.store(Xo),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=r.ee({range:c},((_,b,w)=>(d++,w.delete())));l.push(m.next((()=>{pe(d===1,47070,{batchId:t.batchId})})));const p=[];for(const _ of t.mutations){const b=D3(e,_.key.path,t.batchId);l.push(a.delete(b)),p.push(_.key)}return B.waitFor(l).next((()=>p))}function Qf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw me(14731);e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(BE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class md{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Xn={}}static wt(e,t,r,a){pe(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new md(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xi(e).ee({index:ya,range:r},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const l=Uo(e),c=Xi(e);return c.add({}).next((d=>{pe(typeof d=="number",49019);const m=new f1(d,t,r,a),p=(function(C,U,K){const j=K.baseMutations.map((W=>fc(C.yt,W))),se=K.mutations.map((W=>fc(C.yt,W)));return{userId:U,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:j,mutations:se}})(this.serializer,this.userId,m),_=[];let b=new Ze(((w,C)=>Re(w.canonicalString(),C.canonicalString())));for(const w of a){const C=D3(this.userId,w.key.path,d);b=b.add(w.key.path.popLast()),_.push(c.put(p)),_.push(l.put(C,YS))}return b.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[d]=m.keys()})),B.waitFor(_).next((()=>m))}))}lookupMutationBatch(e,t){return Xi(e).get(t).next((r=>r?(pe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),da(this.serializer,r)):null))}er(e,t){return this.Xn[t]?B.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Xi(e).ee({index:ya,range:a},((c,d,m)=>{d.userId===this.userId&&(pe(d.batchId>=r,47524,{tr:r}),l=da(this.serializer,d)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=as;return Xi(e).ee({index:ya,range:t,reverse:!0},((a,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,as],[this.userId,Number.POSITIVE_INFINITY]);return Xi(e).J(ya,t).next((r=>r.map((a=>da(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ef(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Uo(e).ee({range:a},((c,d,m)=>{const[p,_,b]=c,w=Ir(_);if(p===this.userId&&t.path.isEqual(w))return Xi(e).get(b).next((C=>{if(!C)throw me(61480,{nr:c,batchId:b});pe(C.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:C.userId,batchId:b}),l.push(da(this.serializer,C))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Re);const a=[];return t.forEach((l=>{const c=Ef(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=Uo(e).ee({range:d},((p,_,b)=>{const[w,C,U]=p,K=Ir(C);w===this.userId&&l.path.isEqual(K)?r=r.add(U):b.done()}));a.push(m)})),B.waitFor(a).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Ef(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new Ze(Re);return Uo(e).ee({range:c},((m,p,_)=>{const[b,w,C]=m,U=Ir(w);b===this.userId&&r.isPrefixOf(U)?U.length===a&&(d=d.add(C)):_.done()})).next((()=>this.rr(e,d)))}rr(e,t){const r=[],a=[];return t.forEach((l=>{a.push(Xi(e).get(l).next((c=>{if(c===null)throw me(35274,{batchId:l});pe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(da(this.serializer,c))})))})),B.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return UE(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),B.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return B.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Uo(e).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const m=Ir(l[1]);a.push(m)}else d.done()})).next((()=>{pe(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return jE(e,this.userId,t)}_r(e){return qE(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:as,lastStreamToken:""}))}}function jE(i,e,t){const r=Ef(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return Uo(i).ee({range:l,X:!0},((d,m,p)=>{const[_,b,w]=d;_===e&&b===a&&(c=!0),p.done()})).next((()=>c))}function Xi(i){return Bt(i,sr)}function Uo(i){return Bt(i,Xo)}function qE(i){return Bt(i,ic)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ia(0)}static cr(){return new Ia(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Ia(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>ye.fromTimestamp(new Qe(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Oo(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(pe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let a=0;const l=[];return Oo(e).ee(((c,d)=>{const m=ju(d);m.sequenceNumber<=t&&r.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))})).next((()=>B.waitFor(l))).next((()=>a))}forEachTarget(e,t){return Oo(e).ee(((r,a)=>{const l=ju(a);t(l)}))}lr(e){return Uv(e).get(Uf).next((t=>(pe(t!==null,2888),t)))}hr(e,t){return Uv(e).put(Uf,t)}Pr(e,t){return Oo(e).put(PE(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=wa(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Oo(e).ee({range:a,index:N3},((c,d,m)=>{const p=ju(d);Sc(t,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(e,t,r){const a=[],l=es(e);return t.forEach((c=>{const d=cn(c.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),B.waitFor(a)}removeMatchingKeys(e,t,r){const a=es(e);return B.forEach(t,(l=>{const c=cn(l.path);return B.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=es(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=es(e);let l=xe();return a.ee({range:r,X:!0},((c,d,m)=>{const p=Ir(c[1]),_=new le(p);l=l.add(_)})).next((()=>l))}containsKey(e,t){const r=cn(t.path),a=IDBKeyRange.bound([r],[E3(r)],!1,!0);let l=0;return es(e).ee({index:t1,X:!0,range:a},(([c,d],m,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(e,t){return Oo(e).get(t).next((r=>r?ju(r):null))}}function Oo(i){return Bt(i,Zo)}function Uv(i){return Bt(i,Ea)}function es(i){return Bt(i,Jo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",p7=1048576;function qv([i,e],[t,r]){const a=Re(i,t);return a===0?Re(e,r):a}class y7{constructor(e){this.Ir=e,this.buffer=new Ze(qv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(jv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bs(t)?ie(jv,"Ignoring IndexedDB error during garbage collection: ",t):await Es(t)}await this.Vr(3e5)}))}}class _7{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(wn.ce);const r=new y7(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Bv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(r=b,d=Date.now(),this.removeTargets(e,r,t)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(p=Date.now(),Po()<=Pe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function HE(i,e){return new _7(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,t){this.db=e,this.garbageCollector=HE(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,a)=>t(a)))}addReference(e,t,r){return df(e,r)}removeReference(e,t,r){return df(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return df(e,t)}br(e,t){return(function(a,l){let c=!1;return qE(a).te((d=>jE(a,d,l).next((m=>(m&&(c=!0),B.resolve(!m)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const m=this.br(e,c).next((p=>{if(!p)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,ye.min()),es(e).delete((function(b){return[0,cn(b.path)]})(c)))))}));a.push(m)}})).next((()=>B.waitFor(a))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return df(e,t)}Sr(e,t){const r=es(e);let a,l=wn.ce;return r.ee({index:t1},(([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==wn.ce&&t(new le(Ir(a)),l),l=p,a=m):l=wn.ce})).next((()=>{l!==wn.ce&&t(new le(Ir(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function df(i,e){return es(i).put((function(r,a){return{targetId:0,path:cn(r.path),sequenceNumber:a}})(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.changes=new yi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return la(e).put(r)}removeEntry(e,t,r){return la(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Hf(c),d[d.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=lt.newInvalidDocument(t);return la(e).ee({index:bf,range:IDBKeyRange.only(Pu(t))},((a,l)=>{r=this.Cr(t,l)})).next((()=>r))}vr(e,t){let r={size:0,document:lt.newInvalidDocument(t)};return la(e).ee({index:bf,range:IDBKeyRange.only(Pu(t))},((a,l)=>{r={document:this.Cr(t,l),size:Qf(l)}})).next((()=>r))}getEntries(e,t){let r=Sn();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);r=r.insert(a,c)})).next((()=>r))}Mr(e,t){let r=Sn(),a=new ot(le.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);r=r.insert(l,d),a=a.insert(l,Qf(c))})).next((()=>({documents:r,Or:a})))}Fr(e,t,r){if(t.isEmpty())return B.resolve();let a=new Ze(Gv);t.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(Pu(a.first()),Pu(a.last())),c=a.getIterator();let d=c.getNext();return la(e).ee({index:bf,range:l},((m,p,_)=>{const b=le.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&Gv(d,b)<0;)r(d,null),d=c.getNext();d&&d.isEqual(b)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?_.j(Pu(d)):_.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Hf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return la(e).J(IDBKeyRange.bound(d,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let _=Sn();for(const b of p){const w=this.Cr(le.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);w.isFoundDocument()&&(xc(t,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(e,t,r,a){let l=Sn();const c=Hv(t,r),d=Hv(t,zn.max());return la(e).ee({index:V3,range:IDBKeyRange.bound(c,d,!0)},((m,p,_)=>{const b=this.Cr(le.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(b.key,b),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new b7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Fv(e).get(op).next((t=>(pe(!!t,20021),t)))}Dr(e,t){return Fv(e).put(op,t)}Cr(e,t){if(t){const r=s7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(ye.min())))return r}return lt.newInvalidDocument(e)}}function QE(i){return new E7(i)}class b7 extends GE{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new yi((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new Ze(((l,c)=>Re(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=Rv(this.Nr.serializer,c);a=a.add(l.path.popLast());const p=Qf(m);r+=p-d.size,t.push(this.Nr.addEntry(e,l,m))}else if(r-=d.size,this.trackRemovals){const m=Rv(this.Nr.serializer,c.convertToNoDocument(ye.min()));t.push(this.Nr.addEntry(e,l,m))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,r)),B.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function Fv(i){return Bt(i,sc)}function la(i){return Bt(i,Bf)}function Pu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hv(i,e){const t=e.documentKey.path.toArray();return[i,Hf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gv(i,e){const t=i.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=Re(t[l],r[l]),a)return a;return a=Re(t.length,r.length),a||(a=Re(t[t.length-2],r[r.length-2]),a||Re(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Xu(r.mutation,a,An.empty(),Qe.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,xe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=xe()){const a=Cr();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Bu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Cr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,xe())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=Sn();const c=$u(),d=(function(){return $u()})();return t.forEach(((m,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof _i)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Xu(_.mutation,p,_.mutation.getFieldMask(),Qe.now())):c.set(p.key,An.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,_)=>c.set(p,_))),t.forEach(((p,_)=>d.set(p,new T7(_,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=$u();let a=new ot(((c,d)=>c-d)),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let _=r.get(m)||An.empty();_=d.applyToLocalView(p,_),r.set(m,_);const b=(a.get(d.batchId)||xe()).add(m);a=a.insert(d.batchId,b)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,b=uE();_.forEach((w=>{if(!l.has(w)){const C=pE(t.get(w),r.get(w));C!==null&&b.set(w,C),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return B.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return le.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):B.resolve(Cr());let d=$o,m=l;return c.next((p=>B.forEach(p,((_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,xe()))).next((_=>({batchId:d,changes:lE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new le(t)).next((r=>{let a=Bu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Bu();return this.indexManager.getCollectionParents(e,l).next((d=>B.forEach(d,(m=>{const p=(function(b,w){return new pi(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((_=>{_.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,lt.newInvalidDocument(_)))}));let d=Bu();return c.forEach(((m,p)=>{const _=l.get(m);_!==void 0&&Xu(_.mutation,p,An.empty(),Qe.now()),xc(t,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:St(a.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:y1(a.bundledQuery),readTime:St(a.readTime)}})(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.overlays=new ot(le.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cr();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),B.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){const a=Cr(),l=t.length+1,c=new le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return B.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ot(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=Cr(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Cr(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=a)););return B.resolve(d)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new m1(t,r));let l=this.qr.get(t);l===void 0&&(l=xe(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.Qr=new Ze(Qt.$r),this.Ur=new Ze(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Qt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new le(new Me([])),r=new Qt(t,e),a=new Qt(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new le(new Me([])),r=new Qt(t,e),a=new Qt(t,e+1);let l=xe();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Qt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return le.comparator(e.key,t.key)||Re(e.Yr,t.Yr)}static Kr(e,t){return Re(e.Yr,t.Yr)||le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(Qt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new f1(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Qt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?as:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),a=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(Re);return t.forEach((a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;le.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new le(l),0);let d=new Ze(Re);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){pe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(t.mutations,(a=>{const l=new Qt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Qt(t,0),a=this.Zr.firstAfterOrEqual(r);return B.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.ri=e,this.docs=(function(){return new ot(le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(t))}getEntries(e,t){let r=Sn();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():lt.newInvalidDocument(a))})),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Sn();const c=t.path,d=new le(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Wp(S3(_),r)<=0||(a.has(_.key)||xc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(e,t,r,a){me(9500)}ii(e,t){return B.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new I7(this)}getSize(e){return B.resolve(this.size)}}class I7 extends GE{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.persistence=e,this.si=new yi((t=>wa(t)),Sc),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new E1,this.targetCount=0,this.ai=Ia.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ia(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(l).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,t){this.ui={},this.overlays={},this.ci=new wn(0),this.li=!1,this.li=!0,this.hi=new S7,this.referenceDelegate=e(this),this.Pi=new C7(this),this.indexManager=new d7,this.remoteDocumentCache=(function(a){return new x7(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new OE(t),this.Ii=new w7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new R7(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ie("MemoryPersistence","Starting transaction:",e);const a=new D7(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return B.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class D7 extends x3{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Ri=new E1,this.Vi=null}static mi(e){return new gd(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(r=>{const a=le.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ye.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.pi=new yi((r=>cn(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=HE(this,t)}static mi(e,t){return new Kf(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return B.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?B.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,l.removeEntry(c,ye.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}br(e,t,r){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return B.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.serializer=e}k(e,t,r,a){const l=new id("createOrUpgrade",t);r<1&&a>=1&&((function(m){m.createObjectStore(Ac)})(e),(function(m){m.createObjectStore(ic,{keyPath:KS}),m.createObjectStore(sr,{keyPath:nv,autoIncrement:!0}).createIndex(ya,rv,{unique:!0}),m.createObjectStore(Xo)})(e),Qv(e),(function(m){m.createObjectStore(ha)})(e));let c=B.resolve();return r<3&&a>=3&&(r!==0&&((function(m){m.deleteObjectStore(Jo),m.deleteObjectStore(Zo),m.deleteObjectStore(Ea)})(e),Qv(e)),c=c.next((()=>(function(m){const p=m.store(Ea),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ye.min().toTimestamp(),targetCount:0};return p.put(Uf,_)})(l)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(m,p){return p.store(sr).J().next((b=>{m.deleteObjectStore(sr),m.createObjectStore(sr,{keyPath:nv,autoIncrement:!0}).createIndex(ya,rv,{unique:!0});const w=p.store(sr),C=b.map((U=>w.put(U)));return B.waitFor(C)}))})(e,l)))),c=c.next((()=>{(function(m){m.createObjectStore(Wo,{keyPath:n9})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.yi(l)))),r<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(sc)})(e),this.wi(l))))),r<7&&a>=7&&(c=c.next((()=>this.Si(l)))),r<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),r<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.Di(l)))),r<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(sd,{keyPath:r9})})(e),(function(m){m.createObjectStore(ad,{keyPath:i9})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(m){const p=m.createObjectStore(od,{keyPath:h9});p.createIndex(up,f9,{unique:!1}),p.createIndex(O3,d9,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(m){const p=m.createObjectStore(Bf,{keyPath:$S});p.createIndex(bf,XS),p.createIndex(V3,ZS)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore(ha)))),r<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),r<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(n1,{keyPath:s9,autoIncrement:!0}).createIndex(lp,a9,{unique:!1}),m.createObjectStore(Qu,{keyPath:o9}).createIndex(k3,l9,{unique:!1}),m.createObjectStore(Ku,{keyPath:u9}).createIndex(M3,c9,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore(Ku).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(r1,{keyPath:m9})})(e)}))),r<18&&a>=18&&X4()&&(c=c.next((()=>{t.objectStore(Qu).clear()})).next((()=>{t.objectStore(Ku).clear()}))),c}wi(e){let t=0;return e.store(ha).ee(((r,a)=>{t+=Qf(a)})).next((()=>{const r={byteSize:t};return e.store(sc).put(op,r)}))}yi(e){const t=e.store(ic),r=e.store(sr);return t.J().next((a=>B.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,as],[l.userId,l.lastAcknowledgedBatchId]);return r.J(ya,c).next((d=>B.forEach(d,(m=>{pe(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=da(this.serializer,m);return UE(e,l.userId,p).next((()=>{}))}))))}))))}Si(e){const t=e.store(Jo),r=e.store(ha);return e.store(Ea).get(Uf).next((a=>{const l=[];return r.ee(((c,d)=>{const m=new Me(c),p=(function(b){return[0,cn(b)]})(m);l.push(t.get(p).next((_=>_?B.resolve():(b=>t.put({targetId:0,path:cn(b),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>B.waitFor(l)))}))}bi(e,t){e.createObjectStore(ac,{keyPath:t9});const r=t.store(ac),a=new v1,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return r.put({collectionId:d,parent:cn(m)})}};return t.store(ha).ee({X:!0},((c,d)=>{const m=new Me(c);return l(m.popLast())})).next((()=>t.store(Xo).ee({X:!0},(([c,d,m],p)=>{const _=Ir(d);return l(_.popLast())}))))}Di(e){const t=e.store(Zo);return t.ee(((r,a)=>{const l=ju(a),c=PE(this.serializer,l);return t.put(c)}))}Ci(e,t){const r=t.store(ha),a=[];return r.ee(((l,c)=>{const d=t.store(Bf),m=(function(b){return b.document?new le(Me.fromString(b.document.name).popFirst(5)):b.noDocument?le.fromSegments(b.noDocument.path):b.unknownDocument?le.fromSegments(b.unknownDocument.path):me(36783)})(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))})).next((()=>B.waitFor(a)))}Fi(e,t){const r=t.store(sr),a=QE(this.serializer),l=new b1(gd.mi,this.serializer.yt);return r.J().next((c=>{const d=new Map;return c.forEach((m=>{let p=d.get(m.userId)??xe();da(this.serializer,m).keys().forEach((_=>p=p.add(_))),d.set(m.userId,p)})),B.forEach(d,((m,p)=>{const _=new Kt(p),b=dd.wt(this.serializer,_),w=l.getIndexManager(_),C=md.wt(_,this.serializer,w,l.referenceDelegate);return new KE(a,C,b,w).recalculateAndSaveOverlaysForDocumentKeys(new cp(t,wn.ce),m).next()}))}))}}function Qv(i){i.createObjectStore(Jo,{keyPath:WS}).createIndex(t1,e9,{unique:!0}),i.createObjectStore(Zo,{keyPath:"targetId"}).createIndex(N3,JS,{unique:!0}),i.createObjectStore(Ea)}const Zi="IndexedDbPersistence",Hg=18e5,Gg=5e3,Qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YE="main";class T1{constructor(e,t,r,a,l,c,d,m,p,_,b=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=l,this.window=c,this.document=d,this.xi=p,this.Oi=_,this.Ni=b,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!T1.v())throw new te(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v7(this,a),this.$i=t+YE,this.serializer=new OE(m),this.Ui=new Dr(this.$i,this.Ni,new V7(this.serializer)),this.hi=new o7,this.Pi=new g7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QE(this.serializer),this.Ii=new a7,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&At(Zi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new te(Q.FAILED_PRECONDITION,Qg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new wn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>mf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(bs(e))return ie(Zi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie(Zi,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return zu(e).get(Do).next((t=>B.resolve(this.es(t))))}ts(e){return mf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Hg)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Bt(t,Wo);return r.J().next((a=>{const l=this.ss(a,Hg),c=a.filter((d=>l.indexOf(d)===-1));return B.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):zu(e).get(Do).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Gg)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new te(Q.FAILED_PRECONDITION,Qg);return!1}}return!(!this.networkEnabled||!this.inForeground)||mf(e).J().next((r=>this.ss(r,Gg).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ie(Zi,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ac,Wo],(e=>{const t=new cp(e,wn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>mf(e).J().next((t=>this.ss(t,Hg).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return md.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new m7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return dd.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){ie(Zi,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?y9:m===17?B3:m===16?p9:m===15?i1:m===14?L3:m===13?z3:m===12?g9:m===11?P3:void me(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new cp(d,this.ci?this.ci.next():wn.ce),t==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw At(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new te(Q.FAILED_PRECONDITION,R3);return r(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return zu(e).get(Do).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Gg)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new te(Q.FAILED_PRECONDITION,Qg)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zu(e).put(Do,t)}static v(){return Dr.v()}Zi(e){const t=zu(e);return t.get(Do).next((r=>this.es(r)?(ie(Zi,"Releasing primary lease."),t.delete(Do)):B.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(At(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;$4()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return ie(Zi,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return At(Zi,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){At("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zu(i){return Bt(i,Ac)}function mf(i){return Bt(i,Wo)}function w1(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=xe(),a=xe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new A1(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $4()?8:I3(Of())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new N7;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(Po()<=Pe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Po()<=Pe.DEBUG&&ie("QueryEngine","Query:",zo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Po()<=Pe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):B.resolve())}ys(e,t){if(pv(t))return B.resolve(null);let r=_n(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ff(t,null,"F"),r=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=xe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.Ds(t,d);return this.Cs(t,p,c,m.readTime)?this.ys(e,Ff(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,r,a){return pv(t)||a.isEqual(ye.min())?B.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?B.resolve(null):(Po()<=Pe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(t)),this.vs(e,c,t,A3(a,$o)).next((d=>d)))}))}Ds(e,t){let r=new Ze(aE(e));return t.forEach(((a,l)=>{xc(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return Po()<=Pe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ps.getDocumentsMatchingQuery(e,t,zn.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="LocalStore",k7=3e8;class M7{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new ot(Re),this.xs=new yi((l=>wa(l)),Sc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function XE(i,e,t,r){return new M7(i,e,t,r)}async function ZE(i,e){const t=he(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let m=xe();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(r,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function O7(i,e){const t=he(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,_){const b=p.batch,w=b.keys();let C=B.resolve();return w.forEach((U=>{C=C.next((()=>_.getEntry(m,U))).next((K=>{const j=p.docVersions.get(U);pe(j!==null,48541),K.version.compareTo(j)<0&&(b.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),_.addEntry(K)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(m,b)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=xe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function JE(i){const e=he(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function P7(i,e){const t=he(i),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,b)=>{const w=a.get(b);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,b))));let C=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Et.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),a=a.insert(b,C),(function(K,j,se){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=k7?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(w,C,_)&&d.push(t.Pi.updateTargetData(l,C))}));let m=Sn(),p=xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(WE(l,c,e.documentUpdates).next((_=>{m=_.ks,p=_.qs}))),!r.isEqual(ye.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(_)}return B.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function WE(i,e,t){let r=xe(),a=xe();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=Sn();return t.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(ye.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ie(S1,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function z7(i,e){const t=he(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=as),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function al(i,e){const t=he(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,B.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new li(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function ol(i,e,t){const r=he(i),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!bs(c))throw c;ie(S1,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Yf(i,e,t){const r=he(i);let a=ye.min(),l=xe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,_){const b=he(m),w=b.xs.get(_);return w!==void 0?B.resolve(b.Ms.get(w)):b.Pi.getTargetData(p,_)})(r,c,_n(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:ye.min(),t?l:xe()))).next((d=>(n6(r,sE(e),d),{documents:d,Qs:l})))))}function e6(i,e){const t=he(i),r=he(t.Pi),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function t6(i,e){const t=he(i),r=t.Os.get(e)||ye.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.Ns.getAllFromCollectionGroup(a,e,A3(r,$o),Number.MAX_SAFE_INTEGER))).then((a=>(n6(t,e,a),a)))}function n6(i,e,t){let r=i.Os.get(e)||ye.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Os.set(e,r)}async function L7(i,e,t,r){const a=he(i);let l=xe(),c=Sn();for(const p of t){const _=e.$s(p.metadata.name);p.document&&(l=l.add(_));const b=e.Us(p);b.setReadTime(e.Ks(p.metadata.readTime)),c=c.insert(_,b)}const d=a.Ns.newChangeBuffer({trackRemovals:!0}),m=await al(a,(function(_){return _n(gl(Me.fromString(`__bundle__/docs/${_}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(p=>WE(p,d,c).next((_=>(d.apply(p),_))).next((_=>a.Pi.removeMatchingKeysForTargetId(p,m.targetId).next((()=>a.Pi.addMatchingKeys(p,l,m.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(p,_.ks,_.qs))).next((()=>_.ks))))))}async function B7(i,e,t=xe()){const r=await al(i,_n(y1(e.bundledQuery))),a=he(i);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=St(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return a.Ii.saveNamedQuery(l,e);const d=r.withResumeToken(Et.EMPTY_BYTE_STRING,c);return a.Ms=a.Ms.insert(d.targetId,d),a.Pi.updateTargetData(l,d).next((()=>a.Pi.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>a.Pi.addMatchingKeys(l,t,r.targetId))).next((()=>a.Ii.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="firestore_clients";function Kv(i,e){return`${r6}_${i}_${e}`}const i6="firestore_mutations";function Yv(i,e,t){let r=`${i6}_${i}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const s6="firestore_targets";function Kg(i,e){return`${s6}_${i}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="SharedClientState";class $f{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static Ws(e,t,r){const a=JSON.parse(r);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new te(a.error.code,a.error.message))),c?new $f(e,t,a.state,l):(At(xr,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new te(r.error.code,r.error.message))),l?new Zu(e,r.state,a):(At(xr,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=u1();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=C3(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return a?new Xf(e,l):(At(xr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class R1{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new R1(t.clientId,t.onlineState):(At(xr,`Failed to parse online state: ${e}`),null)}}class Sp{constructor(){this.activeTargetIds=u1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yg{constructor(e,t,r,a,l){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ot(Re),this.started=!1,this.Xs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=Kv(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Sp),this.ro=new RegExp(`^${r6}_${c}_([^_]*)$`),this.io=new RegExp(`^${i6}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${s6}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const a=this.getItem(Kv(this.persistenceKey,r));if(a){const l=Xf.Ws(r,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Kg(this.persistenceKey,e));if(a){const l=Zu.Ws(e,a);l&&(r=l.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.Po(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ie(xr,"READ",e,t),t}setItem(e,t){ie(xr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ie(xr,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ie(xr,"EVENT",t.key,t.newValue),t.key===this.eo)return void At("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(l){let c=wn.ce;if(l!=null)try{const d=JSON.parse(l);pe(typeof d=="number",30636,{So:l}),c=d}catch(d){At(xr,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);r!==wn.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const a=new $f(this.currentUser,e,t,r),l=Yv(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Gs())}Po(e){const t=Yv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const a=Kg(this.persistenceKey,e),l=new Zu(e,t,r);this.setItem(a,l.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Xf.Ws(r,t)}fo(e,t){const r=this.io.exec(e),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return $f.Ws(new Kt(l),a,t)}yo(e,t){const r=this.so.exec(e),a=Number(r[1]);return Zu.Ws(a,t)}uo(e){return R1.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ie(xr,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),a=this.lo(this.Zs),l=this.lo(r),c=[],d=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||d.push(m)})),this.syncEngine.Fo(c,d).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=u1();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class a6{constructor(){this.Mo=new Sp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie($v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie($v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function Rp(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",j7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===hp?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=Rp(),d=this.zo(e,t.toUriEncodedString());ie($g,`Sending RPC '${e}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),_=qp(p);return this.Jo(e,d,m,r,_).then((b=>(ie($g,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw kr($g,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",r),b}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=j7[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class H7 extends q7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=Rp();return new Promise(((d,m)=>{const p=new d3;p.setWithCredentials(!0),p.listenOnce(m3.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const b=p.getResponseJson();ie(on,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case _f.TIMEOUT:ie(on,`RPC '${e}' ${c} timed out`),m(new te(Q.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const w=p.getStatus();if(ie(on,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const K=(function(se){const W=se.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(W)>=0?W:Q.UNKNOWN})(U.status);m(new te(K,U.message))}else m(new te(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new te(Q.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ie(on,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);ie(on,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",_,r,15)}))}T_(e,t,r){const a=Rp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=y3(),d=p3(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const _=l.join("");ie(on,`Creating RPC '${e}' stream ${a}: ${_}`,m);const b=c.createWebChannel(_,m);this.I_(b);let w=!1,C=!1;const U=new F7({Yo:j=>{C?ie(on,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(w||(ie(on,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ie(on,`RPC '${e}' stream ${a} sending:`,j),b.send(j))},Zo:()=>b.close()}),K=(j,se,W)=>{j.listen(se,(ne=>{try{W(ne)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return K(b,Lu.EventType.OPEN,(()=>{C||(ie(on,`RPC '${e}' stream ${a} transport opened.`),U.o_())})),K(b,Lu.EventType.CLOSE,(()=>{C||(C=!0,ie(on,`RPC '${e}' stream ${a} transport closed`),U.a_(),this.E_(b))})),K(b,Lu.EventType.ERROR,(j=>{C||(C=!0,kr(on,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),U.a_(new te(Q.UNAVAILABLE,"The operation could not be completed")))})),K(b,Lu.EventType.MESSAGE,(j=>{if(!C){const se=j.data[0];pe(!!se,16349);const W=se,ne=W?.error||W[0]?.error;if(ne){ie(on,`RPC '${e}' stream ${a} received error:`,ne);const fe=ne.status;let ue=(function(S){const R=Vt[S];if(R!==void 0)return vE(R)})(fe),_e=ne.message;ue===void 0&&(ue=Q.INTERNAL,_e="Unknown error status: "+fe+" with message "+ne.message),C=!0,U.a_(new te(ue,_e)),b.close()}else ie(on,`RPC '${e}' stream ${a} received:`,se),U.u_(se)}})),K(d,g3.STAT_EVENT,(j=>{j.stat===ip.PROXY?ie(on,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===ip.NOPROXY&&ie(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(){return typeof window<"u"?window:null}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(i){return new $9(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class l6{constructor(e,t,r,a,l,c,d,m){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(At(t.toString()),At("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new te(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(Zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ie(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G7 extends l6{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=J9(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ye.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ye.min():c.readTime?St(c.readTime):ye.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ep(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=jf(m)?{documents:CE(l,m)}:{query:DE(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=wE(l,c.resumeToken);const p=_p(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(ye.min())>0){d.readTime=sl(l,c.snapshotVersion.toTimestamp());const p=_p(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=e7(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.q_(t)}}class Q7 extends l6{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=W9(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ep(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fc(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{}class Y7 extends K7{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new te(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,vp(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new te(Q.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,vp(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new te(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(At(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class X7{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ws(this)&&(ie(Ca,"Restarting streams for network reachability change."),await(async function(m){const p=he(m);p.Ea.add(4),await _l(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nc(p)})(this))}))})),this.Ra=new $7(r,a)}}async function Nc(i){if(ws(i))for(const e of i.da)await e(!0)}async function _l(i){for(const e of i.da)await e(!1)}function pd(i,e){const t=he(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),D1(t)?C1(t):El(t).O_()&&I1(t,e))}function ll(i,e){const t=he(i),r=El(t);t.Ia.delete(e),r.O_()&&u6(t,e),t.Ia.size===0&&(r.O_()?r.L_():ws(t)&&t.Ra.set("Unknown"))}function I1(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}El(i).Y_(e)}function u6(i,e){i.Va.Ue(e),El(i).Z_(e)}function C1(i){i.Va=new G9({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),El(i).start(),i.Ra.ua()}function D1(i){return ws(i)&&!El(i).x_()&&i.Ia.size>0}function ws(i){return he(i).Ea.size===0}function c6(i){i.Va=void 0}async function Z7(i){i.Ra.set("Online")}async function J7(i){i.Ia.forEach(((e,t)=>{I1(i,e)}))}async function W7(i,e){c6(i),D1(i)?(i.Ra.ha(e),C1(i)):i.Ra.set("Unknown")}async function e8(i,e,t){if(i.Ra.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(i,e)}catch(r){ie(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zf(i,r)}else if(e instanceof Rf?i.Va.Ze(e):e instanceof bE?i.Va.st(e):i.Va.tt(e),!t.isEqual(ye.min()))try{const r=await JE(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Et.EMPTY_BYTE_STRING,_.snapshotVersion)),u6(l,m);const b=new li(_.target,m,p,_.sequenceNumber);I1(l,b)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){ie(Ca,"Failed to raise snapshot:",r),await Zf(i,r)}}async function Zf(i,e,t){if(!bs(e))throw e;i.Ea.add(1),await _l(i),i.Ra.set("Offline"),t||(t=()=>JE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ie(Ca,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Nc(i)}))}function h6(i,e){return e().catch((t=>Zf(i,t,e)))}async function vl(i){const e=he(i),t=ps(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:as;for(;t8(e);)try{const a=await z7(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,n8(e,a)}catch(a){await Zf(e,a)}f6(e)&&d6(e)}function t8(i){return ws(i)&&i.Ta.length<10}function n8(i,e){i.Ta.push(e);const t=ps(i);t.O_()&&t.X_&&t.ea(e.mutations)}function f6(i){return ws(i)&&!ps(i).x_()&&i.Ta.length>0}function d6(i){ps(i).start()}async function r8(i){ps(i).ra()}async function i8(i){const e=ps(i);for(const t of i.Ta)e.ea(t.mutations)}async function s8(i,e,t){const r=i.Ta.shift(),a=d1.from(r,e,t);await h6(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await vl(i)}async function a8(i,e){e&&ps(i).X_&&await(async function(r,a){if((function(c){return _E(c)&&c!==Q.ABORTED})(a.code)){const l=r.Ta.shift();ps(r).B_(),await h6(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await vl(r)}})(i,e),f6(i)&&d6(i)}async function Jv(i,e){const t=he(i);t.asyncQueue.verifyOperationInProgress(),ie(Ca,"RemoteStore received new credentials");const r=ws(t);t.Ea.add(3),await _l(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nc(t)}async function xp(i,e){const t=he(i);e?(t.Ea.delete(2),await Nc(t)):e||(t.Ea.add(2),await _l(t),t.Ra.set("Unknown"))}function El(i){return i.ma||(i.ma=(function(t,r,a){const l=he(t);return l.sa(),new G7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:Z7.bind(null,i),t_:J7.bind(null,i),r_:W7.bind(null,i),H_:e8.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),D1(i)?C1(i):i.Ra.set("Unknown")):(await i.ma.stop(),c6(i))}))),i.ma}function ps(i){return i.fa||(i.fa=(function(t,r,a){const l=he(t);return l.sa(),new Q7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:r8.bind(null,i),r_:a8.bind(null,i),ta:i8.bind(null,i),na:s8.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vl(i)):(await i.fa.stop(),i.Ta.length>0&&(ie(Ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new V1(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(i,e){if(At("AsyncQueue",`${e}: ${i}`),bs(i))return new te(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||le.comparator(t.key,r.key):(t,r)=>le.comparator(t.key,r.key),this.keyedMap=Bu(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.ga=new ot(le.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ul{constructor(e,t,r,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ul(e,t,qo.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class l8{constructor(){this.queries=e4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=he(t),l=a.queries;a.queries=e4(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new te(Q.ABORTED,"Firestore shutting down"))}}function e4(){return new yi((i=>iE(i)),Rc)}async function N1(i,e){const t=he(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new o8,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=bl(c,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&M1(t)}async function k1(i,e){const t=he(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function u8(i,e){const t=he(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&M1(t)}function c8(i,e,t){const r=he(i),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function M1(i){i.Ca.forEach((e=>{e.next()}))}var Ip,t4;(t4=Ip||(Ip={})).Ma="default",t4.Cache="cache";class O1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.serializer=e}$s(e){return Vr(this.serializer,e)}Us(e){return e.metadata.exists?IE(this.serializer,e.document,!1):lt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return St(e)}}class f8{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=m6(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=Me.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new n4(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.$s(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||xe()).add(l);t.set(c,d)}}return t}async ja(e){const t=await L7(e,new n4(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const a of this.Ka)await B7(e,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function m6(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.key=e}}class p6{constructor(e){this.key=e}}class y6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=aE(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Wv,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,b)=>{const w=a.get(_),C=xc(this.query,b)?b:null,U=!!w&&this.mutatedKeys.has(w.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;w&&C?w.data.isEqual(C.data)?U!==K&&(r.track({type:3,doc:C}),j=!0):this.su(w,C)||(r.track({type:2,doc:C}),j=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(d=!0)):!w&&C?(r.track({type:0,doc:C}),j=!0):w&&!C&&(r.track({type:1,doc:w}),j=!0,(m||p)&&(d=!0)),j&&(C?(c=c.add(C),l=K?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(C,U){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:j})}};return K(C)-K(U)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new ul(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new p6(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new g6(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const As="SyncEngine";class d8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class m8{constructor(e){this.key=e,this.hu=!1}}class g8{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new yi((d=>iE(d)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new ot(le.comparator),this.Au=new Map,this.Ru=new E1,this.Vu={},this.mu=new Map,this.fu=Ia.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p8(i,e,t=!0){const r=yd(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await _6(r,e,t,!0),a}async function y8(i,e){const t=yd(i);await _6(t,e,!0,!1)}async function _6(i,e,t,r){const a=await al(i.localStore,_n(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await P1(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&pd(i.remoteStore,a),d}async function P1(i,e,t,r,a){i.pu=(b,w,C)=>(async function(K,j,se,W){let ne=j.view.ru(se);ne.Cs&&(ne=await Yf(K.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,ne))));const fe=W&&W.targetChanges.get(j.targetId),ue=W&&W.targetMismatches.get(j.targetId)!=null,_e=j.view.applyChanges(ne,K.isPrimaryClient,fe,ue);return Cp(K,j.targetId,_e.au),_e.snapshot})(i,b,w,C);const l=await Yf(i.localStore,e,!0),c=new y6(e,l.Qs),d=c.ru(l.documents),m=Dc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),p=c.applyChanges(d,i.isPrimaryClient,m);Cp(i,t,p.au);const _=new d8(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),p.snapshot}async function _8(i,e,t){const r=he(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Rc(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ol(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&ll(r.remoteStore,a.targetId),cl(r,a.targetId)})).catch(Es)):(cl(r,a.targetId),await ol(r.localStore,a.targetId,!0))}async function v8(i,e){const t=he(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ll(t.remoteStore,r.targetId))}async function E8(i,e,t){const r=U1(i);try{const a=await(function(c,d){const m=he(c),p=Qe.now(),_=d.reduce(((C,U)=>C.add(U.key)),xe());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Sn(),K=xe();return m.Ns.getEntries(C,_).next((j=>{U=j,U.forEach(((se,W)=>{W.isValidDocument()||(K=K.add(se))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,U))).next((j=>{b=j;const se=[];for(const W of d){const ne=q9(W,b.get(W.key).overlayedDocument);ne!=null&&se.push(new _i(W.key,ne,$3(ne.value.mapValue),dt.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,se,d)})).next((j=>{w=j;const se=j.applyToLocalDocumentSet(b,K);return m.documentOverlayCache.saveOverlays(C,j.batchId,se)}))})).then((()=>({batchId:w.batchId,changes:lE(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new ot(Re)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,t),await vi(r,a.changes),await vl(r.remoteStore)}catch(a){const l=bl(a,"Failed to persist write");t.reject(l)}}async function v6(i,e){const t=he(i);try{const r=await P7(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(pe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?pe(c.hu,14607):a.removedDocuments.size>0&&(pe(c.hu,42227),c.hu=!1))})),await vi(t,r,e)}catch(r){await Es(r)}}function r4(i,e,t){const r=he(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=he(c);m.onlineState=d;let p=!1;m.queries.forEach(((_,b)=>{for(const w of b.Sa)w.va(d)&&(p=!0)})),p&&M1(m)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b8(i,e,t){const r=he(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new ot(le.comparator);c=c.insert(l,lt.newNoDocument(l,ye.min()));const d=xe().add(l),m=new Cc(ye.min(),new Map,new ot(Re),c,d);await v6(r,m),r.du=r.du.remove(l),r.Au.delete(e),B1(r)}else await ol(r.localStore,e,!1).then((()=>cl(r,e,t))).catch(Es)}async function T8(i,e){const t=he(i),r=e.batch.batchId;try{const a=await O7(t.localStore,e);L1(t,r,null),z1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vi(t,a)}catch(a){await Es(a)}}async function w8(i,e,t){const r=he(i);try{const a=await(function(c,d){const m=he(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next((b=>(pe(b!==null,37113),_=b.keys(),m.mutationQueue.removeMutationBatch(p,b)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);L1(r,e,t),z1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vi(r,a)}catch(a){await Es(a)}}async function A8(i,e){const t=he(i);ws(t.remoteStore)||ie(As,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const d=he(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m)))})(t.localStore);if(r===as)return void e.resolve();const a=t.mu.get(r)||[];a.push(e),t.mu.set(r,a)}catch(r){const a=bl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function z1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function L1(i,e,t){const r=he(i);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function cl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||E6(i,r)}))}function E6(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(ll(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),B1(i))}function Cp(i,e,t){for(const r of t)r instanceof g6?(i.Ru.addReference(r.key,e),S8(i,r)):r instanceof p6?(ie(As,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||E6(i,r.key)):me(19791,{wu:r})}function S8(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(ie(As,"New document in limbo: "+t),i.Eu.add(r),B1(i))}function B1(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new le(Me.fromString(e)),r=i.fu.next();i.Au.set(r,new m8(t)),i.du=i.du.insert(t,r),pd(i.remoteStore,new li(_n(gl(t.path)),r,"TargetPurposeLimboResolution",wn.ce))}}async function vi(i,e,t){const r=he(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{c.push(r.pu(m,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=A1.As(m.targetId,p);l.push(_)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(m,p){const _=he(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>B.forEach(p,(w=>B.forEach(w.Es,(C=>_.persistence.referenceDelegate.addReference(b,w.targetId,C))).next((()=>B.forEach(w.ds,(C=>_.persistence.referenceDelegate.removeReference(b,w.targetId,C)))))))))}catch(b){if(!bs(b))throw b;ie(S1,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const C=_.Ms.get(w),U=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(w,K)}}})(r.localStore,l))}async function R8(i,e){const t=he(i);if(!t.currentUser.isEqual(e)){ie(As,"User change. New user:",e.toKey());const r=await ZE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new te(Q.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vi(t,r.Ls)}}function x8(i,e){const t=he(i),r=t.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let a=xe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function I8(i,e){const t=he(i),r=await Yf(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&Cp(t,e.targetId,a.au),a}async function C8(i,e){const t=he(i);return t6(t.localStore,e).then((r=>vi(t,r)))}async function D8(i,e,t,r){const a=he(i),l=await(function(d,m){const p=he(d),_=he(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(b=>_.er(b,m).next((w=>w?p.localDocuments.getDocuments(b,w):B.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await vl(a.remoteStore):t==="acknowledged"||t==="rejected"?(L1(a,e,r||null),z1(a,e),(function(d,m){he(he(d).mutationQueue).ir(m)})(a.localStore,e)):me(6720,"Unknown batchState",{Su:t}),await vi(a,l)):ie(As,"Cannot apply mutation batch with id: "+e)}async function V8(i,e){const t=he(i);if(yd(t),U1(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await i4(t,r.toArray());t.gu=!0,await xp(t.remoteStore,!0);for(const l of a)pd(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then((()=>(cl(t,c),ol(t.localStore,c,!0)))),ll(t.remoteStore,c)})),await a,await i4(t,r),(function(c){const d=he(c);d.Au.forEach(((m,p)=>{ll(d.remoteStore,p)})),d.Ru.Jr(),d.Au=new Map,d.du=new ot(le.comparator)})(t),t.gu=!1,await xp(t.remoteStore,!1)}}async function i4(i,e,t){const r=he(i),a=[],l=[];for(const c of e){let d;const m=r.Iu.get(c);if(m&&m.length!==0){d=await al(r.localStore,_n(m[0]));for(const p of m){const _=r.Tu.get(p),b=await I8(r,_);b.snapshot&&l.push(b.snapshot)}}else{const p=await e6(r.localStore,c);d=await al(r.localStore,p),await P1(r,b6(p),c,!1,d.resumeToken)}a.push(d)}return r.Pu.H_(l),a}function b6(i){return rE(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function N8(i){return(function(t){return he(he(t).persistence).Ts()})(he(i).localStore)}async function k8(i,e,t,r){const a=he(i);if(a.gu)return void ie(As,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await t6(a.localStore,sE(l[0])),d=Cc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Et.EMPTY_BYTE_STRING);await vi(a,c,d);break}case"rejected":await ol(a.localStore,e,!0),cl(a,e,r);break;default:me(64155,t)}}async function M8(i,e,t){const r=yd(i);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){ie(As,"Adding an already active target "+a);continue}const l=await e6(r.localStore,a),c=await al(r.localStore,l);await P1(r,b6(l),c.targetId,!1,c.resumeToken),pd(r.remoteStore,c)}for(const a of t)r.Iu.has(a)&&await ol(r.localStore,a,!1).then((()=>{ll(r.remoteStore,a),cl(r,a)})).catch(Es)}}function yd(i){const e=he(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=v6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b8.bind(null,e),e.Pu.H_=u8.bind(null,e.eventManager),e.Pu.yu=c8.bind(null,e.eventManager),e}function U1(i){const e=he(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w8.bind(null,e),e}function O8(i,e,t){const r=he(i);(async function(l,c,d){try{const m=await c.getMetadata();if(await(function(C,U){const K=he(C),j=St(U.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",(se=>K.Ii.getBundleMetadata(se,U.id))).then((se=>!!se&&se.createTime.compareTo(j)>=0))})(l.localStore,m))return await c.close(),d._completeWith((function(C){return{taskState:"Success",documentsLoaded:C.totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}})(m)),Promise.resolve(new Set);d._updateProgress(m6(m));const p=new f8(m,c.serializer);let _=await c.bu();for(;_;){const w=await p.Ga(_);w&&d._updateProgress(w),_=await c.bu()}const b=await p.ja(l.localStore);return await vi(l,b.Ha,void 0),await(function(C,U){const K=he(C);return K.persistence.runTransaction("Save bundle","readwrite",(j=>K.Ii.saveBundleMetadata(j,U)))})(l.localStore,m),d._completeWith(b.progress),Promise.resolve(b.Ja)}catch(m){return kr(As,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(r,e,t).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return XE(this.persistence,new $E,e.initialUser,this.serializer)}Cu(e){return new b1(gd.mi,this.serializer)}Du(e){return new a6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class P8 extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pe(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FE(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new b1((r=>Kf.mi(r,t)),this.serializer)}}class T6 extends dc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await U1(this.xu.syncEngine),await vl(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return XE(this.persistence,new $E,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new FE(r,e.asyncQueue,t)}Mu(e,t){const r=new GS(t,this.persistence);return new HS(e.asyncQueue,r)}Cu(e){const t=w1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new T1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,o6(),If(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new a6}}class z8 extends T6{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Yg&&(this.sharedClientState.syncEngine={Co:D8.bind(null,t),vo:k8.bind(null,t),Fo:M8.bind(null,t),Ts:N8.bind(null,t),Do:C8.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await V8(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=o6();if(!Yg.v(t))throw new te(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=w1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class mc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R8.bind(null,this.syncEngine),await xp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new l8})()}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),r=(function(l){return new H7(l)})(e.databaseInfo);return(function(l,c,d,m){return new Y7(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new X7(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>r4(this.syncEngine,t,0)),(function(){return Xv.v()?new Xv:new U7})())}createSyncEngine(e,t){return(function(a,l,c,d,m,p,_){const b=new g8(a,l,c,d,m,p);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=he(t);ie(Ca,"RemoteStore shutting down."),r.Ea.add(5),await _l(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mc.provider={build:()=>new mc};function s4(i,e=10240){let t=0;return{async read(){if(t<i.byteLength){const r={value:i.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new nn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const a=await this.$u(r);return new h8(JSON.parse(a),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new te(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const c=he(a),d={documents:l.map((b=>hc(c.serializer,b)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Me.emptyPath(),d,l.length),p=new Map;m.forEach((b=>{const w=Z9(c.serializer,b);p.set(w.key.toString(),w)}));const _=[];return l.forEach((b=>{const w=p.get(b.toString());pe(!!w,55234,{key:b}),_.push(w)})),_})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=le.fromPath(r);this.mutations.push(new h1(a,this.precondition(a)))})),await(async function(r,a){const l=he(r),c={writes:a.map((d=>fc(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,Me.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new te(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ye.min())?dt.exists(!1):dt.updateTime(t):dt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ye.min()))throw new te(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(t)}return dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new x1(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new B8(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Yu(a)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!wc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!_E(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class j8{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Kt.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ie(ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ie(ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xg(i,e){i.asyncQueue.verifyOperationInProgress(),ie(ys,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ZE(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function a4(i,e){i.asyncQueue.verifyOperationInProgress();const t=await j1(i);ie(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>Jv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>Jv(e.remoteStore,a))),i._onlineComponents=e}async function j1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie(ys,"Using user provided OfflineComponentProvider");try{await Xg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;kr("Error using user provided cache. Falling back to memory cache: "+t),await Xg(i,new dc)}}else ie(ys,"Using default OfflineComponentProvider"),await Xg(i,new P8(void 0));return i._offlineComponents}async function vd(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie(ys,"Using user provided OnlineComponentProvider"),await a4(i,i._uninitializedComponentsProvider._online)):(ie(ys,"Using default OnlineComponentProvider"),await a4(i,new mc))),i._onlineComponents}function w6(i){return j1(i).then((e=>e.persistence))}function q1(i){return j1(i).then((e=>e.localStore))}function A6(i){return vd(i).then((e=>e.remoteStore))}function F1(i){return vd(i).then((e=>e.syncEngine))}function q8(i){return vd(i).then((e=>e.datastore))}async function hl(i){const e=await vd(i),t=e.eventManager;return t.onListen=p8.bind(null,e.syncEngine),t.onUnlisten=_8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v8.bind(null,e.syncEngine),t}function F8(i){return i.asyncQueue.enqueue((async()=>{const e=await w6(i),t=await A6(i);return e.setNetworkEnabled(!0),(function(a){const l=he(a);return l.Ea.delete(0),Nc(l)})(t)}))}function H8(i){return i.asyncQueue.enqueue((async()=>{const e=await w6(i),t=await A6(i);return e.setNetworkEnabled(!1),(async function(a){const l=he(a);l.Ea.add(0),await _l(l),l.Ra.set("Offline")})(t)}))}function G8(i,e){const t=new nn;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(p,_){const b=he(p);return b.persistence.runTransaction("read document","readonly",(w=>b.localDocuments.getDocument(w,_)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new te(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=bl(d,`Failed to get document '${l} from cache`);c.reject(m)}})(await q1(i),e,t))),t.promise}function S6(i,e,t={}){const r=new nn;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const _=new _d({next:w=>{_.Nu(),c.enqueueAndForget((()=>k1(l,b)));const C=w.docs.has(d);!C&&w.fromCache?p.reject(new te(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&m&&m.source==="server"?p.reject(new te(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new O1(gl(d.path),_,{includeMetadataChanges:!0,qa:!0});return N1(l,b)})(await hl(i),i.asyncQueue,e,t,r))),r.promise}function Q8(i,e){const t=new nn;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await Yf(a,l,!0),m=new y6(l,d.Qs),p=m.ru(d.documents),_=m.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const m=bl(d,`Failed to execute query '${l} against cache`);c.reject(m)}})(await q1(i),e,t))),t.promise}function R6(i,e,t={}){const r=new nn;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const _=new _d({next:w=>{_.Nu(),c.enqueueAndForget((()=>k1(l,b))),w.fromCache&&m.source==="server"?p.reject(new te(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new O1(d,_,{includeMetadataChanges:!0,qa:!0});return N1(l,b)})(await hl(i),i.asyncQueue,e,t,r))),r.promise}function K8(i,e){const t=new _d(e);return i.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.add(l),l.next()})(await hl(i),t))),()=>{t.Nu(),i.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.delete(l)})(await hl(i),t)))}}function Y8(i,e,t,r){const a=(function(c,d){let m;return m=typeof c=="string"?EE().encode(c):c,(function(_,b){return new L8(_,b)})((function(_,b){if(_ instanceof Uint8Array)return s4(_,b);if(_ instanceof ArrayBuffer)return s4(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(m),d)})(t,Vc(e));i.asyncQueue.enqueueAndForget((async()=>{O8(await F1(i),a,r)}))}function $8(i,e){return i.asyncQueue.enqueue((async()=>(function(r,a){const l=he(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Ii.getNamedQuery(c,a)))})(await q1(i),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="firestore.googleapis.com",l4=!0;class u4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I6,this.ssl=l4}else this.host=e.host,this.ssl=e.ssl??l4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p7)throw new te(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NS;switch(r.type){case"firstParty":return new PS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=o4.get(t);r&&(ie("ComponentProvider","Removing Datastore"),o4.delete(t),r.terminate())})(this),Promise.resolve()}}function X8(i,e,t,r={}){i=qe(i,kc);const a=qp(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&($w(`https://${d}`),Ww("Firestore",!0)),l.host!==I6&&l.host!==d&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!Ho(m,c)&&(i._setSettings(m),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Kt.MOCK_USER;else{p=Xw(r.mockUserToken,i._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new te(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Kt(b)}i._authCredentials=new kS(new v3(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class C6{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new C6(this.firestore,e,this._query)}},at=class qu{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qu(this.firestore,e,this._key)}toJSON(){return{type:qu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tc(t,qu._jsonSchema))return new qu(e,r||null,new le(Me.fromString(t.referencePath)))}};at._jsonSchemaVersion="firestore/documentReference/1.0",at._jsonSchema={type:Nt("string",at._jsonSchemaVersion),referencePath:Nt("string")};let os=class D6 extends vn{constructor(e,t,r){super(e,t,gl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new le(e))}withConverter(e){return new D6(this.firestore,e,this._path)}};function V6(i,e,...t){if(i=kt(i),Jp("collection","path",e),i instanceof kc){const r=Me.fromString(e,...t);return Z2(r),new os(i,null,r)}{if(!(i instanceof at||i instanceof os))throw new te(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Me.fromString(e,...t));return Z2(r),new os(i.firestore,null,r)}}function Z8(i,e){if(i=qe(i,kc),Jp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vn(i,null,(function(r){return new pi(Me.emptyPath(),r)})(e))}function Jf(i,e,...t){if(i=kt(i),arguments.length===1&&(e=Zp.newId()),Jp("doc","path",e),i instanceof kc){const r=Me.fromString(e,...t);return X2(r),new at(i,null,new le(r))}{if(!(i instanceof at||i instanceof os))throw new te(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Me.fromString(e,...t));return X2(r),new at(i.firestore,i instanceof os?i.converter:null,new le(r))}}function N6(i,e){return i=kt(i),e=kt(e),(i instanceof at||i instanceof os)&&(e instanceof at||e instanceof os)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function k6(i,e){return i=kt(i),e=kt(e),i instanceof vn&&e instanceof vn&&i.firestore===e.firestore&&Rc(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="AsyncQueue";class h4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x1(this,"async_queue_retry"),this._c=()=>{const r=If();r&&ie(c4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=If();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=If();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new nn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bs(e))throw e;ie(c4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,At("INTERNAL UNHANDLED ERROR: ",f4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=V1.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&me(47125,{Pc:f4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function f4(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class J8{constructor(){this._progressObserver={},this._taskCompletionResolver=new nn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=-1;let Rt=class extends kc{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new h4,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h4(e),this._firestoreClient=void 0,await e}}};function hn(i){if(i._terminated)throw new te(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||M6(i),i._firestoreClient}function M6(i){const e=i._freezeSettings(),t=(function(a,l,c,d){return new E9(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,x6(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new j8(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}function eR(i,e){kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings();return O6(i,mc.provider,{build:r=>new T6(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function tR(i){kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings();O6(i,mc.provider,{build:t=>new z8(t,e.cacheSizeBytes)})}function O6(i,e,t){if((i=qe(i,Rt))._firestoreClient||i._terminated)throw new te(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(i._componentsProvider||i._getSettings().localCache)throw new te(Q.FAILED_PRECONDITION,"SDK cache is already specified.");i._componentsProvider={_online:e,_offline:t},M6(i)}function nR(i){if(i._initialized&&!i._terminated)throw new te(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nn;return i._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Dr.v())return Promise.resolve();const a=r+YE;await Dr.delete(a)})(w1(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function rR(i){return(function(t){const r=new nn;return t.asyncQueue.enqueueAndForget((async()=>A8(await F1(t),r))),r.promise})(hn(i=qe(i,Rt)))}function iR(i){return F8(hn(i=qe(i,Rt)))}function sR(i){return H8(hn(i=qe(i,Rt)))}function aR(i,e){const t=hn(i=qe(i,Rt)),r=new J8;return Y8(t,i._databaseId,e,r),r}function oR(i,e){return $8(hn(i=qe(i,Rt)),e).then((t=>t?new vn(i,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(Et.fromBase64String(e))}catch(t){throw new te(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new un(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Nt("string",un._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new te(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new te(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new te(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Nt("string",ar._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,Nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Nr(e.vectorValues);throw new te(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Nr._jsonSchemaVersion="firestore/vectorValue/1.0",Nr._jsonSchema={type:Nt("string",Nr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^__.*__$/;class uR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)}}class P6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function z6(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:i})}}class Ed{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ed({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(z6(this.Ac)&&lR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vc(e)}Cc(e,t,r,a=!1){return new Ed({Ac:e,methodName:t,Dc:r,path:ft.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ma(i){const e=i._freezeSettings(),t=Vc(i._databaseId);return new cR(i._databaseId,!!e.ignoreUndefinedProperties,t)}function bd(i,e,t,r,a,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,a);X1("Data must be an object, but it was:",c,r);const d=U6(r,c);let m,p;if(l.merge)m=new An(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const w=Vp(e,b,t);if(!c.contains(w))throw new te(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);q6(_,w)||_.push(w)}m=new An(_),p=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,p=c.fieldTransforms;return new uR(new tn(d),m,p)}class Mc extends ka{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mc}}function L6(i,e,t){return new Ed({Ac:3,Dc:e.settings.Dc,methodName:i._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class H1 extends ka{_toFieldTransform(e){return new Ic(e.path,new rl)}isEqual(e){return e instanceof H1}}class G1 extends ka{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=L6(this,e,!0),r=this.vc.map((l=>Oa(l,t))),a=new Aa(r);return new Ic(e.path,a)}isEqual(e){return e instanceof G1&&Ho(this.vc,e.vc)}}class Q1 extends ka{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=L6(this,e,!0),r=this.vc.map((l=>Oa(l,t))),a=new Sa(r);return new Ic(e.path,a)}isEqual(e){return e instanceof Q1&&Ho(this.vc,e.vc)}}class K1 extends ka{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new il(e.serializer,hE(e.serializer,this.Fc));return new Ic(e.path,t)}isEqual(e){return e instanceof K1&&this.Fc===e.Fc}}function Y1(i,e,t,r){const a=i.Cc(1,e,t);X1("Data must be an object, but it was:",a,r);const l=[],c=tn.empty();Ts(r,((m,p)=>{const _=Z1(e,m,t);p=kt(p);const b=a.yc(_);if(p instanceof Mc)l.push(_);else{const w=Oa(p,b);w!=null&&(l.push(_),c.set(_,w))}}));const d=new An(l);return new P6(c,d,a.fieldTransforms)}function $1(i,e,t,r,a,l){const c=i.Cc(1,e,t),d=[Vp(e,r,t)],m=[a];if(l.length%2!=0)throw new te(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Vp(e,l[w])),m.push(l[w+1]);const p=[],_=tn.empty();for(let w=d.length-1;w>=0;--w)if(!q6(p,d[w])){const C=d[w];let U=m[w];U=kt(U);const K=c.yc(C);if(U instanceof Mc)p.push(C);else{const j=Oa(U,K);j!=null&&(p.push(C),_.set(C,j))}}const b=new An(p);return new P6(_,b,c.fieldTransforms)}function B6(i,e,t,r=!1){return Oa(t,i.Cc(r?4:3,e))}function Oa(i,e){if(j6(i=kt(i)))return X1("Unsupported field value:",e,i),U6(i,e);if(i instanceof ka)return(function(r,a){if(!z6(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let m=Oa(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hE(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Qe.fromDate(r);return{timestampValue:sl(a.serializer,l)}}if(r instanceof Qe){const l=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sl(a.serializer,l)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:wE(a.serializer,r._byteString)};if(r instanceof at){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:p1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Nr)return(function(c,d){return{mapValue:{fields:{[s1]:{stringValue:a1},[el]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return c1(d.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${rd(r)}`)})(i,e)}function U6(i,e){const t={};return U3(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(i,((r,a)=>{const l=Oa(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function j6(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Qe||i instanceof ar||i instanceof un||i instanceof at||i instanceof ka||i instanceof Nr)}function X1(i,e,t){if(!j6(t)||!T3(t)){const r=rd(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Vp(i,e,t){if((e=kt(e))instanceof _s)return e._internalPath;if(typeof e=="string")return Z1(i,e);throw Wf("Field path arguments must be of type string or ",i,!1,void 0,t)}const hR=new RegExp("[~\\*/\\[\\]]");function Z1(i,e,t){if(e.search(hR)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _s(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Wf(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new te(Q.INVALID_ARGUMENT,d+i+m)}function q6(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Td("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fR extends gc{data(){return super.data()}}function Td(i,e){return typeof e=="string"?Z1(i,e):e instanceof _s?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new te(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J1{}class Oc extends J1{}function Ji(i,e,...t){let r=[];e instanceof J1&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((m=>m instanceof W1)).length,d=l.filter((m=>m instanceof wd)).length;if(c>1||c>0&&d>0)throw new te(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class wd extends Oc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new wd(e,t,r)}_apply(e){const t=this._parse(e);return G6(e._query,t),new vn(e.firestore,e.converter,yp(e._query,t))}_parse(e){const t=Ma(e.firestore);return(function(l,c,d,m,p,_,b){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new te(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){m4(b,_);const U=[];for(const K of b)U.push(d4(m,l,K));w={arrayValue:{values:U}}}else w=d4(m,l,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||m4(b,_),w=B6(d,c,b,_==="in"||_==="not-in");return Oe.create(p,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dR(i,e,t){const r=e,a=Td("where",i);return wd._create(a,r,t)}class W1 extends J1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Xe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)G6(c,m),c=yp(c,m)})(e._query,t),new vn(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e0 extends Oc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new e0(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new te(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new te(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(l,c)})(e._query,this._field,this._direction);return new vn(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new pi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function mR(i,e="asc"){const t=e,r=Td("orderBy",i);return e0._create(r,t)}class Ad extends Oc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ad(e,t,r)}_apply(e){return new vn(e.firestore,e.converter,Ff(e._query,this._limit,this._limitType))}}function gR(i){return w3("limit",i),Ad._create("limit",i,"F")}function pR(i){return w3("limitToLast",i),Ad._create("limitToLast",i,"L")}class Sd extends Oc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Sd(e,t,r)}_apply(e){const t=H6(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,(function(a,l){return new pi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,t))}}function yR(...i){return Sd._create("startAt",i,!0)}function _R(...i){return Sd._create("startAfter",i,!1)}class Rd extends Oc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Rd(e,t,r)}_apply(e){const t=H6(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,(function(a,l){return new pi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)})(e._query,t))}}function vR(...i){return Rd._create("endBefore",i,!1)}function ER(...i){return Rd._create("endAt",i,!0)}function H6(i,e,t,r){if(t[0]=kt(t[0]),t[0]instanceof gc)return(function(l,c,d,m,p){if(!m)throw new te(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const b of jo(l))if(b.field.isKeyField())_.push(Ta(c,m.key));else{const w=m.data.field(b.field);if(ld(w))throw new te(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const C=b.field.canonicalString();throw new te(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${C}' (used as the orderBy) does not exist.`)}_.push(w)}return new gs(_,p)})(i._query,i.firestore._databaseId,e,t[0]._document,r);{const a=Ma(i.firestore);return(function(c,d,m,p,_,b){const w=c.explicitOrderBy;if(_.length>w.length)throw new te(Q.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const C=[];for(let U=0;U<_.length;U++){const K=_[U];if(w[U].field.isKeyField()){if(typeof K!="string")throw new te(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof K}`);if(!l1(c)&&K.indexOf("/")!==-1)throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${K}' contains a slash.`);const j=c.path.child(Me.fromString(K));if(!le.isDocumentKey(j))throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const se=new le(j);C.push(Ta(d,se))}else{const j=B6(m,p,K);C.push(j)}}return new gs(C,b)})(i._query,i.firestore._databaseId,a,e,t,r)}}function d4(i,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new te(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&t.indexOf("/")!==-1)throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Me.fromString(t));if(!le.isDocumentKey(r))throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ta(i,new le(r))}if(t instanceof at)return Ta(i,t._key);throw new te(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(t)}.`)}function m4(i,e){if(!Array.isArray(i)||i.length===0)throw new te(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G6(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new te(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class t0{convertValue(e,t="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ts(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[el].arrayValue?.values?.map((r=>ht(r.doubleValue)));return new Nr(t)}convertGeoPoint(e){return new ar(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const t=di(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Me.fromString(e);pe(ME(r),9688,{name:e});const a=new fs(r.get(1),r.get(3)),l=new le(r.popFirst(5));return a.isEqual(t)||At(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class bR extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}class _a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Jn=class Q6 extends gc{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Td("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Q6._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Jn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jn._jsonSchema={type:Nt("string",Jn._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};let Ju=class extends Jn{data(e={}){return super.data(e)}},or=class K6{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _a(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Ju(this._firestore,this._userDataWriter,r.key,r,new _a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new te(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Ju(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _a(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Ju(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _a(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:TR(d.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=K6._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function TR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:i})}}function Y6(i,e){return i instanceof Jn&&e instanceof Jn?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(i._document===null?e._document===null:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof or&&e instanceof or&&i._firestore===e._firestore&&k6(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(i){i=qe(i,at);const e=qe(i.firestore,Rt);return S6(hn(e),i._key).then((t=>n0(e,i,t)))}or._jsonSchemaVersion="firestore/querySnapshot/1.0",or._jsonSchema={type:Nt("string",or._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Pa extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,t)}}function AR(i){i=qe(i,at);const e=qe(i.firestore,Rt),t=hn(e),r=new Pa(e);return G8(t,i._key).then((a=>new Jn(e,r,i._key,a,new _a(a!==null&&a.hasLocalMutations,!0),i.converter)))}function SR(i){i=qe(i,at);const e=qe(i.firestore,Rt);return S6(hn(e),i._key,{source:"server"}).then((t=>n0(e,i,t)))}function RR(i){i=qe(i,vn);const e=qe(i.firestore,Rt),t=hn(e),r=new Pa(e);return F6(i._query),R6(t,i._query).then((a=>new or(e,r,i,a)))}function xR(i){i=qe(i,vn);const e=qe(i.firestore,Rt),t=hn(e),r=new Pa(e);return Q8(t,i._query).then((a=>new or(e,r,i,a)))}function IR(i){i=qe(i,vn);const e=qe(i.firestore,Rt),t=hn(e),r=new Pa(e);return R6(t,i._query,{source:"server"}).then((a=>new or(e,r,i,a)))}function g4(i,e,t){i=qe(i,at);const r=qe(i.firestore,Rt),a=xd(i.converter,e,t);return Pc(r,[bd(Ma(r),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,dt.none())])}function p4(i,e,t,...r){i=qe(i,at);const a=qe(i.firestore,Rt),l=Ma(a);let c;return c=typeof(e=kt(e))=="string"||e instanceof _s?$1(l,"updateDoc",i._key,e,t,r):Y1(l,"updateDoc",i._key,e),Pc(a,[c.toMutation(i._key,dt.exists(!0))])}function CR(i){return Pc(qe(i.firestore,Rt),[new yl(i._key,dt.none())])}function DR(i,e){const t=qe(i.firestore,Rt),r=Jf(i),a=xd(i.converter,e);return Pc(t,[bd(Ma(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,dt.exists(!1))]).then((()=>r))}function $6(i,...e){i=kt(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Dp(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Dp(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,c,d;if(i instanceof at)c=qe(i.firestore,Rt),d=gl(i._key.path),l={next:m=>{e[r]&&e[r](n0(c,i,m))},error:e[r+1],complete:e[r+2]};else{const m=qe(i,vn);c=qe(m.firestore,Rt),d=m._query;const p=new Pa(c);l={next:_=>{e[r]&&e[r](new or(c,p,m,_))},error:e[r+1],complete:e[r+2]},F6(i._query)}return(function(p,_,b,w){const C=new _d(w),U=new O1(_,C,b);return p.asyncQueue.enqueueAndForget((async()=>N1(await hl(p),U))),()=>{C.Nu(),p.asyncQueue.enqueueAndForget((async()=>k1(await hl(p),U)))}})(hn(c),d,a,l)}function VR(i,e){return K8(hn(i=qe(i,Rt)),Dp(e)?e:{next:e})}function Pc(i,e){return(function(r,a){const l=new nn;return r.asyncQueue.enqueueAndForget((async()=>E8(await F1(r),a,l))),l.promise})(hn(i),e)}function n0(i,e,t){const r=t.docs.get(e._key),a=new Pa(i);return new Jn(i,a,e._key,r,new _a(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kR=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ma(e)}set(e,t,r){this._verifyNotCommitted();const a=ns(e,this._firestore),l=xd(a.converter,t,r),c=bd(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,dt.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=ns(e,this._firestore);let c;return c=typeof(t=kt(t))=="string"||t instanceof _s?$1(this._dataReader,"WriteBatch.update",l._key,t,r,a):Y1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,dt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ns(e,this._firestore);return this._mutations=this._mutations.concat(new yl(t._key,dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new te(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ns(i,e){if((i=kt(i)).firestore!==e)throw new te(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ma(e)}get(e){const t=ns(e,this._firestore),r=new bR(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return me(24041);const l=a[0];if(l.isFoundDocument())return new gc(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new gc(this._firestore,r,t._key,null,t.converter);throw me(18433,{doc:l})}))}set(e,t,r){const a=ns(e,this._firestore),l=xd(a.converter,t,r),c=bd(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,c),this}update(e,t,r,...a){const l=ns(e,this._firestore);let c;return c=typeof(t=kt(t))=="string"||t instanceof _s?$1(this._dataReader,"Transaction.update",l._key,t,r,a):Y1(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=ns(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR=class extends MR{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ns(e,this._firestore),r=new Pa(this._firestore);return super.get(e).then((a=>new Jn(this._firestore,r,t._key,a._document,new _a(!1,!1),t.converter)))}};function PR(i,e,t){i=qe(i,Rt);const r={...NR,...t};return(function(l){if(l.maxAttempts<1)throw new te(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(l,c,d){const m=new nn;return l.asyncQueue.enqueueAndForget((async()=>{const p=await q8(l);new U8(l.asyncQueue,p,d,c,m).ju()})),m.promise})(hn(i),(a=>e(new OR(i,a))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return new Mc("deleteField")}function LR(){return new H1("serverTimestamp")}function BR(...i){return new G1("arrayUnion",i)}function UR(...i){return new Q1("arrayRemove",i)}function jR(i){return new K1("increment",i)}(function(e,t=!0){(function(a){ml=a})(Kp),Ko(new ba("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Rt(new MS(r.getProvider("auth-internal")),new zS(c,r.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new te(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(p.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ci(Q2,K2,e),ci(Q2,K2,"esm2020")})();const qR="@firebase/firestore-compat",FR="0.4.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(i,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new te("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){if(typeof Uint8Array>"u")throw new te("unimplemented","Uint8Arrays are not available in this environment.")}function _4(){if(!_9())throw new te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pc{constructor(e){this._delegate=e}static fromBase64String(e){return _4(),new pc(un.fromBase64String(e))}static fromUint8Array(e){return y4(),new pc(un.fromUint8Array(e))}toBase64(){return _4(),this._delegate.toBase64()}toUint8Array(){return y4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i){return HR(i,["next","error","complete"])}function HR(i,e){if(typeof i!="object"||i===null)return!1;const t=i;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{enableIndexedDbPersistence(e,t){return eR(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return tR(e._delegate)}clearIndexedDbPersistence(e){return nR(e._delegate)}}class X6{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){X8(this._delegate,e,t,r)}enableNetwork(){return iR(this._delegate)}disableNetwork(){return sR(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,b3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rR(this._delegate)}onSnapshotsInSync(e){return VR(this._delegate,e)}get app(){if(!this._appCompat)throw new te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fl(this,V6(this._delegate,e))}catch(t){throw yn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Zn(this,Jf(this._delegate,e))}catch(t){throw yn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pn(this,Z8(this._delegate,e))}catch(t){throw yn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return PR(this._delegate,t=>e(new Z6(this,t)))}batch(){return hn(this._delegate),new J6(new kR(this._delegate,e=>Pc(this._delegate,e)))}loadBundle(e){return aR(this._delegate,e)}namedQuery(e){return oR(this._delegate,e).then(t=>t?new pn(this,t):null)}}class Id extends t0{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(new un(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Zn.forKey(t,this.firestore,null)}}function QR(i){DS(i)}class Z6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}get(e){const t=va(e);return this._delegate.get(t).then(r=>new yc(this._firestore,new Jn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=va(e);return r?(r0("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=va(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=va(e);return this._delegate.delete(t),this}}class J6{constructor(e){this._delegate=e}set(e,t,r){const a=va(e);return r?(r0("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=va(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=va(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Da{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ju(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _c(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Da.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new Da(e,new Id(e),t),a.set(t,l)),l}}Da.INSTANCES=new WeakMap;class Zn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}static forPath(e,t,r){if(e.length%2!==0)throw new te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Zn(t,new at(t._delegate,r,new le(e)))}static forKey(e,t,r){return new Zn(t,new at(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fl(this.firestore,V6(this._delegate,e))}catch(t){throw yn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=kt(e),e instanceof at?N6(this._delegate,e):!1}set(e,t){t=r0("DocumentReference.set",t);try{return t?g4(this._delegate,e,t):g4(this._delegate,e)}catch(r){throw yn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?p4(this._delegate,e):p4(this._delegate,e,t,...r)}catch(a){throw yn(a,"updateDoc()","DocumentReference.update()")}}delete(){return CR(this._delegate)}onSnapshot(...e){const t=W6(e),r=eb(e,a=>new yc(this.firestore,new Jn(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return $6(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=AR(this._delegate):e?.source==="server"?t=SR(this._delegate):t=wR(this._delegate),t.then(r=>new yc(this.firestore,new Jn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Zn(this.firestore,e?this._delegate.withConverter(Da.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yn(i,e,t){return i.message=i.message.replace(e,t),i}function W6(i){for(const e of i)if(typeof e=="object"&&!Np(e))return e;return{}}function eb(i,e){let t;return Np(i[0])?t=i[0]:Np(i[1])?t=i[1]:typeof i[0]=="function"?t={next:i[0],error:i[1],complete:i[2]}:t={next:i[1],error:i[2],complete:i[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class yc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Zn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Y6(this._delegate,e._delegate)}}class _c extends yc{data(e){const t=this._delegate.data(e);return this._delegate._converter||VS(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class pn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}where(e,t,r){try{return new pn(this.firestore,Ji(this._delegate,dR(e,t,r)))}catch(a){throw yn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pn(this.firestore,Ji(this._delegate,mR(e,t)))}catch(r){throw yn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pn(this.firestore,Ji(this._delegate,gR(e)))}catch(t){throw yn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pn(this.firestore,Ji(this._delegate,pR(e)))}catch(t){throw yn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pn(this.firestore,Ji(this._delegate,yR(...e)))}catch(t){throw yn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pn(this.firestore,Ji(this._delegate,_R(...e)))}catch(t){throw yn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pn(this.firestore,Ji(this._delegate,vR(...e)))}catch(t){throw yn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pn(this.firestore,Ji(this._delegate,ER(...e)))}catch(t){throw yn(t,"endAt()","Query.endAt()")}}isEqual(e){return k6(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=xR(this._delegate):e?.source==="server"?t=IR(this._delegate):t=RR(this._delegate),t.then(r=>new kp(this.firestore,new or(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=W6(e),r=eb(e,a=>new kp(this.firestore,new or(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return $6(this._delegate,t,r)}withConverter(e){return new pn(this.firestore,e?this._delegate.withConverter(Da.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class KR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new _c(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _c(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new _c(this._firestore,r))})}isEqual(e){return Y6(this._delegate,e._delegate)}}class fl extends pn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Zn(this.firestore,e):null}doc(e){try{return e===void 0?new Zn(this.firestore,Jf(this._delegate)):new Zn(this.firestore,Jf(this._delegate,e))}catch(t){throw yn(t,"doc()","CollectionReference.doc()")}}add(e){return DR(this._delegate,e).then(t=>new Zn(this.firestore,t))}isEqual(e){return N6(this._delegate,e._delegate)}withConverter(e){return new fl(this.firestore,e?this._delegate.withConverter(Da.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function va(i){return qe(i,at)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(...e){this._delegate=new _s(...e)}static documentId(){return new i0(ft.keyField().canonicalString())}isEqual(e){return e=kt(e),e instanceof _s?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{static serverTimestamp(){const e=LR();return e._methodName="FieldValue.serverTimestamp",new pa(e)}static delete(){const e=zR();return e._methodName="FieldValue.delete",new pa(e)}static arrayUnion(...e){const t=BR(...e);return t._methodName="FieldValue.arrayUnion",new pa(t)}static arrayRemove(...e){const t=UR(...e);return t._methodName="FieldValue.arrayRemove",new pa(t)}static increment(e){const t=jR(e);return t._methodName="FieldValue.increment",new pa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={Firestore:X6,GeoPoint:ar,Timestamp:Qe,Blob:pc,Transaction:Z6,WriteBatch:J6,DocumentReference:Zn,DocumentSnapshot:yc,Query:pn,QueryDocumentSnapshot:_c,QuerySnapshot:kp,CollectionReference:fl,FieldPath:i0,FieldValue:pa,setLogLevel:QR,CACHE_SIZE_UNLIMITED:W8};function $R(i,e){i.INTERNAL.registerComponent(new ba("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps({...YR}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(i){$R(i,(e,t)=>new X6(e,t,new GR)),i.registerVersion(qR,FR)}XR(cs);const ZR={apiKey:"AIzaSyAj4hbemsnaFT6kaX3uffXiTf93ZdQQeWs",authDomain:"reviews-7bc09.firebaseapp.com",projectId:"reviews-7bc09",storageBucket:"reviews-7bc09.firebasestorage.app",messagingSenderId:"1087527214005",appId:"1:1087527214005:web:b08ba8e386994a1e3017fc",measurementId:"G-9503YFZX7X"};cs.apps.length||cs.initializeApp(ZR);const JR=cs.firestore(),WR=()=>{const[i,e]=$.useState({name:"",email:"",message:""}),[t,r]=$.useState(""),[a,l]=$.useState("text-gray-700"),c=m=>{e({...i,[m.target.name]:m.target.value})},d=async m=>{m.preventDefault();const{name:p,email:_,message:b}=i;if(!p||!_||!b){r("Please fill in all fields."),l("text-red-600");return}try{await JR.collection("contacts").add({name:p,email:_,message:b,date:new Date().toISOString()}),r("Message sent successfully. Thank you!"),l("text-green-600"),e({name:"",email:"",message:""})}catch(w){console.error("Error sending message:",w),r("There was an error sending your message. Please try again."),l("text-gray-700")}};return N.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex items-center justify-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsxs("div",{className:"relative z-10 w-full max-w-3xl px-6 py-16 md:py-20 flex flex-col items-center",children:[N.jsx("h2",{className:"text-4xl font-extrabold mb-4 text-center text-sky-400",children:"Contact Me"}),N.jsx("p",{className:"text-gray-300 text-center mb-12",children:"Have a question or want to work together? Fill out the form below and I’ll get back to you as soon as possible."}),N.jsxs("form",{onSubmit:d,className:"flex flex-col gap-6 bg-gray-800 p-8 rounded-2xl shadow-2xl backdrop-blur-md w-full",children:[N.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[N.jsx(Tw,{className:"text-gray-300"}),N.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),N.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[N.jsx(Ew,{className:"text-gray-300"}),N.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:i.email,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),N.jsxs("div",{className:"flex items-start gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[N.jsx(vw,{className:"text-gray-300 mt-2"}),N.jsx("textarea",{name:"message",placeholder:"Your Message",rows:6,value:i.message,onChange:c,className:"bg-transparent text-white w-full focus:outline-none resize-none",required:!0})]}),N.jsx("button",{type:"submit",className:"bg-sky-500 hover:bg-sky-400 font-medium py-3 rounded-xl transition-transform duration-300 transform hover:scale-105",children:"Send Message"})]}),t&&N.jsx("p",{className:`mt-6 text-center ${a} font-medium`,children:t})]})]})},v4=["https://kiuliumov.github.io/portfolioV2/images/programming-cert.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert2.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert3.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert4.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert5.png","https://kiuliumov.github.io/portfolioV2/images/orm-certificate.png","https://kiuliumov.github.io/portfolioV2/images/django.png","https://kiuliumov.github.io/portfolioV2/images/programming-cert6.jpg","https://kiuliumov.github.io/portfolioV2/images/programming-cert7.jpg","https://kiuliumov.github.io/portfolioV2/images/programming-cert8.jpg"],ex=()=>N.jsxs("div",{className:"relative min-h-screen bg-gray-900 text-white flex flex-col",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsxs("div",{className:"py-12 text-center relative z-10",children:[N.jsx("h1",{className:"text-6xl md:text-7xl font-extrabold mt-20 bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 bg-clip-text text-transparent drop-shadow-lg",children:"My Certifications"}),N.jsx("div",{className:"mt-4 h-1 w-24 mx-auto bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 rounded-full animate-pulse"}),N.jsx("p",{className:"text-gray-300 mt-6 text-xl md:text-2xl",children:"Showcasing achievements and skills"})]}),N.jsx("div",{className:"flex-1 flex items-center overflow-hidden py-20 relative z-10",children:N.jsx("div",{className:"w-full",children:N.jsx("div",{className:"flex animate-marquee gap-12",children:v4.concat(v4).map((i,e)=>N.jsx("img",{src:i,alt:`Certificate ${e+1}`,className:"h-96 md:h-[28rem] lg:h-[32rem] object-contain rounded-xl shadow-2xl flex-shrink-0"},e))})})}),N.jsx("style",{children:`
        @keyframes marquee {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }
        .animate-marquee {
          display: flex;
          gap: 3rem;
          width: max-content;
          animation: marquee 19s linear infinite;
        }
      `})]}),tx=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"],nx=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"];class rx{list=[];exclude=[];placeHolder="*";regex=/[^a-zA-Z0-9|$|@]|\^/g;replaceRegex=/\w/g;splitRegex=/\b|_/g;constructor(e={}){Object.assign(this,{list:e.emptyList&&[]||Array.prototype.concat.apply(tx,[nx,e.list||[]]),exclude:e.exclude||[],splitRegex:e.splitRegex||/\b|_/g,placeHolder:e.placeHolder||"*",regex:e.regex||/[^a-zA-Z0-9|$|@]|\^/g,replaceRegex:e.replaceRegex||/\w/g})}isProfane(e){return this.list.filter(t=>{const r=new RegExp(`\\b${t.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(t.toLowerCase())&&r.test(e)}).length>0||!1}replaceWord(e){return e.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(e){const t=this.splitRegex.exec(e);return!e||!t?e:e.split(this.splitRegex).map(r=>this.isProfane(r)?this.replaceWord(r):r).join(t[0])}addWords(...e){this.list.push(...e),e.map(t=>t.toLowerCase()).forEach(t=>{this.exclude.includes(t)&&this.exclude.splice(this.exclude.indexOf(t),1)})}removeWords(...e){this.exclude.push(...e.map(t=>t.toLowerCase()))}}const ix={apiKey:"AIzaSyAj4hbemsnaFT6kaX3uffXiTf93ZdQQeWs",authDomain:"reviews-7bc09.firebaseapp.com",projectId:"reviews-7bc09",storageBucket:"reviews-7bc09.firebasestorage.app",messagingSenderId:"1087527214005",appId:"1:1087527214005:web:b08ba8e386994a1e3017fc",measurementId:"G-9503YFZX7X"};cs.apps.length||cs.initializeApp(ix);const Zg=cs.firestore(),Jg=5,E4=new rx,sx=()=>{const[i,e]=$.useState([]),[t,r]=$.useState({name:"",rating:"",comment:""}),[a,l]=$.useState(""),[c,d]=$.useState("text-gray-700"),[m,p]=$.useState("date-desc"),[_,b]=$.useState([]),[w,C]=$.useState(null),[U,K]=$.useState(null),j=fe=>{r({...t,[fe.target.name]:fe.target.value})},se=async fe=>{fe.preventDefault();const{name:ue,rating:_e,comment:D}=t;if(!ue||!_e||!D){l("Please fill in all fields."),d("text-red-600");return}if(E4.isProfane(ue)||E4.isProfane(D)){l("Please avoid using inappropriate language."),d("text-red-600");return}try{const S={name:ue,rating:parseInt(_e),comment:D,date:new Date().toISOString().split("T")[0],verified:!1};await Zg.collection("reviews").add(S),l("Thank you for your review!"),d("text-green-500"),r({name:"",rating:"",comment:""}),b([]),ne("first")}catch(S){console.error("Error submitting review:",S),l("Error submitting review."),d("text-red-600")}},W=fe=>{switch(fe){case"date-asc":return["date","asc"];case"date-desc":return["date","desc"];case"rating-asc":return["rating","asc"];case"rating-desc":return["rating","desc"];default:return["date","desc"]}},ne=async(fe="first")=>{const[ue,_e]=W(m);let D=Zg.collection("reviews").orderBy(ue,_e).limit(Jg);if(fe==="next"&&U)D=D.startAfter(U);else if(fe==="prev"&&w&&_.length>1){const S=[..._];S.pop();const R=S[S.length-1];D=Zg.collection("reviews").orderBy(ue,_e).startAt(R).limit(Jg),b(S)}else fe==="first"&&b([]);try{const S=await D.get();if(S.empty){e([]);return}const R=S.docs.map(M=>({id:M.id,...M.data()}));e(R),C(S.docs[0]),K(S.docs[S.docs.length-1]),fe==="first"&&b([S.docs[0]]),fe==="next"&&b(M=>[...M,S.docs[0]])}catch(S){console.error("Error loading reviews:",S)}};return $.useEffect(()=>{ne("first")},[m]),N.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center py-16 px-6",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/20 via-sky-500/20 to-indigo-700/20 blur-3xl pointer-events-none"}),N.jsxs("div",{className:"relative z-10 w-full max-w-6xl flex flex-col items-center",children:[N.jsx("h2",{className:"text-4xl font-extrabold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-purple-400",children:"Customer Reviews"}),N.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-8 h-[80vh] lg:h-[70vh]",children:[N.jsx("div",{className:"flex items-center justify-center w-full lg:w-1/2",children:N.jsxs("form",{onSubmit:se,className:"flex flex-col gap-6 bg-gradient-to-br from-gray-800 to-gray-700 p-8 rounded-3xl shadow-2xl w-full max-w-md",children:[N.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:t.name,onChange:j,className:"bg-gray-900 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 text-white w-full"}),N.jsxs("select",{name:"rating",value:t.rating,onChange:j,className:"bg-gray-900 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 text-white w-full",children:[N.jsx("option",{value:"",children:"Select rating"}),N.jsx("option",{value:"1",children:"1 - Poor"}),N.jsx("option",{value:"2",children:"2 - Fair"}),N.jsx("option",{value:"3",children:"3 - Good"}),N.jsx("option",{value:"4",children:"4 - Very Good"}),N.jsx("option",{value:"5",children:"5 - Excellent"})]}),N.jsx("textarea",{name:"comment",placeholder:"Your Review",rows:5,value:t.comment,onChange:j,className:"bg-gray-900 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-purple-500 text-white w-full resize-none"}),N.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-500 to-sky-500 hover:from-sky-500 hover:to-purple-500 font-medium py-3 rounded-xl transition-transform duration-300 transform hover:scale-105 text-white",children:"Submit Review"}),a&&N.jsx("p",{className:`mt-2 text-center ${c} font-medium`,children:a})]})}),N.jsxs("div",{className:"flex-1 flex flex-col h-full bg-gradient-to-br from-gray-800 to-gray-700 rounded-3xl shadow-inner overflow-hidden",children:[N.jsxs("div",{className:"flex justify-center items-center gap-2 p-2 bg-gradient-to-r from-gray-800 to-gray-700 border-b border-gray-700",children:[N.jsx("label",{className:"text-purple-400 font-semibold",htmlFor:"sortSelect",children:"Sort by:"}),N.jsxs("select",{id:"sortSelect",value:m,onChange:fe=>p(fe.target.value),className:"bg-gray-900 rounded-md p-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[N.jsx("option",{value:"date-desc",children:"Date: Newest first"}),N.jsx("option",{value:"date-asc",children:"Date: Oldest first"}),N.jsx("option",{value:"rating-desc",children:"Rating: High to Low"}),N.jsx("option",{value:"rating-asc",children:"Rating: Low to High"})]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col gap-4",children:[i.length===0&&N.jsx("p",{className:"text-gray-400 text-center mt-4",children:"No reviews found."}),i.map(fe=>N.jsxs("div",{className:"bg-gray-900 p-5 rounded-xl shadow-md border border-gray-700",children:[N.jsxs("h3",{className:"font-semibold text-lg",children:[fe.name," ",N.jsxs("small",{className:"text-gray-400 text-sm",children:["(",fe.date,")"]})]}),N.jsxs("p",{children:["Rating: ","⭐".repeat(fe.rating)," (",fe.rating,"/5)"]}),N.jsx("p",{children:fe.comment})]},fe.id)),N.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[N.jsx("button",{onClick:()=>ne("prev"),className:"bg-gray-700 px-4 py-2 rounded-md disabled:opacity-50",disabled:_.length<=1,children:"Previous"}),N.jsx("button",{onClick:()=>ne("next"),className:"bg-gray-700 px-4 py-2 rounded-md disabled:opacity-50",disabled:i.length<Jg,children:"Next"})]})]})]})]})]})]})},ax=[{name:"CantinaShop",description:"A Django-based e-commerce app for online shopping.",github:"https://github.com/Kiuliumov/CantinaShop",image:"https://kiuliumov.github.io/images/cantinashoplogo.jpg"},{name:"GDBOT",description:"A Geometry Dash Discord bot to track scores and levels.",github:"https://github.com/Kiuliumov/GDBOT",image:"https://kiuliumov.github.io/images/gd.png"},{name:"CasinoBot",description:"A casino-themed Discord bot with games and betting features.",github:"https://github.com/Kiuliumov/CasinoBot",image:"https://kiuliumov.github.io/images/casino.png"},{name:"nationalHeroes",description:"A QR code-based information portal for learning about national heroes.",github:"https://github.com/Kiuliumov/nationalHero",image:"https://kiuliumov.github.io/portfolioV2/images/code.png"},{name:"EventManager",description:"Software built for internship at Nemetscheck summer 2025 to manage events efficiently.",github:"https://github.com/AusP3r1sh/EventManagerNemetschek",image:"https://kiuliumov.github.io/portfolioV2/images/nemcheck.png"},{name:"MacroMaster",description:"A macro management system to automate repetitive tasks and optimize workflow.",github:"https://github.com/Kiuliumov/MacroMaster",image:"https://github.com/Kiuliumov/MacroMaster/blob/main/client/MacroMaster/src/assets/MacroMaster.png?raw=true"}],ox=()=>N.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:[N.jsx("h1",{className:"text-5xl font-extrabold mb-2 text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-sky-400 animate-fadeInUp",children:"My Projects"}),N.jsxs("p",{className:"text-gray-400 text-center mb-12",children:["This website is built with ",N.jsx("span",{className:"text-sky-400 font-semibold",children:"React + TypeScript"})]}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 animate-fadeInUp",children:ax.map((i,e)=>N.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-3xl shadow-2xl hover:shadow-sky-500/50 transition-shadow duration-300 flex flex-col justify-between",children:[i.image&&N.jsx("img",{src:i.image,alt:i.name,className:"w-full h-40 object-cover rounded-2xl mb-4 transition-transform duration-300 transform hover:scale-105"}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-xl font-semibold text-sky-400 mb-2",children:i.name}),N.jsx("p",{className:"text-gray-300 leading-relaxed",children:i.description})]}),N.jsx("div",{className:"pt-4",children:N.jsxs("a",{href:i.github,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-900 hover:bg-sky-500 rounded-lg text-white font-medium transition-transform duration-300 transform hover:scale-105 mt-4",children:[N.jsx(Fo,{})," View on GitHub"]})})]},e))}),N.jsx("div",{className:"pt-16 flex justify-center",children:N.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gradient-to-r from-purple-500 to-sky-500 hover:from-sky-500 hover:to-purple-500 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[N.jsx(Fo,{})," Explore All Projects"]})})]})]}),lx=()=>{const i=[{icon:N.jsx(j4,{size:20}),href:"https://linkedin.com/Kiuliumov"},{icon:N.jsx(q4,{size:20}),href:"https://x.com/DKiuliumov"},{icon:N.jsx(Fo,{size:20}),href:"https://github.com/Kiuliumov"}];return N.jsx("footer",{className:"bg-gray-900 text-gray-400 px-4 py-4 w-full",children:N.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[N.jsx("div",{className:"flex items-center gap-2",children:N.jsx("img",{src:"https://kiuliumov.github.io/images/The cantina logo.png",alt:"The Cantina",className:"w-28"})}),N.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," The Cantina. All rights reserved."]}),N.jsx("div",{className:"flex items-center gap-4",children:i.map((e,t)=>N.jsx("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"w-10 h-10 border border-gray-700 rounded-full flex items-center justify-center text-gray-400 hover:text-sky-400 hover:border-sky-400 transition-all duration-300",children:e.icon},t))})]})})},ux=()=>{const i=V4();return N.jsxs("section",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white px-6 text-center overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),N.jsx("h1",{className:"text-9xl font-extrabold text-sky-500 animate-pulse relative z-10",children:"404"}),N.jsx("h2",{className:"text-3xl md:text-4xl font-bold mt-6 animate-fadeIn relative z-10",children:"Page Not Found"}),N.jsx("p",{className:"text-gray-400 mt-2 max-w-md animate-fadeIn delay-100 relative z-10",children:"Oops! The page you’re looking for doesn’t exist or has been moved."}),N.jsxs("button",{onClick:()=>i("/"),className:"mt-8 px-6 py-3 bg-sky-500 hover:bg-sky-400 rounded-lg flex items-center gap-2 font-medium transition-transform transform hover:scale-105 relative z-10",children:[N.jsx(bw,{})," Go Home"]})]})};function cx(){return N.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[N.jsx(iw,{}),N.jsx("main",{className:"flex-grow",children:N.jsxs(S5,{children:[N.jsx(Wi,{path:"/",element:N.jsx(Lw,{})}),N.jsx(Wi,{path:"/about",element:N.jsx(Bw,{})}),N.jsx(Wi,{path:"/contact",element:N.jsx(WR,{})}),N.jsx(Wi,{path:"/certifications",element:N.jsx(ex,{})}),N.jsx(Wi,{path:"/reviews",element:N.jsx(sx,{})}),N.jsx(Wi,{path:"/projects",element:N.jsx(ox,{})}),N.jsx(Wi,{path:"*",element:N.jsx(ux,{})})]})}),N.jsx(lx,{})]})}OT.createRoot(document.getElementById("root")).render(N.jsx(rs.StrictMode,{children:N.jsx(Y5,{children:N.jsx(cx,{})})}));
