(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function g4(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rg={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function wT(){if(c_)return Nu;c_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Nu.Fragment=e,Nu.jsx=t,Nu.jsxs=t,Nu}var h_;function AT(){return h_||(h_=1,Rg.exports=wT()),Rg.exports}var k=AT(),Ig={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function ST(){if(f_)return Ce;f_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,Y={};function H(V,ne,de){this.props=V,this.context=ne,this.refs=Y,this.updater=de||D}H.prototype.isReactComponent={},H.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ie(){}ie.prototype=H.prototype;function te(V,ne,de){this.props=V,this.context=ne,this.refs=Y,this.updater=de||D}var se=te.prototype=new ie;se.constructor=te,G(se,H.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function C(V,ne,de,ue,_e,Pe){return de=Pe.ref,{$$typeof:i,type:V,key:ne,ref:de!==void 0?de:null,props:Pe}}function S(V,ne){return C(V.type,ne,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function O(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return ne[de]})}var N=/\/+/g;function L(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):ne.toString(36)}function x(){}function yt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ut(V,ne,de,ue,_e){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=V._init,ut(Ae(V._payload),ne,de,ue,_e)}}if(Ae)return _e=_e(V),Ae=ue===""?"."+L(V,0):ue,Ee(_e)?(de="",Ae!=null&&(de=Ae.replace(N,"$&/")+"/"),ut(_e,ne,de,"",function(Jn){return Jn})):_e!=null&&(I(_e)&&(_e=S(_e,de+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+Ae)),ne.push(_e)),1;Ae=0;var Qt=ue===""?".":ue+":";if(Ee(V))for(var Ze=0;Ze<V.length;Ze++)ue=V[Ze],Pe=Qt+L(ue,Ze),Ae+=ut(ue,ne,de,Pe,_e);else if(Ze=w(V),typeof Ze=="function")for(V=Ze.call(V),Ze=0;!(ue=V.next()).done;)ue=ue.value,Pe=Qt+L(ue,Ze++),Ae+=ut(ue,ne,de,Pe,_e);else if(Pe==="object"){if(typeof V.then=="function")return ut(yt(V),ne,de,ue,_e);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(V,ne,de){if(V==null)return V;var ue=[],_e=0;return ut(V,ue,"","",function(Pe){return ne.call(de,Pe,_e++)}),ue}function he(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ue(){}return Ce.Children={map:$,forEach:function(V,ne,de){$(V,function(){ne.apply(this,arguments)},de)},count:function(V){var ne=0;return $(V,function(){ne++}),ne},toArray:function(V){return $(V,function(ne){return ne})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ce.Component=H,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=te,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ce.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cloneElement=function(V,ne,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=G({},V.props),_e=V.key,Pe=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(Pe=void 0),ne.key!==void 0&&(_e=""+ne.key),ne)!Te.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(ue[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=de;else if(1<Ae){for(var Qt=Array(Ae),Ze=0;Ze<Ae;Ze++)Qt[Ze]=arguments[Ze+2];ue.children=Qt}return C(V.type,_e,void 0,void 0,Pe,ue)},Ce.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ce.createElement=function(V,ne,de){var ue,_e={},Pe=null;if(ne!=null)for(ue in ne.key!==void 0&&(Pe=""+ne.key),ne)Te.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=ne[ue]);var Ae=arguments.length-2;if(Ae===1)_e.children=de;else if(1<Ae){for(var Qt=Array(Ae),Ze=0;Ze<Ae;Ze++)Qt[Ze]=arguments[Ze+2];_e.children=Qt}if(V&&V.defaultProps)for(ue in Ae=V.defaultProps,Ae)_e[ue]===void 0&&(_e[ue]=Ae[ue]);return C(V,Pe,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:d,render:V}},Ce.isValidElement=I,Ce.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:he}},Ce.memo=function(V,ne){return{$$typeof:p,type:V,compare:ne===void 0?null:ne}},Ce.startTransition=function(V){var ne=ce.T,de={};ce.T=de;try{var ue=V(),_e=ce.S;_e!==null&&_e(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ue,ve)}catch(Pe){ve(Pe)}finally{ce.T=ne}},Ce.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ce.use=function(V){return ce.H.use(V)},Ce.useActionState=function(V,ne,de){return ce.H.useActionState(V,ne,de)},Ce.useCallback=function(V,ne){return ce.H.useCallback(V,ne)},Ce.useContext=function(V){return ce.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,ne){return ce.H.useDeferredValue(V,ne)},Ce.useEffect=function(V,ne,de){var ue=ce.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(V,ne)},Ce.useId=function(){return ce.H.useId()},Ce.useImperativeHandle=function(V,ne,de){return ce.H.useImperativeHandle(V,ne,de)},Ce.useInsertionEffect=function(V,ne){return ce.H.useInsertionEffect(V,ne)},Ce.useLayoutEffect=function(V,ne){return ce.H.useLayoutEffect(V,ne)},Ce.useMemo=function(V,ne){return ce.H.useMemo(V,ne)},Ce.useOptimistic=function(V,ne){return ce.H.useOptimistic(V,ne)},Ce.useReducer=function(V,ne,de){return ce.H.useReducer(V,ne,de)},Ce.useRef=function(V){return ce.H.useRef(V)},Ce.useState=function(V){return ce.H.useState(V)},Ce.useSyncExternalStore=function(V,ne,de){return ce.H.useSyncExternalStore(V,ne,de)},Ce.useTransition=function(){return ce.H.useTransition()},Ce.version="19.1.1",Ce}var d_;function xp(){return d_||(d_=1,Ig.exports=ST()),Ig.exports}var J=xp();const as=g4(J);var xg={exports:{}},Mu={},Cg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function RT(){return m_||(m_=1,(function(i){function e($,he){var ve=$.length;$.push(he);e:for(;0<ve;){var Ue=ve-1>>>1,V=$[Ue];if(0<a(V,he))$[Ue]=he,$[ve]=V,ve=Ue;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var he=$[0],ve=$.pop();if(ve!==he){$[0]=ve;e:for(var Ue=0,V=$.length,ne=V>>>1;Ue<ne;){var de=2*(Ue+1)-1,ue=$[de],_e=de+1,Pe=$[_e];if(0>a(ue,ve))_e<V&&0>a(Pe,ue)?($[Ue]=Pe,$[_e]=ve,Ue=_e):($[Ue]=ue,$[de]=ve,Ue=de);else if(_e<V&&0>a(Pe,ve))$[Ue]=Pe,$[_e]=ve,Ue=_e;else break e}}return he}function a($,he){var ve=$.sortIndex-he.sortIndex;return ve!==0?ve:$.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var g=[],p=[],_=1,T=null,w=3,D=!1,G=!1,Y=!1,H=!1,ie=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ee($){for(var he=t(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=$)r(p),he.sortIndex=he.expirationTime,e(g,he);else break;he=t(p)}}function ce($){if(Y=!1,Ee($),!G)if(t(g)!==null)G=!0,Te||(Te=!0,L());else{var he=t(p);he!==null&&ut(ce,he.startTime-$)}}var Te=!1,C=-1,S=5,I=-1;function O(){return H?!0:!(i.unstable_now()-I<S)}function N(){if(H=!1,Te){var $=i.unstable_now();I=$;var he=!0;try{e:{G=!1,Y&&(Y=!1,te(C),C=-1),D=!0;var ve=w;try{t:{for(Ee($),T=t(g);T!==null&&!(T.expirationTime>$&&O());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,w=T.priorityLevel;var V=Ue(T.expirationTime<=$);if($=i.unstable_now(),typeof V=="function"){T.callback=V,Ee($),he=!0;break t}T===t(g)&&r(g),Ee($)}else r(g);T=t(g)}if(T!==null)he=!0;else{var ne=t(p);ne!==null&&ut(ce,ne.startTime-$),he=!1}}break e}finally{T=null,w=ve,D=!1}he=void 0}}finally{he?L():Te=!1}}}var L;if(typeof se=="function")L=function(){se(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,yt=x.port2;x.port1.onmessage=N,L=function(){yt.postMessage(null)}}else L=function(){ie(N,0)};function ut($,he){C=ie(function(){$(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var ve=w;w=he;try{return $()}finally{w=ve}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ve=w;w=$;try{return he()}finally{w=ve}},i.unstable_scheduleCallback=function($,he,ve){var Ue=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ue+ve:Ue):ve=Ue,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ve+V,$={id:_++,callback:he,priorityLevel:$,startTime:ve,expirationTime:V,sortIndex:-1},ve>Ue?($.sortIndex=ve,e(p,$),t(g)===null&&$===t(p)&&(Y?(te(C),C=-1):Y=!0,ut(ce,ve-Ue))):($.sortIndex=V,e(g,$),G||D||(G=!0,Te||(Te=!0,L()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var he=w;return function(){var ve=w;w=he;try{return $.apply(this,arguments)}finally{w=ve}}}})(Dg)),Dg}var g_;function IT(){return g_||(g_=1,Cg.exports=RT()),Cg.exports}var Vg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function xT(){if(p_)return sn;p_=1;var i=xp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:p,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,_)},sn.flushSync=function(g){var p=c.T,_=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=_,r.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):_==="script"&&r.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);r.d.L(g,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=d(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},sn.requestFormReset=function(g){r.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,_){return c.H.useFormState(g,p,_)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.1.1",sn}var y_;function CT(){if(y_)return Vg.exports;y_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vg.exports=xT(),Vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function DT(){if(__)return Mu;__=1;var i=IT(),e=xp(),t=CT();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===u)return d(f),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=m;break}if(b===u){E=!0,u=f,o=m;break}b=b.sibling}if(!E){for(b=m.child;b;){if(b===o){E=!0,o=m,u=f;break}if(b===u){E=!0,u=m,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function yt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case G:return"Fragment";case H:return"Profiler";case Y:return"StrictMode";case ce:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case se:return(n.displayName||"Context")+".Provider";case te:return(n._context.displayName||"Context")+".Consumer";case Ee:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:yt(n.type)||"Memo";case S:s=n._payload,n=n._init;try{return yt(n(s))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Ue=[],V=-1;function ne(n){return{current:n}}function de(n){0>V||(n.current=Ue[V],Ue[V]=null,V--)}function ue(n,s){V++,Ue[V]=n.current,n.current=s}var _e=ne(null),Pe=ne(null),Ae=ne(null),Qt=ne(null);function Ze(n,s){switch(ue(Ae,s),ue(Pe,n),ue(_e,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?z2(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=z2(s),n=B2(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(_e),ue(_e,n)}function Jn(){de(_e),de(Pe),de(Ae)}function Rl(n){n.memoizedState!==null&&ue(Qt,n);var s=_e.current,o=B2(s,n.type);s!==o&&(ue(Pe,n),ue(_e,o))}function Ua(n){Pe.current===n&&(de(_e),de(Pe)),Qt.current===n&&(de(Qt),Iu._currentValue=ve)}var ja=Object.prototype.hasOwnProperty,Rs=i.unstable_scheduleCallback,qa=i.unstable_cancelCallback,Id=i.unstable_shouldYield,Il=i.unstable_requestPaint,En=i.unstable_now,jc=i.unstable_getCurrentPriorityLevel,Pt=i.unstable_ImmediatePriority,Ut=i.unstable_UserBlockingPriority,Lr=i.unstable_NormalPriority,xd=i.unstable_LowPriority,xl=i.unstable_IdlePriority,Cd=i.log,Is=i.unstable_setDisableYieldValue,pi=null,tn=null;function zn(n){if(typeof Cd=="function"&&Is(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(pi,n)}catch{}}var hn=Math.clz32?Math.clz32:Fc,Dd=Math.log,qc=Math.LN2;function Fc(n){return n>>>=0,n===0?32:31-(Dd(n)/qc|0)|0}var mr=256,yi=4194304;function Wn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bn(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?f=Wn(u):(E&=b,E!==0?f=Wn(E):o||(o=b&~n,o!==0&&(f=Wn(o))))):(b=u&~m,b!==0?f=Wn(b):E!==0?f=Wn(E):o||(o=u&~n,o!==0&&(f=Wn(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function _i(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Fa(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var n=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),n}function vi(){var n=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),n}function Ha(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Tt(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Hc(n,s,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,R=n.expirationTimes,j=n.hiddenUpdates;for(o=E&~o;0<o;){var X=31-hn(o),W=1<<X;b[X]=0,R[X]=-1;var q=j[X];if(q!==null)for(j[X]=null,X=0;X<q.length;X++){var F=q[X];F!==null&&(F.lane&=-536870913)}o&=~W}u!==0&&Ei(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~s))}function Ei(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-hn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Ti(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-hn(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Dl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Vl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zr(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:i_(n.type))}function Vd(n,s){var o=he.p;try{return he.p=n,s()}finally{he.p=o}}var gr=Math.random().toString(36).slice(2),bt="__reactFiber$"+gr,Yt="__reactProps$"+gr,Br="__reactContainer$"+gr,xs="__reactEvents$"+gr,Cs="__reactListeners$"+gr,Nd="__reactHandles$"+gr,er="__reactResources$"+gr,bi="__reactMarker$"+gr;function Ga(n){delete n[bt],delete n[Yt],delete n[xs],delete n[Cs],delete n[Nd]}function pr(n){var s=n[bt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Br]||o[bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=F2(n);n!==null;){if(o=n[bt])return o;n=F2(n)}return s}n=o,o=n.parentNode}return null}function yr(n){if(n=n[bt]||n[Br]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function wi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ai(n){var s=n[er];return s||(s=n[er]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(n){n[bi]=!0}var Gc=new Set,Ds={};function _r(n,s){vr(n,s),vr(n+"Capture",s)}function vr(n,s){for(Ds[n]=s,n=0;n<s.length;n++)Gc.add(s[n])}var Vs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Er={},Ka={};function Md(n){return ja.call(Ka,n)?!0:ja.call(Er,n)?!1:Vs.test(n)?Ka[n]=!0:(Er[n]=!0,!1)}function Ns(n,s,o){if(Md(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Ms(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Un(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var Os,Qa;function Ur(n){if(Os===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Os=s&&s[1]||"",Qa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+n+Qa}var Ya=!1;function $a(n,s){if(!n||Ya)return"";Ya=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var q=F}Reflect.construct(n,[],W)}else{try{W.call()}catch(F){q=F}n.call(W.prototype)}}else{try{throw Error()}catch(F){q=F}(W=n())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],b=m[1];if(E&&b){var R=E.split(`
`),j=b.split(`
`);for(f=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===R.length||f===j.length)for(u=R.length-1,f=j.length-1;1<=u&&0<=f&&R[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(R[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||R[u]!==j[f]){var X=`
`+R[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{Ya=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ur(o):""}function Od(n){switch(n.tag){case 26:case 27:case 5:return Ur(n.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return $a(n.type,!1);case 11:return $a(n.type.render,!1);case 1:return $a(n.type,!0);case 31:return Ur("Activity");default:return""}}function tr(n){try{var s="";do s+=Od(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function mt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Si(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ps(n){var s=Si(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ri(n){n._valueTracker||(n._valueTracker=Ps(n))}function Je(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Si(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function jr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ks=/[\n"\\]/g;function jt(n){return n.replace(ks,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nl(n,s,o,u,f,m,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+mt(s)):n.value!==""+mt(s)&&(n.value=""+mt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ol(n,E,mt(s)):o!=null?Ol(n,E,mt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+mt(b):n.removeAttribute("name")}function Ml(n,s,o,u,f,m,E,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+mt(o):"",s=s!=null?""+mt(s):o,b||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ol(n,s,o){s==="number"&&jr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ii(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+mt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Kc(n,s,o){if(s!=null&&(s=""+mt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+mt(o):""}function Qc(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ut(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=mt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function jn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||qr.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function kl(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Pl(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Pl(n,m,s[m])}function Xa(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(n){return $c.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ll=null;function zl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xi=null,fn=null;function Xc(n){var s=yr(n);if(s&&(n=s.stateNode)){var o=n[Yt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Nl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Yt]||null;if(!f)throw Error(r(90));Nl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Je(u)}break e;case"textarea":Kc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ii(n,!!o.multiple,s,!1)}}}var Ls=!1;function zs(n,s,o){if(Ls)return n(s,o);Ls=!0;try{var u=n(s);return u}finally{if(Ls=!1,(xi!==null||fn!==null)&&(Bh(),xi&&(s=xi,n=fn,fn=xi=null,Xc(s),n)))for(s=0;s<n.length;s++)Xc(n[s])}}function Ci(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Yt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(dn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Fr=!1}var qn=null,rt=null,Za=null;function Zc(){if(Za)return Za;var n,s=rt,o=s.length,u,f="value"in qn?qn.value:qn.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return Za=f.slice(n,1<u?1-u:void 0)}function Bs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Us(){return!0}function Bl(){return!1}function kt(n){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Us:Bl,this.isPropagationStopped=Bl,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),s}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=kt(nn),qs=_({},nn,{view:0,detail:0}),Fs=kt(qs),Ja,Hs,Tr,Gs=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Tr&&(Tr&&n.type==="mousemove"?(Ja=n.screenX-Tr.screenX,Hs=n.screenY-Tr.screenY):Hs=Ja=0,Tr=n),Ja)},movementY:function(n){return"movementY"in n?n.movementY:Hs}}),Ks=kt(Gs),Pd=_({},Gs,{dataTransfer:0}),Jc=kt(Pd),Qs=_({},qs,{relatedTarget:0}),Wa=kt(Qs),Wc=_({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ul=kt(Wc),jl=_({},nn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eh=kt(jl),eo=_({},nn,{data:0}),ql=kt(eo),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=nh[n])?!!s[n]:!1}function to(){return rh}var ih=_({},qs,{key:function(n){if(n.key){var s=th[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Bs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hr[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(n){return n.type==="keypress"?Bs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),no=kt(ih),mn=_({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=kt(mn),sh=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),Vi=kt(sh),h=_({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=kt(h),v=_({},Gs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A=kt(v),U=_({},nn,{newState:0,oldState:0}),Q=kt(U),ae=[9,13,27,32],Ie=dn&&"CompositionEvent"in window,ot=null;dn&&"documentMode"in document&&(ot=document.documentMode);var Ge=dn&&"TextEvent"in window&&!ot,At=dn&&(!Ie||ot&&8<ot&&11>=ot),In=" ",br=!1;function rr(n,s){switch(n){case"keyup":return ae.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ir(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var sr=!1;function Hl(n,s){switch(n){case"compositionend":return ir(s);case"keypress":return s.which!==32?null:(br=!0,In);case"textInput":return n=s.data,n===In&&br?null:n;default:return null}}function X6(n,s){if(sr)return n==="compositionend"||!Ie&&rr(n,s)?(n=Zc(),Za=rt=qn=null,sr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return At&&s.locale!=="ko"?null:s.data;default:return null}}var Z6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Z6[n.type]:s==="textarea"}function W1(n,s,o,u){xi?fn?fn.push(u):fn=[u]:xi=u,s=Gh(s,"onChange"),0<s.length&&(o=new js("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Gl=null,Kl=null;function J6(n){M2(n,0)}function ah(n){var s=wi(n);if(Je(s))return n}function e0(n,s){if(n==="change")return s}var t0=!1;if(dn){var kd;if(dn){var Ld="oninput"in document;if(!Ld){var n0=document.createElement("div");n0.setAttribute("oninput","return;"),Ld=typeof n0.oninput=="function"}kd=Ld}else kd=!1;t0=kd&&(!document.documentMode||9<document.documentMode)}function r0(){Gl&&(Gl.detachEvent("onpropertychange",i0),Kl=Gl=null)}function i0(n){if(n.propertyName==="value"&&ah(Kl)){var s=[];W1(s,Kl,n,zl(n)),zs(J6,s)}}function W6(n,s,o){n==="focusin"?(r0(),Gl=s,Kl=o,Gl.attachEvent("onpropertychange",i0)):n==="focusout"&&r0()}function e5(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ah(Kl)}function t5(n,s){if(n==="click")return ah(s)}function n5(n,s){if(n==="input"||n==="change")return ah(s)}function r5(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var xn=typeof Object.is=="function"?Object.is:r5;function Ql(n,s){if(xn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ja.call(s,f)||!xn(n[f],s[f]))return!1}return!0}function s0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function a0(n,s){var o=s0(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=s0(o)}}function o0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?o0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function l0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=jr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=jr(n.document)}return s}function zd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var i5=dn&&"documentMode"in document&&11>=document.documentMode,ro=null,Bd=null,Yl=null,Ud=!1;function u0(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ud||ro==null||ro!==jr(u)||(u=ro,"selectionStart"in u&&zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yl&&Ql(Yl,u)||(Yl=u,u=Gh(Bd,"onSelect"),0<u.length&&(s=new js("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=ro)))}function Ys(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var io={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},jd={},c0={};dn&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function $s(n){if(jd[n])return jd[n];if(!io[n])return n;var s=io[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in c0)return jd[n]=s[o];return n}var h0=$s("animationend"),f0=$s("animationiteration"),d0=$s("animationstart"),s5=$s("transitionrun"),a5=$s("transitionstart"),o5=$s("transitioncancel"),m0=$s("transitionend"),g0=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function ar(n,s){g0.set(n,s),_r(s,[n])}var p0=new WeakMap;function Fn(n,s){if(typeof n=="object"&&n!==null){var o=p0.get(n);return o!==void 0?o:(s={value:n,source:s,stack:tr(s)},p0.set(n,s),s)}return{value:n,source:s,stack:tr(s)}}var Hn=[],so=0,Fd=0;function oh(){for(var n=so,s=Fd=so=0;s<n;){var o=Hn[s];Hn[s++]=null;var u=Hn[s];Hn[s++]=null;var f=Hn[s];Hn[s++]=null;var m=Hn[s];if(Hn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&y0(o,f,m)}}function lh(n,s,o,u){Hn[so++]=n,Hn[so++]=s,Hn[so++]=o,Hn[so++]=u,Fd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hd(n,s,o,u){return lh(n,s,o,u),uh(n)}function ao(n,s){return lh(n,null,null,s),uh(n)}function y0(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-hn(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function uh(n){if(50<vu)throw vu=0,Xm=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var oo={};function l5(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,s,o,u){return new l5(n,s,o,u)}function Gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gr(n,s){var o=n.alternate;return o===null?(o=Cn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function _0(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ch(n,s,o,u,f,m){var E=0;if(u=n,typeof n=="function")Gd(n)&&(E=1);else if(typeof n=="string")E=cT(n,o,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Cn(31,o,s,f),n.elementType=I,n.lanes=m,n;case G:return Xs(o.children,f,m,s);case Y:E=8,f|=24;break;case H:return n=Cn(12,o,s,f|2),n.elementType=H,n.lanes=m,n;case ce:return n=Cn(13,o,s,f),n.elementType=ce,n.lanes=m,n;case Te:return n=Cn(19,o,s,f),n.elementType=Te,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ie:case se:E=10;break e;case te:E=9;break e;case Ee:E=11;break e;case C:E=14;break e;case S:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=Cn(E,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function Xs(n,s,o,u){return n=Cn(7,n,u,s),n.lanes=o,n}function Kd(n,s,o){return n=Cn(6,n,null,s),n.lanes=o,n}function Qd(n,s,o){return s=Cn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var lo=[],uo=0,hh=null,fh=0,Gn=[],Kn=0,Zs=null,Kr=1,Qr="";function Js(n,s){lo[uo++]=fh,lo[uo++]=hh,hh=n,fh=s}function v0(n,s,o){Gn[Kn++]=Kr,Gn[Kn++]=Qr,Gn[Kn++]=Zs,Zs=n;var u=Kr;n=Qr;var f=32-hn(u)-1;u&=~(1<<f),o+=1;var m=32-hn(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Kr=1<<32-hn(s)+f|o<<f|u,Qr=m+n}else Kr=1<<m|o<<f|u,Qr=n}function Yd(n){n.return!==null&&(Js(n,1),v0(n,1,0))}function $d(n){for(;n===hh;)hh=lo[--uo],lo[uo]=null,fh=lo[--uo],lo[uo]=null;for(;n===Zs;)Zs=Gn[--Kn],Gn[Kn]=null,Qr=Gn[--Kn],Gn[Kn]=null,Kr=Gn[--Kn],Gn[Kn]=null}var gn=null,_t=null,Fe=!1,Ws=null,wr=!1,Xd=Error(r(519));function ea(n){var s=Error(r(418,""));throw Zl(Fn(s,n)),Xd}function E0(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[bt]=n,s[Yt]=u,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<Tu.length;o++)Me(Tu[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Ml(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ri(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),Qc(s,u.value,u.defaultValue,u.children),Ri(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||L2(s.textContent,o)?(u.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),u.onScroll!=null&&Me("scroll",s),u.onScrollEnd!=null&&Me("scrollend",s),u.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||ea(n)}function T0(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:gn=gn.return}}function $l(n){if(n!==gn)return!1;if(!Fe)return T0(n),Fe=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||fg(n.type,n.memoizedProps)),o=!o),o&&_t&&ea(n),T0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){_t=lr(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}_t=null}}else s===27?(s=_t,Qi(n.type)?(n=pg,pg=null,_t=n):_t=s):_t=gn?lr(n.stateNode.nextSibling):null;return!0}function Xl(){_t=gn=null,Fe=!1}function b0(){var n=Ws;return n!==null&&(wn===null?wn=n:wn.push.apply(wn,n),Ws=null),n}function Zl(n){Ws===null?Ws=[n]:Ws.push(n)}var Zd=ne(null),ta=null,Yr=null;function Ni(n,s,o){ue(Zd,s._currentValue),s._currentValue=o}function $r(n){n._currentValue=Zd.current,de(Zd)}function Jd(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Wd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var R=0;R<s.length;R++)if(b.context===s[R]){m.lanes|=o,b=m.alternate,b!==null&&(b.lanes|=o),Jd(m.return,o,n),u||(E=null);break e}m=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Jd(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Jl(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;xn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Qt.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Iu):n=[Iu])}f=f.return}n!==null&&Wd(s,n,o,u),s.flags|=262144}function dh(n){for(n=n.firstContext;n!==null;){if(!xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,Yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return w0(ta,n)}function mh(n,s){return ta===null&&na(n),w0(n,s)}function w0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Yr===null){if(n===null)throw Error(r(308));Yr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Yr=Yr.next=s;return o}var u5=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},c5=i.unstable_scheduleCallback,h5=i.unstable_NormalPriority,Lt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new u5,data:new Map,refCount:0}}function Wl(n){n.refCount--,n.refCount===0&&c5(h5,function(){n.controller.abort()})}var eu=null,tm=0,co=0,ho=null;function f5(n,s){if(eu===null){var o=eu=[];tm=0,co=rg(),ho={status:"pending",value:void 0,then:function(u){o.push(u)}}}return tm++,s.then(A0,A0),s}function A0(){if(--tm===0&&eu!==null){ho!==null&&(ho.status="fulfilled");var n=eu;eu=null,co=0,ho=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function d5(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var S0=$.S;$.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&f5(n,s),S0!==null&&S0(n,s)};var ra=ne(null);function nm(){var n=ra.current;return n!==null?n:it.pooledCache}function gh(n,s){s===null?ue(ra,ra.current):ue(ra,s.pool)}function R0(){var n=nm();return n===null?null:{parent:Lt._currentValue,pool:n}}var tu=Error(r(460)),I0=Error(r(474)),ph=Error(r(542)),rm={then:function(){}};function x0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function yh(){}function C0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(yh,yh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,V0(n),n;default:if(typeof s.status=="string")s.then(yh,yh);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,V0(n),n}throw nu=s,tu}}var nu=null;function D0(){if(nu===null)throw Error(r(459));var n=nu;return nu=null,n}function V0(n){if(n===tu||n===ph)throw Error(r(483))}var Mi=!1;function im(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Oi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pi(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=uh(n),y0(n,null,o),s}return lh(n,u,s,o),uh(n)}function ru(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ti(n,o)}}function am(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var om=!1;function iu(){if(om){var n=ho;if(n!==null)throw n}}function su(n,s,o,u){om=!1;var f=n.updateQueue;Mi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var R=b,j=R.next;R.next=null,E===null?m=j:E.next=j,E=R;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==E&&(b===null?X.firstBaseUpdate=j:b.next=j,X.lastBaseUpdate=R))}if(m!==null){var W=f.baseState;E=0,X=j=R=null,b=m;do{var q=b.lane&-536870913,F=q!==b.lane;if(F?(ze&q)===q:(u&q)===q){q!==0&&q===co&&(om=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=n,be=b;q=s;var tt=o;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){W=Se.call(tt,W,q);break e}W=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,q=typeof Se=="function"?Se.call(tt,W,q):Se,q==null)break e;W=_({},W,q);break e;case 2:Mi=!0}}q=b.callback,q!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[q]:F.push(q))}else F={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(j=X=F,R=W):X=X.next=F,E|=q;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;F=b,b=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(R=W),f.baseState=R,f.firstBaseUpdate=j,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Fi|=E,n.lanes=E,n.memoizedState=W}}function N0(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function M0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)N0(o[n],s)}var fo=ne(null),_h=ne(0);function O0(n,s){n=ni,ue(_h,n),ue(fo,s),ni=n|s.baseLanes}function lm(){ue(_h,ni),ue(fo,fo.current)}function um(){ni=_h.current,de(fo),de(_h)}var ki=0,De=null,We=null,Dt=null,vh=!1,mo=!1,ia=!1,Eh=0,au=0,go=null,m5=0;function St(){throw Error(r(321))}function cm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!xn(n[o],s[o]))return!1;return!0}function hm(n,s,o,u,f,m){return ki=m,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?yy:_y,ia=!1,m=o(u,f),ia=!1,mo&&(m=k0(s,o,u,f)),P0(n),m}function P0(n){$.H=Rh;var s=We!==null&&We.next!==null;if(ki=0,Dt=We=De=null,vh=!1,au=0,go=null,s)throw Error(r(300));n===null||qt||(n=n.dependencies,n!==null&&dh(n)&&(qt=!0))}function k0(n,s,o,u){De=n;var f=0;do{if(mo&&(go=null),au=0,mo=!1,25<=f)throw Error(r(301));if(f+=1,Dt=We=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=T5,m=s(o,u)}while(mo);return m}function g5(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?ou(s):s,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(De.flags|=1024),s}function fm(){var n=Eh!==0;return Eh=0,n}function dm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function mm(n){if(vh){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vh=!1}ki=0,Dt=We=De=null,mo=!1,au=Eh=0,go=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?De.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Vt(){if(We===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var s=Dt===null?De.memoizedState:Dt.next;if(s!==null)Dt=s,We=n;else{if(n===null)throw De.alternate===null?Error(r(467)):Error(r(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Dt===null?De.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(n){var s=au;return au+=1,go===null&&(go=[]),n=C0(go,n,s),s=De,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?yy:_y),n}function Th(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ou(n);if(n.$$typeof===se)return rn(n)}throw Error(r(438,String(n)))}function pm(n){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=gm(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=O;return s.index++,o}function Xr(n,s){return typeof s=="function"?s(n):s}function bh(n){var s=Vt();return ym(s,We,n)}function ym(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var b=E=null,R=null,j=s,X=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(ze&W)===W:(ki&W)===W){var q=j.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===co&&(X=!0);else if((ki&q)===q){j=j.next,q===co&&(X=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(b=R=W,E=m):R=R.next=W,De.lanes|=q,Fi|=q;W=j.action,ia&&o(m,W),m=j.hasEagerState?j.eagerState:o(m,W)}else q={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(b=R=q,E=m):R=R.next=q,De.lanes|=W,Fi|=W;j=j.next}while(j!==null&&j!==s);if(R===null?E=m:R.next=b,!xn(m,n.memoizedState)&&(qt=!0,X&&(o=ho,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=R,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function _m(n){var s=Vt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);xn(m,s.memoizedState)||(qt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function L0(n,s,o){var u=De,f=Vt(),m=Fe;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!xn((We||f).memoizedState,o);E&&(f.memoizedState=o,qt=!0),f=f.queue;var b=U0.bind(null,u,f,n);if(lu(2048,8,b,[n]),f.getSnapshot!==s||E||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,po(9,wh(),B0.bind(null,u,f,o,s),null),it===null)throw Error(r(349));m||(ki&124)!==0||z0(u,s,o)}return o}function z0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=gm(),De.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function B0(n,s,o,u){s.value=o,s.getSnapshot=u,j0(s)&&q0(n)}function U0(n,s,o){return o(function(){j0(s)&&q0(n)})}function j0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!xn(n,o)}catch{return!0}}function q0(n){var s=ao(n,2);s!==null&&On(s,n,2)}function vm(n){var s=Tn();if(typeof n=="function"){var o=n;if(n=o(),ia){zn(!0);try{o()}finally{zn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:n},s}function F0(n,s,o,u){return n.baseState=o,ym(n,We,typeof u=="function"?u:Xr)}function p5(n,s,o,u,f){if(Sh(n))throw Error(r(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};$.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,H0(s,m)):(m.next=o.next,s.pending=o.next=m)}}function H0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=$.T,E={};$.T=E;try{var b=o(f,u),R=$.S;R!==null&&R(E,b),G0(n,s,b)}catch(j){Em(n,s,j)}finally{$.T=m}}else try{m=o(f,u),G0(n,s,m)}catch(j){Em(n,s,j)}}function G0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){K0(n,s,u)},function(u){return Em(n,s,u)}):K0(n,s,o)}function K0(n,s,o){s.status="fulfilled",s.value=o,Q0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,H0(n,o)))}function Em(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Q0(s),s=s.next;while(s!==u)}n.action=null}function Q0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Y0(n,s){return s}function $0(n,s){if(Fe){var o=it.formState;if(o!==null){e:{var u=De;if(Fe){if(_t){t:{for(var f=_t,m=wr;f.nodeType!==8;){if(!m){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=lr(f.nextSibling),u=f.data==="F!";break e}}ea(u)}u=!1}u&&(s=o[0])}}return o=Tn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:s},o.queue=u,o=my.bind(null,De,u),u.dispatch=o,u=vm(!1),m=Sm.bind(null,De,!1,u.queue),u=Tn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=p5.bind(null,De,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function X0(n){var s=Vt();return Z0(s,We,n)}function Z0(n,s,o){if(s=ym(n,s,Y0)[0],n=bh(Xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ou(s)}catch(E){throw E===tu?ph:E}else u=s;s=Vt();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(De.flags|=2048,po(9,wh(),y5.bind(null,f,o),null)),[u,m,n]}function y5(n,s){n.action=s}function J0(n){var s=Vt(),o=We;if(o!==null)return Z0(s,o,n);Vt(),s=s.memoizedState,o=Vt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function po(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=gm(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function wh(){return{destroy:void 0,resource:void 0}}function W0(){return Vt().memoizedState}function Ah(n,s,o,u){var f=Tn();u=u===void 0?null:u,De.flags|=n,f.memoizedState=po(1|s,wh(),o,u)}function lu(n,s,o,u){var f=Vt();u=u===void 0?null:u;var m=f.memoizedState.inst;We!==null&&u!==null&&cm(u,We.memoizedState.deps)?f.memoizedState=po(s,m,o,u):(De.flags|=n,f.memoizedState=po(1|s,m,o,u))}function ey(n,s){Ah(8390656,8,n,s)}function ty(n,s){lu(2048,8,n,s)}function ny(n,s){return lu(4,2,n,s)}function ry(n,s){return lu(4,4,n,s)}function iy(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function sy(n,s,o){o=o!=null?o.concat([n]):null,lu(4,4,iy.bind(null,s,n),o)}function Tm(){}function ay(n,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&cm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function oy(n,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&cm(s,u[1]))return u[0];if(u=n(),ia){zn(!0);try{n()}finally{zn(!1)}}return o.memoizedState=[u,s],u}function bm(n,s,o){return o===void 0||(ki&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=c2(),De.lanes|=n,Fi|=n,o)}function ly(n,s,o,u){return xn(o,s)?o:fo.current!==null?(n=bm(n,o,u),xn(n,s)||(qt=!0),n):(ki&42)===0?(qt=!0,n.memoizedState=o):(n=c2(),De.lanes|=n,Fi|=n,s)}function uy(n,s,o,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var E=$.T,b={};$.T=b,Sm(n,!1,s,o);try{var R=f(),j=$.S;if(j!==null&&j(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=d5(R,u);uu(n,s,X,Mn(n))}else uu(n,s,u,Mn(n))}catch(W){uu(n,s,{then:function(){},status:"rejected",reason:W},Mn())}finally{he.p=m,$.T=E}}function _5(){}function wm(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=cy(n).queue;uy(n,f,s,ve,o===null?_5:function(){return hy(n),o(u)})}function cy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function hy(n){var s=cy(n).next.queue;uu(n,s,{},Mn())}function Am(){return rn(Iu)}function fy(){return Vt().memoizedState}function dy(){return Vt().memoizedState}function v5(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mn();n=Oi(o);var u=Pi(s,n,o);u!==null&&(On(u,s,o),ru(u,s,o)),s={cache:em()},n.payload=s;return}s=s.return}}function E5(n,s,o){var u=Mn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Sh(n)?gy(s,o):(o=Hd(n,s,o,u),o!==null&&(On(o,n,u),py(o,s,u)))}function my(n,s,o){var u=Mn();uu(n,s,o,u)}function uu(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sh(n))gy(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,b=m(E,o);if(f.hasEagerState=!0,f.eagerState=b,xn(b,E))return lh(n,s,f,0),it===null&&oh(),!1}catch{}finally{}if(o=Hd(n,s,f,u),o!==null)return On(o,n,u),py(o,s,u),!0}return!1}function Sm(n,s,o,u){if(u={lane:2,revertLane:rg(),action:u,hasEagerState:!1,eagerState:null,next:null},Sh(n)){if(s)throw Error(r(479))}else s=Hd(n,o,u,2),s!==null&&On(s,n,2)}function Sh(n){var s=n.alternate;return n===De||s!==null&&s===De}function gy(n,s){mo=vh=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function py(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ti(n,o)}}var Rh={readContext:rn,use:Th,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},yy={readContext:rn,use:Th,useCallback:function(n,s){return Tn().memoizedState=[n,s===void 0?null:s],n},useContext:rn,useEffect:ey,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Ah(4194308,4,iy.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Ah(4194308,4,n,s)},useInsertionEffect:function(n,s){Ah(4,2,n,s)},useMemo:function(n,s){var o=Tn();s=s===void 0?null:s;var u=n();if(ia){zn(!0);try{n()}finally{zn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=Tn();if(o!==void 0){var f=o(s);if(ia){zn(!0);try{o(s)}finally{zn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=E5.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=Tn();return n={current:n},s.memoizedState=n},useState:function(n){n=vm(n);var s=n.queue,o=my.bind(null,De,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(n,s){var o=Tn();return bm(o,n,s)},useTransition:function(){var n=vm(!1);return n=uy.bind(null,De,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=De,f=Tn();if(Fe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(ze&124)!==0||z0(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,ey(U0.bind(null,u,m,n),[n]),u.flags|=2048,po(9,wh(),B0.bind(null,u,m,o,s),null),o},useId:function(){var n=Tn(),s=it.identifierPrefix;if(Fe){var o=Qr,u=Kr;o=(u&~(1<<32-hn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=m5++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Am,useFormState:$0,useActionState:$0,useOptimistic:function(n){var s=Tn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Sm.bind(null,De,!0,o),o.dispatch=s,[n,s]},useMemoCache:pm,useCacheRefresh:function(){return Tn().memoizedState=v5.bind(null,De)}},_y={readContext:rn,use:Th,useCallback:ay,useContext:rn,useEffect:ty,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:bh,useRef:W0,useState:function(){return bh(Xr)},useDebugValue:Tm,useDeferredValue:function(n,s){var o=Vt();return ly(o,We.memoizedState,n,s)},useTransition:function(){var n=bh(Xr)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:ou(n),s]},useSyncExternalStore:L0,useId:fy,useHostTransitionStatus:Am,useFormState:X0,useActionState:X0,useOptimistic:function(n,s){var o=Vt();return F0(o,We,n,s)},useMemoCache:pm,useCacheRefresh:dy},T5={readContext:rn,use:Th,useCallback:ay,useContext:rn,useEffect:ty,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:_m,useRef:W0,useState:function(){return _m(Xr)},useDebugValue:Tm,useDeferredValue:function(n,s){var o=Vt();return We===null?bm(o,n,s):ly(o,We.memoizedState,n,s)},useTransition:function(){var n=_m(Xr)[0],s=Vt().memoizedState;return[typeof n=="boolean"?n:ou(n),s]},useSyncExternalStore:L0,useId:fy,useHostTransitionStatus:Am,useFormState:J0,useActionState:J0,useOptimistic:function(n,s){var o=Vt();return We!==null?F0(o,We,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:pm,useCacheRefresh:dy},yo=null,cu=0;function Ih(n){var s=cu;return cu+=1,yo===null&&(yo=[]),C0(yo,n,s)}function hu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function xh(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function vy(n){var s=n._init;return s(n._payload)}function Ey(n){function s(P,M){if(n){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function o(P,M){if(!n)return null;for(;M!==null;)s(P,M),M=M.sibling;return null}function u(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=Gr(P,M),P.index=0,P.sibling=null,P}function m(P,M,B){return P.index=B,n?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function E(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,B,Z){return M===null||M.tag!==6?(M=Kd(B,P.mode,Z),M.return=P,M):(M=f(M,B),M.return=P,M)}function R(P,M,B,Z){var me=B.type;return me===G?X(P,M,B.props.children,Z,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&vy(me)===M.type)?(M=f(M,B.props),hu(M,B),M.return=P,M):(M=ch(B.type,B.key,B.props,null,P.mode,Z),hu(M,B),M.return=P,M)}function j(P,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Qd(B,P.mode,Z),M.return=P,M):(M=f(M,B.children||[]),M.return=P,M)}function X(P,M,B,Z,me){return M===null||M.tag!==7?(M=Xs(B,P.mode,Z,me),M.return=P,M):(M=f(M,B),M.return=P,M)}function W(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Kd(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return B=ch(M.type,M.key,M.props,null,P.mode,B),hu(B,M),B.return=P,B;case D:return M=Qd(M,P.mode,B),M.return=P,M;case S:var Z=M._init;return M=Z(M._payload),W(P,M,B)}if(ut(M)||L(M))return M=Xs(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return W(P,Ih(M),B);if(M.$$typeof===se)return W(P,mh(P,M),B);xh(P,M)}return null}function q(P,M,B,Z){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:b(P,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===me?R(P,M,B,Z):null;case D:return B.key===me?j(P,M,B,Z):null;case S:return me=B._init,B=me(B._payload),q(P,M,B,Z)}if(ut(B)||L(B))return me!==null?null:X(P,M,B,Z,null);if(typeof B.then=="function")return q(P,M,Ih(B),Z);if(B.$$typeof===se)return q(P,M,mh(P,B),Z);xh(P,B)}return null}function F(P,M,B,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(B)||null,b(M,P,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return P=P.get(Z.key===null?B:Z.key)||null,R(M,P,Z,me);case D:return P=P.get(Z.key===null?B:Z.key)||null,j(M,P,Z,me);case S:var Ve=Z._init;return Z=Ve(Z._payload),F(P,M,B,Z,me)}if(ut(Z)||L(Z))return P=P.get(B)||null,X(M,P,Z,me,null);if(typeof Z.then=="function")return F(P,M,B,Ih(Z),me);if(Z.$$typeof===se)return F(P,M,B,mh(M,Z),me);xh(M,Z)}return null}function Se(P,M,B,Z){for(var me=null,Ve=null,ye=M,we=M=0,Ht=null;ye!==null&&we<B.length;we++){ye.index>we?(Ht=ye,ye=null):Ht=ye.sibling;var je=q(P,ye,B[we],Z);if(je===null){ye===null&&(ye=Ht);break}n&&ye&&je.alternate===null&&s(P,ye),M=m(je,M,we),Ve===null?me=je:Ve.sibling=je,Ve=je,ye=Ht}if(we===B.length)return o(P,ye),Fe&&Js(P,we),me;if(ye===null){for(;we<B.length;we++)ye=W(P,B[we],Z),ye!==null&&(M=m(ye,M,we),Ve===null?me=ye:Ve.sibling=ye,Ve=ye);return Fe&&Js(P,we),me}for(ye=u(ye);we<B.length;we++)Ht=F(ye,P,we,B[we],Z),Ht!==null&&(n&&Ht.alternate!==null&&ye.delete(Ht.key===null?we:Ht.key),M=m(Ht,M,we),Ve===null?me=Ht:Ve.sibling=Ht,Ve=Ht);return n&&ye.forEach(function(Ji){return s(P,Ji)}),Fe&&Js(P,we),me}function be(P,M,B,Z){if(B==null)throw Error(r(151));for(var me=null,Ve=null,ye=M,we=M=0,Ht=null,je=B.next();ye!==null&&!je.done;we++,je=B.next()){ye.index>we?(Ht=ye,ye=null):Ht=ye.sibling;var Ji=q(P,ye,je.value,Z);if(Ji===null){ye===null&&(ye=Ht);break}n&&ye&&Ji.alternate===null&&s(P,ye),M=m(Ji,M,we),Ve===null?me=Ji:Ve.sibling=Ji,Ve=Ji,ye=Ht}if(je.done)return o(P,ye),Fe&&Js(P,we),me;if(ye===null){for(;!je.done;we++,je=B.next())je=W(P,je.value,Z),je!==null&&(M=m(je,M,we),Ve===null?me=je:Ve.sibling=je,Ve=je);return Fe&&Js(P,we),me}for(ye=u(ye);!je.done;we++,je=B.next())je=F(ye,P,we,je.value,Z),je!==null&&(n&&je.alternate!==null&&ye.delete(je.key===null?we:je.key),M=m(je,M,we),Ve===null?me=je:Ve.sibling=je,Ve=je);return n&&ye.forEach(function(bT){return s(P,bT)}),Fe&&Js(P,we),me}function tt(P,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===G){if(M.tag===7){o(P,M.sibling),Z=f(M,B.props.children),Z.return=P,P=Z;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&vy(me)===M.type){o(P,M.sibling),Z=f(M,B.props),hu(Z,B),Z.return=P,P=Z;break e}o(P,M);break}else s(P,M);M=M.sibling}B.type===G?(Z=Xs(B.props.children,P.mode,Z,B.key),Z.return=P,P=Z):(Z=ch(B.type,B.key,B.props,null,P.mode,Z),hu(Z,B),Z.return=P,P=Z)}return E(P);case D:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){o(P,M.sibling),Z=f(M,B.children||[]),Z.return=P,P=Z;break e}else{o(P,M);break}else s(P,M);M=M.sibling}Z=Qd(B,P.mode,Z),Z.return=P,P=Z}return E(P);case S:return me=B._init,B=me(B._payload),tt(P,M,B,Z)}if(ut(B))return Se(P,M,B,Z);if(L(B)){if(me=L(B),typeof me!="function")throw Error(r(150));return B=me.call(B),be(P,M,B,Z)}if(typeof B.then=="function")return tt(P,M,Ih(B),Z);if(B.$$typeof===se)return tt(P,M,mh(P,B),Z);xh(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(o(P,M.sibling),Z=f(M,B),Z.return=P,P=Z):(o(P,M),Z=Kd(B,P.mode,Z),Z.return=P,P=Z),E(P)):o(P,M)}return function(P,M,B,Z){try{cu=0;var me=tt(P,M,B,Z);return yo=null,me}catch(ye){if(ye===tu||ye===ph)throw ye;var Ve=Cn(29,ye,null,P.mode);return Ve.lanes=Z,Ve.return=P,Ve}finally{}}}var _o=Ey(!0),Ty=Ey(!1),Qn=ne(null),Ar=null;function Li(n){var s=n.alternate;ue(zt,zt.current&1),ue(Qn,n),Ar===null&&(s===null||fo.current!==null||s.memoizedState!==null)&&(Ar=n)}function by(n){if(n.tag===22){if(ue(zt,zt.current),ue(Qn,n),Ar===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ar=n)}}else zi()}function zi(){ue(zt,zt.current),ue(Qn,Qn.current)}function Zr(n){de(Qn),Ar===n&&(Ar=null),de(zt)}var zt=ne(0);function Ch(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Rm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Im={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Mn(),f=Oi(u);f.payload=s,o!=null&&(f.callback=o),s=Pi(n,f,u),s!==null&&(On(s,n,u),ru(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Mn(),f=Oi(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Pi(n,f,u),s!==null&&(On(s,n,u),ru(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Mn(),u=Oi(o);u.tag=2,s!=null&&(u.callback=s),s=Pi(n,u,o),s!==null&&(On(s,n,o),ru(s,n,o))}};function wy(n,s,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Ql(o,u)||!Ql(f,m):!0}function Ay(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Im.enqueueReplaceState(s,s.state,null)}function sa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Dh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Sy(n){Dh(n)}function Ry(n){console.error(n)}function Iy(n){Dh(n)}function Vh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function xy(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(n,s,o){return o=Oi(o),o.tag=3,o.payload={element:null},o.callback=function(){Vh(n,s)},o}function Cy(n){return n=Oi(n),n.tag=3,n}function Dy(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){xy(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){xy(s,o,u),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function b5(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Jl(s,o,f,!0),o=Qn.current,o!==null){switch(o.tag){case 13:return Ar===null?Jm():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===rm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),eg(n,u,f)),!1;case 22:return o.flags|=65536,u===rm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),eg(n,u,f)),!1}throw Error(r(435,o.tag))}return eg(n,u,f),Jm(),!1}if(Fe)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Xd&&(n=Error(r(422),{cause:u}),Zl(Fn(n,o)))):(u!==Xd&&(s=Error(r(423),{cause:u}),Zl(Fn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Fn(u,o),f=xm(n.stateNode,u,f),am(n,f),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:u});if(m=Fn(m,o),_u===null?_u=[m]:_u.push(m),vt!==4&&(vt=2),s===null)return!0;u=Fn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=xm(o.stateNode,u,n),am(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Cy(f),Dy(f,n,o,u),am(o,f),!1}o=o.return}while(o!==null);return!1}var Vy=Error(r(461)),qt=!1;function $t(n,s,o,u){s.child=n===null?Ty(s,null,o,u):_o(s,n.child,o,u)}function Ny(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return na(s),u=hm(n,s,o,E,m,f),b=fm(),n!==null&&!qt?(dm(n,s,f),Jr(n,s,f)):(Fe&&b&&Yd(s),s.flags|=1,$t(n,s,u,f),s.child)}function My(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Gd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Oy(n,s,m,u,f)):(n=ch(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!km(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ql,o(E,u)&&n.ref===s.ref)return Jr(n,s,f)}return s.flags|=1,n=Gr(m,u),n.ref=s.ref,n.return=s,s.child=n}function Oy(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(Ql(m,u)&&n.ref===s.ref)if(qt=!1,s.pendingProps=u=m,km(n,f))(n.flags&131072)!==0&&(qt=!0);else return s.lanes=n.lanes,Jr(n,s,f)}return Cm(n,s,o,u,f)}function Py(n,s,o){var u=s.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,n!==null){for(f=s.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return ky(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&gh(s,m!==null?m.cachePool:null),m!==null?O0(s,m):lm(),by(s);else return s.lanes=s.childLanes=536870912,ky(n,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(gh(s,m.cachePool),O0(s,m),zi(),s.memoizedState=null):(n!==null&&gh(s,null),lm(),zi());return $t(n,s,f,o),s.child}function ky(n,s,o,u){var f=nm();return f=f===null?null:{parent:Lt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&gh(s,null),lm(),by(s),n!==null&&Jl(n,s,u,!0),null}function Nh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Cm(n,s,o,u,f){return na(s),o=hm(n,s,o,u,void 0,f),u=fm(),n!==null&&!qt?(dm(n,s,f),Jr(n,s,f)):(Fe&&u&&Yd(s),s.flags|=1,$t(n,s,o,f),s.child)}function Ly(n,s,o,u,f,m){return na(s),s.updateQueue=null,o=k0(s,u,o,f),P0(n),u=fm(),n!==null&&!qt?(dm(n,s,m),Jr(n,s,m)):(Fe&&u&&Yd(s),s.flags|=1,$t(n,s,o,m),s.child)}function zy(n,s,o,u,f){if(na(s),s.stateNode===null){var m=oo,E=o.contextType;typeof E=="object"&&E!==null&&(m=rn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Im,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},im(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?rn(E):oo,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Rm(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Im.enqueueReplaceState(m,m.state,null),su(s,u,m,f),iu(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var b=s.memoizedProps,R=sa(o,b);m.props=R;var j=m.context,X=o.contextType;E=oo,typeof X=="object"&&X!==null&&(E=rn(X));var W=o.getDerivedStateFromProps;X=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||j!==E)&&Ay(s,m,u,E),Mi=!1;var q=s.memoizedState;m.state=q,su(s,u,m,f),iu(),j=s.memoizedState,b||q!==j||Mi?(typeof W=="function"&&(Rm(s,o,W,u),j=s.memoizedState),(R=Mi||wy(s,o,R,u,q,j,E))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=j),m.props=u,m.state=j,m.context=E,u=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,sm(n,s),E=s.memoizedProps,X=sa(o,E),m.props=X,W=s.pendingProps,q=m.context,j=o.contextType,R=oo,typeof j=="object"&&j!==null&&(R=rn(j)),b=o.getDerivedStateFromProps,(j=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==W||q!==R)&&Ay(s,m,u,R),Mi=!1,q=s.memoizedState,m.state=q,su(s,u,m,f),iu();var F=s.memoizedState;E!==W||q!==F||Mi||n!==null&&n.dependencies!==null&&dh(n.dependencies)?(typeof b=="function"&&(Rm(s,o,b,u),F=s.memoizedState),(X=Mi||wy(s,o,X,u,q,F,R)||n!==null&&n.dependencies!==null&&dh(n.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,F,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,F,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=F),m.props=u,m.state=F,m.context=R,u=X):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,Nh(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=_o(s,n.child,null,f),s.child=_o(s,null,o,f)):$t(n,s,o,f),s.memoizedState=m.state,n=s.child):n=Jr(n,s,f),n}function By(n,s,o,u){return Xl(),s.flags|=256,$t(n,s,o,u),s.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vm(n){return{baseLanes:n,cachePool:R0()}}function Nm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Yn),n}function Uy(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Fe){if(f?Li(s):zi(),Fe){var b=_t,R;if(R=b){e:{for(R=b,b=wr;R.nodeType!==8;){if(!b){b=null;break e}if(R=lr(R.nextSibling),R===null){b=null;break e}}b=R}b!==null?(s.memoizedState={dehydrated:b,treeContext:Zs!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},R=Cn(18,null,null,0),R.stateNode=b,R.return=s,s.child=R,gn=s,_t=null,R=!0):R=!1}R||ea(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return gg(b)?s.lanes=32:s.lanes=536870912,null;Zr(s)}return b=u.children,u=u.fallback,f?(zi(),f=s.mode,b=Mh({mode:"hidden",children:b},f),u=Xs(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,f=s.child,f.memoizedState=Vm(o),f.childLanes=Nm(n,E,o),s.memoizedState=Dm,u):(Li(s),Mm(s,b))}if(R=n.memoizedState,R!==null&&(b=R.dehydrated,b!==null)){if(m)s.flags&256?(Li(s),s.flags&=-257,s=Om(n,s,o)):s.memoizedState!==null?(zi(),s.child=n.child,s.flags|=128,s=null):(zi(),f=u.fallback,b=s.mode,u=Mh({mode:"visible",children:u.children},b),f=Xs(f,b,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,_o(s,n.child,null,o),u=s.child,u.memoizedState=Vm(o),u.childLanes=Nm(n,E,o),s.memoizedState=Dm,s=f);else if(Li(s),gg(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var j=E.dgst;E=j,u=Error(r(419)),u.stack="",u.digest=E,Zl({value:u,source:null,stack:null}),s=Om(n,s,o)}else if(qt||Jl(n,s,o,!1),E=(o&n.childLanes)!==0,qt||E){if(E=it,E!==null&&(u=o&-o,u=(u&42)!==0?1:Dl(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,ao(n,u),On(E,n,u),Vy;b.data==="$?"||Jm(),s=Om(n,s,o)}else b.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,_t=lr(b.nextSibling),gn=s,Fe=!0,Ws=null,wr=!1,n!==null&&(Gn[Kn++]=Kr,Gn[Kn++]=Qr,Gn[Kn++]=Zs,Kr=n.id,Qr=n.overflow,Zs=s),s=Mm(s,u.children),s.flags|=4096);return s}return f?(zi(),f=u.fallback,b=s.mode,R=n.child,j=R.sibling,u=Gr(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,j!==null?f=Gr(j,f):(f=Xs(f,b,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,b=n.child.memoizedState,b===null?b=Vm(o):(R=b.cachePool,R!==null?(j=Lt._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=R0(),b={baseLanes:b.baseLanes|o,cachePool:R}),f.memoizedState=b,f.childLanes=Nm(n,E,o),s.memoizedState=Dm,u):(Li(s),o=n.child,n=o.sibling,o=Gr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Mm(n,s){return s=Mh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Mh(n,s){return n=Cn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Om(n,s,o){return _o(s,n.child,null,o),n=Mm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function jy(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Jd(n.return,s,o)}function Pm(n,s,o,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function qy(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if($t(n,s,u.children,o),u=zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&jy(n,o,s);else if(n.tag===19)jy(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ue(zt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Ch(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Pm(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Ch(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Pm(s,!0,o,null,m);break;case"together":Pm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Jr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Fi|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Jl(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Gr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Gr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function km(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&dh(n)))}function w5(n,s,o){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),Ni(s,Lt,n.memoizedState.cache),Xl();break;case 27:case 5:Rl(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:Ni(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Uy(n,s,o):(Li(s),n=Jr(n,s,o),n!==null?n.sibling:null);Li(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Jl(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return qy(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(zt,zt.current),u)break;return null;case 22:case 23:return s.lanes=0,Py(n,s,o);case 24:Ni(s,Lt,n.memoizedState.cache)}return Jr(n,s,o)}function Fy(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)qt=!0;else{if(!km(n,o)&&(s.flags&128)===0)return qt=!1,w5(n,s,o);qt=(n.flags&131072)!==0}else qt=!1,Fe&&(s.flags&1048576)!==0&&v0(s,fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Gd(u)?(n=sa(u,n),s.tag=1,s=zy(null,s,u,n,o)):(s.tag=0,s=Cm(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===Ee){s.tag=11,s=Ny(null,s,u,n,o);break e}else if(f===C){s.tag=14,s=My(null,s,u,n,o);break e}}throw s=yt(u)||u,Error(r(306,s,""))}}return s;case 0:return Cm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=sa(u,s.pendingProps),zy(n,s,u,f,o);case 3:e:{if(Ze(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,sm(n,s),su(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ni(s,Lt,u),u!==m.cache&&Wd(s,[Lt],o,!0),iu(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=By(n,s,u,o);break e}else if(u!==f){f=Fn(Error(r(424)),s),Zl(f),s=By(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=lr(n.firstChild),gn=s,Fe=!0,Ws=null,wr=!0,o=Ty(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xl(),u===f){s=Jr(n,s,o);break e}$t(n,s,u,o)}s=s.child}return s;case 26:return Nh(n,s),n===null?(o=Q2(s.type,null,s.pendingProps,null))?s.memoizedState=o:Fe||(o=s.type,n=s.pendingProps,u=Qh(Ae.current).createElement(o),u[bt]=s,u[Yt]=n,Zt(u,o,n),wt(u),s.stateNode=u):s.memoizedState=Q2(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Rl(s),n===null&&Fe&&(u=s.stateNode=H2(s.type,s.pendingProps,Ae.current),gn=s,wr=!0,f=_t,Qi(s.type)?(pg=f,_t=lr(u.firstChild)):_t=f),$t(n,s,s.pendingProps.children,o),Nh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Fe&&((f=u=_t)&&(u=Z5(u,s.type,s.pendingProps,wr),u!==null?(s.stateNode=u,gn=s,_t=lr(u.firstChild),wr=!1,f=!0):f=!1),f||ea(s)),Rl(s),f=s.type,m=s.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,fg(f,m)?u=null:E!==null&&fg(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=hm(n,s,g5,null,null,o),Iu._currentValue=f),Nh(n,s),$t(n,s,u,o),s.child;case 6:return n===null&&Fe&&((n=o=_t)&&(o=J5(o,s.pendingProps,wr),o!==null?(s.stateNode=o,gn=s,_t=null,n=!0):n=!1),n||ea(s)),null;case 13:return Uy(n,s,o);case 4:return Ze(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=_o(s,null,u,o):$t(n,s,u,o),s.child;case 11:return Ny(n,s,s.type,s.pendingProps,o);case 7:return $t(n,s,s.pendingProps,o),s.child;case 8:return $t(n,s,s.pendingProps.children,o),s.child;case 12:return $t(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ni(s,s.type,u.value),$t(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,na(s),f=rn(f),u=u(f),s.flags|=1,$t(n,s,u,o),s.child;case 14:return My(n,s,s.type,s.pendingProps,o);case 15:return Oy(n,s,s.type,s.pendingProps,o);case 19:return qy(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Mh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Gr(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Py(n,s,o);case 24:return na(s),u=rn(Lt),n===null?(f=nm(),f===null&&(f=it,m=em(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},im(s),Ni(s,Lt,f)):((n.lanes&o)!==0&&(sm(n,s),su(s,null,null,o),iu()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ni(s,Lt,u)):(u=m.cache,Ni(s,Lt,u),u!==f.cache&&Wd(s,[Lt],o,!0))),$t(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Wr(n){n.flags|=4}function Hy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!J2(s)){if(s=Qn.current,s!==null&&((ze&4194048)===ze?Ar!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==Ar))throw nu=rm,I0;n.flags|=8192}}function Oh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?vi():536870912,n.lanes|=s,bo|=s)}function fu(n,s){if(!Fe)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function A5(n,s,o){var u=s.pendingProps;switch($d(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),$r(Lt),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&($l(s)?Wr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,b0())),gt(s),null;case 26:return o=s.memoizedState,n===null?(Wr(s),o!==null?(gt(s),Hy(s,o)):(gt(s),s.flags&=-16777217)):o?o!==n.memoizedState?(Wr(s),gt(s),Hy(s,o)):(gt(s),s.flags&=-16777217):(n.memoizedProps!==u&&Wr(s),gt(s),s.flags&=-16777217),null;case 27:Ua(s),o=Ae.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Wr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}n=_e.current,$l(s)?E0(s):(n=H2(f,u,o),s.stateNode=n,Wr(s))}return gt(s),null;case 5:if(Ua(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Wr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(n=_e.current,$l(s))E0(s);else{switch(f=Qh(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[bt]=s,n[Yt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Zt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wr(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Wr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ae.current,$l(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[bt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L2(n.nodeValue,o)),n||ea(s)}else n=Qh(n).createTextNode(u),n[bt]=s,s.stateNode=n}return gt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=$l(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[bt]=s}else Xl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=b0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Zr(s),s):(Zr(s),null)}if(Zr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Oh(s,s.updateQueue),gt(s),null;case 4:return Jn(),n===null&&og(s.stateNode.containerInfo),gt(s),null;case 10:return $r(s.type),gt(s),null;case 19:if(de(zt),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)fu(f,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Ch(n),m!==null){for(s.flags|=128,fu(f,!1),n=m.updateQueue,s.updateQueue=n,Oh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)_0(o,n),o=o.sibling;return ue(zt,zt.current&1|2),s.child}n=n.sibling}f.tail!==null&&En()>Lh&&(s.flags|=128,u=!0,fu(f,!1),s.lanes=4194304)}else{if(!u)if(n=Ch(m),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Oh(s,n),fu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return gt(s),null}else 2*En()-f.renderingStartTime>Lh&&o!==536870912&&(s.flags|=128,u=!0,fu(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(n=f.last,n!==null?n.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=En(),s.sibling=null,n=zt.current,ue(zt,u?n&1|2:n&1),s):(gt(s),null);case 22:case 23:return Zr(s),um(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Oh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&de(ra),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),$r(Lt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function S5(n,s){switch($d(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return $r(Lt),Jn(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ua(s),null;case 13:if(Zr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return de(zt),null;case 4:return Jn(),null;case 10:return $r(s.type),null;case 22:case 23:return Zr(s),um(),n!==null&&de(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return $r(Lt),null;case 25:return null;default:return null}}function Gy(n,s){switch($d(s),s.tag){case 3:$r(Lt),Jn();break;case 26:case 27:case 5:Ua(s);break;case 4:Jn();break;case 13:Zr(s);break;case 19:de(zt);break;case 10:$r(s.type);break;case 22:case 23:Zr(s),um(),n!==null&&de(ra);break;case 24:$r(Lt)}}function du(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){nt(s,s.return,b)}}function Bi(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var R=o,j=b;try{j()}catch(X){nt(f,R,X)}}}u=u.next}while(u!==m)}}catch(X){nt(s,s.return,X)}}function Ky(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{M0(s,o)}catch(u){nt(n,n.return,u)}}}function Qy(n,s,o){o.props=sa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){nt(n,s,u)}}function mu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){nt(n,s,f)}}function Sr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){nt(n,s,f)}else o.current=null}function Yy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){nt(n,n.return,f)}}function Lm(n,s,o){try{var u=n.stateNode;K5(u,n.type,o,s),u[Yt]=s}catch(f){nt(n,n.return,f)}}function $y(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qi(n.type)||n.tag===4}function zm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$y(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kh));else if(u!==4&&(u===27&&Qi(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Bm(n,s,o),n=n.sibling;n!==null;)Bm(n,s,o),n=n.sibling}function Ph(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Qi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ph(n,s,o),n=n.sibling;n!==null;)Ph(n,s,o),n=n.sibling}function Xy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Zt(s,u,o),s[bt]=n,s[Yt]=o}catch(m){nt(n,n.return,m)}}var ei=!1,Rt=!1,Um=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function R5(n,s){if(n=n.containerInfo,cg=Wh,n=l0(n),zd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,b=-1,R=-1,j=0,X=0,W=n,q=null;t:for(;;){for(var F;W!==o||f!==0&&W.nodeType!==3||(b=E+f),W!==m||u!==0&&W.nodeType!==3||(R=E+u),W.nodeType===3&&(E+=W.nodeValue.length),(F=W.firstChild)!==null;)q=W,W=F;for(;;){if(W===n)break t;if(q===o&&++j===f&&(b=E),q===m&&++X===u&&(R=E),(F=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=F}o=b===-1||R===-1?null:{start:b,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(hg={focusedElem:n,selectionRange:o},Wh=!1,Ft=s;Ft!==null;)if(s=Ft,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ft=n;else for(;Ft!==null;){switch(s=Ft,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Se=sa(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Se,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){nt(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)mg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ft=n;break}Ft=s.return}}function Jy(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ui(n,o),u&4&&du(5,o);break;case 1:if(Ui(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(o,o.return,E)}else{var f=sa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(o,o.return,E)}}u&64&&Ky(o),u&512&&mu(o,o.return);break;case 3:if(Ui(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{M0(n,s)}catch(E){nt(o,o.return,E)}}break;case 27:s===null&&u&4&&Xy(o);case 26:case 5:Ui(n,o),s===null&&u&4&&Yy(o),u&512&&mu(o,o.return);break;case 12:Ui(n,o);break;case 13:Ui(n,o),u&4&&t2(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=P5.bind(null,o),W5(n,o))));break;case 22:if(u=o.memoizedState!==null||ei,!u){s=s!==null&&s.memoizedState!==null||Rt,f=ei;var m=Rt;ei=u,(Rt=s)&&!m?ji(n,o,(o.subtreeFlags&8772)!==0):Ui(n,o),ei=f,Rt=m}break;case 30:break;default:Ui(n,o)}}function Wy(n){var s=n.alternate;s!==null&&(n.alternate=null,Wy(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ga(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,bn=!1;function ti(n,s,o){for(o=o.child;o!==null;)e2(n,s,o),o=o.sibling}function e2(n,s,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:Rt||Sr(o,s),ti(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||Sr(o,s);var u=ct,f=bn;Qi(o.type)&&(ct=o.stateNode,bn=!1),ti(n,s,o),wu(o.stateNode),ct=u,bn=f;break;case 5:Rt||Sr(o,s);case 6:if(u=ct,f=bn,ct=null,ti(n,s,o),ct=u,bn=f,ct!==null)if(bn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(m){nt(o,s,m)}else try{ct.removeChild(o.stateNode)}catch(m){nt(o,s,m)}break;case 18:ct!==null&&(bn?(n=ct,q2(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Vu(n)):q2(ct,o.stateNode));break;case 4:u=ct,f=bn,ct=o.stateNode.containerInfo,bn=!0,ti(n,s,o),ct=u,bn=f;break;case 0:case 11:case 14:case 15:Rt||Bi(2,o,s),Rt||Bi(4,o,s),ti(n,s,o);break;case 1:Rt||(Sr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Qy(o,s,u)),ti(n,s,o);break;case 21:ti(n,s,o);break;case 22:Rt=(u=Rt)||o.memoizedState!==null,ti(n,s,o),Rt=u;break;default:ti(n,s,o)}}function t2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vu(n)}catch(o){nt(s,s.return,o)}}function I5(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Zy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Zy),s;default:throw Error(r(435,n.tag))}}function jm(n,s){var o=I5(n);s.forEach(function(u){var f=k5.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Dn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Qi(b.type)){ct=b.stateNode,bn=!1;break e}break;case 5:ct=b.stateNode,bn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,bn=!0;break e}b=b.return}if(ct===null)throw Error(r(160));e2(m,E,f),ct=null,bn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)n2(s,n),s=s.sibling}var or=null;function n2(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(s,n),Vn(n),u&4&&(Bi(3,n,n.return),du(3,n),Bi(5,n,n.return));break;case 1:Dn(s,n),Vn(n),u&512&&(Rt||o===null||Sr(o,o.return)),u&64&&ei&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=or;if(Dn(s,n),Vn(n),u&512&&(Rt||o===null||Sr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[bi]||m[bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Zt(m,u,o),m[bt]=n,wt(m),u=m;break e;case"link":var E=X2("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(m=E[b],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}m=f.createElement(u),Zt(m,u,o),f.head.appendChild(m);break;case"meta":if(E=X2("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(m=E[b],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}m=f.createElement(u),Zt(m,u,o),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[bt]=n,wt(m),u=m}n.stateNode=u}else Z2(f,n.type,n.stateNode);else n.stateNode=$2(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Z2(f,n.type,n.stateNode):$2(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Lm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Dn(s,n),Vn(n),u&512&&(Rt||o===null||Sr(o,o.return)),o!==null&&u&4&&Lm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Dn(s,n),Vn(n),u&512&&(Rt||o===null||Sr(o,o.return)),n.flags&32){f=n.stateNode;try{jn(f,"")}catch(F){nt(n,n.return,F)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Lm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Um=!0);break;case 6:if(Dn(s,n),Vn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(F){nt(n,n.return,F)}}break;case 3:if(Xh=null,f=or,or=Yh(s.containerInfo),Dn(s,n),or=f,Vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Vu(s.containerInfo)}catch(F){nt(n,n.return,F)}Um&&(Um=!1,r2(n));break;case 4:u=or,or=Yh(n.stateNode.containerInfo),Dn(s,n),Vn(n),or=u;break;case 12:Dn(s,n),Vn(n);break;case 13:Dn(s,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qm=En()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jm(n,u)));break;case 22:f=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,j=ei,X=Rt;if(ei=j||f,Rt=X||R,Dn(s,n),Rt=X,ei=j,Vn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||R||ei||Rt||aa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){R=o=s;try{if(m=R.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=R.stateNode;var W=R.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){nt(R,R.return,F)}}}else if(s.tag===6){if(o===null){R=s;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(F){nt(R,R.return,F)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,jm(n,o))));break;case 19:Dn(s,n),Vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,jm(n,u)));break;case 30:break;case 21:break;default:Dn(s,n),Vn(n)}}function Vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if($y(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=zm(n);Ph(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(jn(E,""),o.flags&=-33);var b=zm(n);Ph(n,b,E);break;case 3:case 4:var R=o.stateNode.containerInfo,j=zm(n);Bm(n,j,R);break;default:throw Error(r(161))}}catch(X){nt(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function r2(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;r2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ui(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Jy(n,s.alternate,s),s=s.sibling}function aa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Bi(4,s,s.return),aa(s);break;case 1:Sr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Qy(s,s.return,o),aa(s);break;case 27:wu(s.stateNode);case 26:case 5:Sr(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}n=n.sibling}}function ji(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:ji(f,m,o),du(4,m);break;case 1:if(ji(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){nt(u,u.return,j)}if(u=m,f=u.updateQueue,f!==null){var b=u.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)N0(R[f],b)}catch(j){nt(u,u.return,j)}}o&&E&64&&Ky(m),mu(m,m.return);break;case 27:Xy(m);case 26:case 5:ji(f,m,o),o&&u===null&&E&4&&Yy(m),mu(m,m.return);break;case 12:ji(f,m,o);break;case 13:ji(f,m,o),o&&E&4&&t2(f,m);break;case 22:m.memoizedState===null&&ji(f,m,o),mu(m,m.return);break;case 30:break;default:ji(f,m,o)}s=s.sibling}}function qm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Wl(o))}function Fm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Wl(n))}function Rr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i2(n,s,o,u),s=s.sibling}function i2(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Rr(n,s,o,u),f&2048&&du(9,s);break;case 1:Rr(n,s,o,u);break;case 3:Rr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Wl(n)));break;case 12:if(f&2048){Rr(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,E=m.id,b=m.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){nt(s,s.return,R)}}else Rr(n,s,o,u);break;case 13:Rr(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?Rr(n,s,o,u):gu(n,s):m._visibility&2?Rr(n,s,o,u):(m._visibility|=2,vo(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&qm(E,s);break;case 24:Rr(n,s,o,u),f&2048&&Fm(s.alternate,s);break;default:Rr(n,s,o,u)}}function vo(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,E=s,b=o,R=u,j=E.flags;switch(E.tag){case 0:case 11:case 15:vo(m,E,b,R,f),du(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?vo(m,E,b,R,f):gu(m,E):(X._visibility|=2,vo(m,E,b,R,f)),f&&j&2048&&qm(E.alternate,E);break;case 24:vo(m,E,b,R,f),f&&j&2048&&Fm(E.alternate,E);break;default:vo(m,E,b,R,f)}s=s.sibling}}function gu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:gu(o,u),f&2048&&qm(u.alternate,u);break;case 24:gu(o,u),f&2048&&Fm(u.alternate,u);break;default:gu(o,u)}s=s.sibling}}var pu=8192;function Eo(n){if(n.subtreeFlags&pu)for(n=n.child;n!==null;)s2(n),n=n.sibling}function s2(n){switch(n.tag){case 26:Eo(n),n.flags&pu&&n.memoizedState!==null&&fT(or,n.memoizedState,n.memoizedProps);break;case 5:Eo(n);break;case 3:case 4:var s=or;or=Yh(n.stateNode.containerInfo),Eo(n),or=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=pu,pu=16777216,Eo(n),pu=s):Eo(n));break;default:Eo(n)}}function a2(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function yu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,l2(u,n)}a2(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o2(n),n=n.sibling}function o2(n){switch(n.tag){case 0:case 11:case 15:yu(n),n.flags&2048&&Bi(9,n,n.return);break;case 3:yu(n);break;case 12:yu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,kh(n)):yu(n);break;default:yu(n)}}function kh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,l2(u,n)}a2(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Bi(8,s,s.return),kh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,kh(s));break;default:kh(s)}n=n.sibling}}function l2(n,s){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Bi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=n;Ft!==null;){u=Ft;var f=u.sibling,m=u.return;if(Wy(u),u===o){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}var x5={getCacheForType:function(n){var s=rn(Lt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},C5=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Ne=null,ze=0,Qe=0,Nn=null,qi=!1,To=!1,Hm=!1,ni=0,vt=0,Fi=0,oa=0,Gm=0,Yn=0,bo=0,_u=null,wn=null,Km=!1,Qm=0,Lh=1/0,zh=null,Hi=null,Xt=0,Gi=null,wo=null,Ao=0,Ym=0,$m=null,u2=null,vu=0,Xm=null;function Mn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var n=co;return n!==0?n:rg()}return zr()}function c2(){Yn===0&&(Yn=(ze&536870912)===0||Fe?Cl():536870912);var n=Qn.current;return n!==null&&(n.flags|=32),Yn}function On(n,s,o){(n===it&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(So(n,0),Ki(n,ze,Yn,!1)),Tt(n,o),((Ke&2)===0||n!==it)&&(n===it&&((Ke&2)===0&&(oa|=o),vt===4&&Ki(n,ze,Yn,!1)),Ir(n))}function h2(n,s,o){if((Ke&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||_i(n,s),f=u?N5(n,s):Wm(n,s,!0),m=u;do{if(f===0){To&&!u&&Ki(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!D5(o)){f=Wm(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var b=n;f=_u;var R=b.current.memoizedState.isDehydrated;if(R&&(So(b,E).flags|=256),E=Wm(b,E,!1),E!==2){if(Hm&&!R){b.errorRecoveryDisabledLanes|=m,oa|=m,f=4;break e}m=wn,wn=f,m!==null&&(wn===null?wn=m:wn.push.apply(wn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){So(n,0),Ki(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ki(u,s,Yn,!qi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Qm+300-En(),10<f)){if(Ki(u,s,Yn,!qi),Bn(u,0,!0)!==0)break e;u.timeoutHandle=U2(f2.bind(null,u,o,wn,zh,Km,s,Yn,oa,bo,qi,m,2,-0,0),f);break e}f2(u,o,wn,zh,Km,s,Yn,oa,bo,qi,m,0,-0,0)}}break}while(!0);Ir(n)}function f2(n,s,o,u,f,m,E,b,R,j,X,W,q,F){if(n.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ru={stylesheets:null,count:0,unsuspend:hT},s2(s),W=dT(),W!==null)){n.cancelPendingCommit=W(v2.bind(null,n,s,m,o,u,f,E,b,R,X,1,q,F)),Ki(n,m,E,!j);return}v2(n,s,m,o,u,f,E,b,R)}function D5(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ki(n,s,o,u){s&=~Gm,s&=~oa,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-hn(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Ei(n,o,s)}function Bh(){return(Ke&6)===0?(Eu(0),!1):!0}function Zm(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,Yr=ta=null,mm(n),yo=null,cu=0,n=Ne;for(;n!==null;)Gy(n.alternate,n),n=n.return;Ne=null}}function So(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Y5(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Zm(),it=n,Ne=o=Gr(n.current,null),ze=s,Qe=0,Nn=null,qi=!1,To=_i(n,s),Hm=!1,bo=Yn=Gm=oa=Fi=vt=0,wn=_u=null,Km=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-hn(u),m=1<<f;s|=n[f],u&=~m}return ni=s,oh(),o}function d2(n,s){De=null,$.H=Rh,s===tu||s===ph?(s=D0(),Qe=3):s===I0?(s=D0(),Qe=4):Qe=s===Vy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Ne===null&&(vt=1,Vh(n,Fn(s,n.current)))}function m2(){var n=$.H;return $.H=Rh,n===null?Rh:n}function g2(){var n=$.A;return $.A=x5,n}function Jm(){vt=4,qi||(ze&4194048)!==ze&&Qn.current!==null||(To=!0),(Fi&134217727)===0&&(oa&134217727)===0||it===null||Ki(it,ze,Yn,!1)}function Wm(n,s,o){var u=Ke;Ke|=2;var f=m2(),m=g2();(it!==n||ze!==s)&&(zh=null,So(n,s)),s=!1;var E=vt;e:do try{if(Qe!==0&&Ne!==null){var b=Ne,R=Nn;switch(Qe){case 8:Zm(),E=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var j=Qe;if(Qe=0,Nn=null,Ro(n,b,R,j),o&&To){E=0;break e}break;default:j=Qe,Qe=0,Nn=null,Ro(n,b,R,j)}}V5(),E=vt;break}catch(X){d2(n,X)}while(!0);return s&&n.shellSuspendCounter++,Yr=ta=null,Ke=u,$.H=f,$.A=m,Ne===null&&(it=null,ze=0,oh()),E}function V5(){for(;Ne!==null;)p2(Ne)}function N5(n,s){var o=Ke;Ke|=2;var u=m2(),f=g2();it!==n||ze!==s?(zh=null,Lh=En()+500,So(n,s)):To=_i(n,s);e:do try{if(Qe!==0&&Ne!==null){s=Ne;var m=Nn;t:switch(Qe){case 1:Qe=0,Nn=null,Ro(n,s,m,1);break;case 2:case 9:if(x0(m)){Qe=0,Nn=null,y2(s);break}s=function(){Qe!==2&&Qe!==9||it!==n||(Qe=7),Ir(n)},m.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:x0(m)?(Qe=0,Nn=null,y2(s)):(Qe=0,Nn=null,Ro(n,s,m,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var b=Ne;if(!E||J2(E)){Qe=0,Nn=null;var R=b.sibling;if(R!==null)Ne=R;else{var j=b.return;j!==null?(Ne=j,Uh(j)):Ne=null}break t}}Qe=0,Nn=null,Ro(n,s,m,5);break;case 6:Qe=0,Nn=null,Ro(n,s,m,6);break;case 8:Zm(),vt=6;break e;default:throw Error(r(462))}}M5();break}catch(X){d2(n,X)}while(!0);return Yr=ta=null,$.H=u,$.A=f,Ke=o,Ne!==null?0:(it=null,ze=0,oh(),vt)}function M5(){for(;Ne!==null&&!Id();)p2(Ne)}function p2(n){var s=Fy(n.alternate,n,ni);n.memoizedProps=n.pendingProps,s===null?Uh(n):Ne=s}function y2(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Ly(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=Ly(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:mm(s);default:Gy(o,s),s=Ne=_0(s,ni),s=Fy(o,s,ni)}n.memoizedProps=n.pendingProps,s===null?Uh(n):Ne=s}function Ro(n,s,o,u){Yr=ta=null,mm(s),yo=null,cu=0;var f=s.return;try{if(b5(n,f,s,o,ze)){vt=1,Vh(n,Fn(o,n.current)),Ne=null;return}}catch(m){if(f!==null)throw Ne=f,m;vt=1,Vh(n,Fn(o,n.current)),Ne=null;return}s.flags&32768?(Fe||u===1?n=!0:To||(ze&536870912)!==0?n=!1:(qi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_2(s,n)):Uh(s)}function Uh(n){var s=n;do{if((s.flags&32768)!==0){_2(s,qi);return}n=s.return;var o=A5(s.alternate,s,ni);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);vt===0&&(vt=5)}function _2(n,s){do{var o=S5(n.alternate,n);if(o!==null){o.flags&=32767,Ne=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=o}while(n!==null);vt=6,Ne=null}function v2(n,s,o,u,f,m,E,b,R){n.cancelPendingCommit=null;do jh();while(Xt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Fd,Hc(n,o,m,E,b,R),n===it&&(Ne=it=null,ze=0),wo=s,Gi=n,Ao=o,Ym=m,$m=f,u2=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,L5(Lr,function(){return A2(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=he.p,he.p=2,E=Ke,Ke|=4;try{R5(n,s,o)}finally{Ke=E,he.p=f,$.T=u}}Xt=1,E2(),T2(),b2()}}function E2(){if(Xt===1){Xt=0;var n=Gi,s=wo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=he.p;he.p=2;var f=Ke;Ke|=4;try{n2(s,n);var m=hg,E=l0(n.containerInfo),b=m.focusedElem,R=m.selectionRange;if(E!==b&&b&&b.ownerDocument&&o0(b.ownerDocument.documentElement,b)){if(R!==null&&zd(b)){var j=R.start,X=R.end;if(X===void 0&&(X=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var F=q.getSelection(),Se=b.textContent.length,be=Math.min(R.start,Se),tt=R.end===void 0?be:Math.min(R.end,Se);!F.extend&&be>tt&&(E=tt,tt=be,be=E);var P=a0(b,be),M=a0(b,tt);if(P&&M&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var B=W.createRange();B.setStart(P.node,P.offset),F.removeAllRanges(),be>tt?(F.addRange(B),F.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),F.addRange(B))}}}}for(W=[],F=b;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wh=!!cg,hg=cg=null}finally{Ke=f,he.p=u,$.T=o}}n.current=s,Xt=2}}function T2(){if(Xt===2){Xt=0;var n=Gi,s=wo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=he.p;he.p=2;var f=Ke;Ke|=4;try{Jy(n,s.alternate,s)}finally{Ke=f,he.p=u,$.T=o}}Xt=3}}function b2(){if(Xt===4||Xt===3){Xt=0,Il();var n=Gi,s=wo,o=Ao,u=u2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,wo=Gi=null,w2(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Hi=null),Vl(o),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(pi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,f=he.p,he.p=2,$.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];m(b.value,{componentStack:b.stack})}}finally{$.T=s,he.p=f}}(Ao&3)!==0&&jh(),Ir(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Xm?vu++:(vu=0,Xm=n):vu=0,Eu(0)}}function w2(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Wl(s)))}function jh(n){return E2(),T2(),b2(),A2()}function A2(){if(Xt!==5)return!1;var n=Gi,s=Ym;Ym=0;var o=Vl(Ao),u=$.T,f=he.p;try{he.p=32>o?32:o,$.T=null,o=$m,$m=null;var m=Gi,E=Ao;if(Xt=0,wo=Gi=null,Ao=0,(Ke&6)!==0)throw Error(r(331));var b=Ke;if(Ke|=4,o2(m.current),i2(m,m.current,E,o),Ke=b,Eu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(pi,m)}catch{}return!0}finally{he.p=f,$.T=u,w2(n,s)}}function S2(n,s,o){s=Fn(o,s),s=xm(n.stateNode,s,2),n=Pi(n,s,2),n!==null&&(Tt(n,2),Ir(n))}function nt(n,s,o){if(n.tag===3)S2(n,n,o);else for(;s!==null;){if(s.tag===3){S2(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hi===null||!Hi.has(u))){n=Fn(o,n),o=Cy(2),u=Pi(s,o,2),u!==null&&(Dy(o,u,s,n),Tt(u,2),Ir(u));break}}s=s.return}}function eg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new C5;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Hm=!0,f.add(o),n=O5.bind(null,n,s,o),s.then(n,n))}function O5(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,it===n&&(ze&o)===o&&(vt===4||vt===3&&(ze&62914560)===ze&&300>En()-Qm?(Ke&2)===0&&So(n,0):Gm|=o,bo===ze&&(bo=0)),Ir(n)}function R2(n,s){s===0&&(s=vi()),n=ao(n,s),n!==null&&(Tt(n,s),Ir(n))}function P5(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),R2(n,o)}function k5(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),R2(n,o)}function L5(n,s){return Rs(n,s)}var qh=null,Io=null,tg=!1,Fh=!1,ng=!1,la=0;function Ir(n){n!==Io&&n.next===null&&(Io===null?qh=Io=n:Io=Io.next=n),Fh=!0,tg||(tg=!0,B5())}function Eu(n,s){if(!ng&&Fh){ng=!0;do for(var o=!1,u=qh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-hn(42|n)+1)-1,m&=f&~(E&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,D2(u,m))}else m=ze,m=Bn(u,u===it?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||_i(u,m)||(o=!0,D2(u,m));u=u.next}while(o);ng=!1}}function z5(){I2()}function I2(){Fh=tg=!1;var n=0;la!==0&&(Q5()&&(n=la),la=0);for(var s=En(),o=null,u=qh;u!==null;){var f=u.next,m=x2(u,s);m===0?(u.next=null,o===null?qh=f:o.next=f,f===null&&(Io=o)):(o=u,(n!==0||(m&3)!==0)&&(Fh=!0)),u=f}Eu(n)}function x2(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-hn(m),b=1<<E,R=f[E];R===-1?((b&o)===0||(b&u)!==0)&&(f[E]=Fa(b,s)):R<=s&&(n.expiredLanes|=b),m&=~b}if(s=it,o=ze,o=Bn(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&qa(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||_i(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&qa(u),Vl(o)){case 2:case 8:o=Ut;break;case 32:o=Lr;break;case 268435456:o=xl;break;default:o=Lr}return u=C2.bind(null,n),o=Rs(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&qa(u),n.callbackPriority=2,n.callbackNode=null,2}function C2(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(jh()&&n.callbackNode!==o)return null;var u=ze;return u=Bn(n,n===it?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(h2(n,u,s),x2(n,En()),n.callbackNode!=null&&n.callbackNode===o?C2.bind(null,n):null)}function D2(n,s){if(jh())return null;h2(n,s,!0)}function B5(){$5(function(){(Ke&6)!==0?Rs(Pt,z5):I2()})}function rg(){return la===0&&(la=Cl()),la}function V2(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:nr(""+n)}function N2(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function U5(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=V2((f[Yt]||null).action),E=u.submitter;E&&(s=(s=E[Yt]||null)?V2(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var b=new js("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(la!==0){var R=E?N2(f,E):new FormData(f);wm(o,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(b.preventDefault(),R=E?N2(f,E):new FormData(f),wm(o,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var ig=0;ig<qd.length;ig++){var sg=qd[ig],j5=sg.toLowerCase(),q5=sg[0].toUpperCase()+sg.slice(1);ar(j5,"on"+q5)}ar(h0,"onAnimationEnd"),ar(f0,"onAnimationIteration"),ar(d0,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(s5,"onTransitionRun"),ar(a5,"onTransitionStart"),ar(o5,"onTransitionCancel"),ar(m0,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function M2(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],R=b.instance,j=b.currentTarget;if(b=b.listener,R!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=j;try{m(f)}catch(X){Dh(X)}f.currentTarget=null,m=R}else for(E=0;E<u.length;E++){if(b=u[E],R=b.instance,j=b.currentTarget,b=b.listener,R!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=j;try{m(f)}catch(X){Dh(X)}f.currentTarget=null,m=R}}}}function Me(n,s){var o=s[xs];o===void 0&&(o=s[xs]=new Set);var u=n+"__bubble";o.has(u)||(O2(s,n,2,!1),o.add(u))}function ag(n,s,o){var u=0;s&&(u|=4),O2(o,n,u,s)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function og(n){if(!n[Hh]){n[Hh]=!0,Gc.forEach(function(o){o!=="selectionchange"&&(F5.has(o)||ag(o,!1,n),ag(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hh]||(s[Hh]=!0,ag("selectionchange",!1,s))}}function O2(n,s,o,u){switch(i_(s)){case 2:var f=pT;break;case 8:f=yT;break;default:f=Tg}o=f.bind(null,s,o,n),f=void 0,!Fr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function lg(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=pr(b),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){u=m=E;continue e}b=b.parentNode}}u=u.return}zs(function(){var j=m,X=zl(o),W=[];e:{var q=g0.get(n);if(q!==void 0){var F=js,Se=n;switch(n){case"keypress":if(Bs(o)===0)break e;case"keydown":case"keyup":F=no;break;case"focusin":Se="focus",F=Wa;break;case"focusout":Se="blur",F=Wa;break;case"beforeblur":case"afterblur":F=Wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Vi;break;case h0:case f0:case d0:F=Ul;break;case m0:F=y;break;case"scroll":case"scrollend":F=Fs;break;case"wheel":F=A;break;case"copy":case"cut":case"paste":F=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Fl;break;case"toggle":case"beforetoggle":F=Q}var be=(s&4)!==0,tt=!be&&(n==="scroll"||n==="scrollend"),P=be?q!==null?q+"Capture":null:q;be=[];for(var M=j,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||P===null||(Z=Ci(M,P),Z!=null&&be.push(bu(M,Z,B))),tt)break;M=M.return}0<be.length&&(q=new F(q,Se,null,o,X),W.push({event:q,listeners:be}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",q&&o!==Ll&&(Se=o.relatedTarget||o.fromElement)&&(pr(Se)||Se[Br]))break e;if((F||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Se=o.relatedTarget||o.toElement,F=j,Se=Se?pr(Se):null,Se!==null&&(tt=l(Se),be=Se.tag,Se!==tt||be!==5&&be!==27&&be!==6)&&(Se=null)):(F=null,Se=j),F!==Se)){if(be=Ks,Z="onMouseLeave",P="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(be=Fl,Z="onPointerLeave",P="onPointerEnter",M="pointer"),tt=F==null?q:wi(F),B=Se==null?q:wi(Se),q=new be(Z,M+"leave",F,o,X),q.target=tt,q.relatedTarget=B,Z=null,pr(X)===j&&(be=new be(P,M+"enter",Se,o,X),be.target=B,be.relatedTarget=tt,Z=be),tt=Z,F&&Se)t:{for(be=F,P=Se,M=0,B=be;B;B=xo(B))M++;for(B=0,Z=P;Z;Z=xo(Z))B++;for(;0<M-B;)be=xo(be),M--;for(;0<B-M;)P=xo(P),B--;for(;M--;){if(be===P||P!==null&&be===P.alternate)break t;be=xo(be),P=xo(P)}be=null}else be=null;F!==null&&P2(W,q,F,be,!1),Se!==null&&tt!==null&&P2(W,tt,Se,be,!0)}}e:{if(q=j?wi(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var me=e0;else if(J1(q))if(t0)me=n5;else{me=e5;var Ve=W6}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Xa(j.elementType)&&(me=e0):me=t5;if(me&&(me=me(n,j))){W1(W,me,o,X);break e}Ve&&Ve(n,q,j),n==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Ol(q,"number",q.value)}switch(Ve=j?wi(j):window,n){case"focusin":(J1(Ve)||Ve.contentEditable==="true")&&(ro=Ve,Bd=j,Yl=null);break;case"focusout":Yl=Bd=ro=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,u0(W,o,X);break;case"selectionchange":if(i5)break;case"keydown":case"keyup":u0(W,o,X)}var ye;if(Ie)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else sr?rr(n,o)&&(we="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(At&&o.locale!=="ko"&&(sr||we!=="onCompositionStart"?we==="onCompositionEnd"&&sr&&(ye=Zc()):(qn=X,rt="value"in qn?qn.value:qn.textContent,sr=!0)),Ve=Gh(j,we),0<Ve.length&&(we=new ql(we,n,null,o,X),W.push({event:we,listeners:Ve}),ye?we.data=ye:(ye=ir(o),ye!==null&&(we.data=ye)))),(ye=Ge?Hl(n,o):X6(n,o))&&(we=Gh(j,"onBeforeInput"),0<we.length&&(Ve=new ql("onBeforeInput","beforeinput",null,o,X),W.push({event:Ve,listeners:we}),Ve.data=ye)),U5(W,n,j,o,X)}M2(W,s)})}function bu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Gh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ci(n,o),f!=null&&u.unshift(bu(n,f,m)),f=Ci(n,s),f!=null&&u.push(bu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function xo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function P2(n,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var b=o,R=b.alternate,j=b.stateNode;if(b=b.tag,R!==null&&R===u)break;b!==5&&b!==26&&b!==27||j===null||(R=j,f?(j=Ci(o,m),j!=null&&E.unshift(bu(o,j,R))):f||(j=Ci(o,m),j!=null&&E.push(bu(o,j,R)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var H5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function k2(n){return(typeof n=="string"?n:""+n).replace(H5,`
`).replace(G5,"")}function L2(n,s){return s=k2(s),k2(n)===s}function Kh(){}function et(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||jn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&jn(n,""+u);break;case"className":Ms(n,"class",u);break;case"tabIndex":Ms(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(n,o,u);break;case"style":kl(n,u,m);break;case"data":if(s!=="object"){Ms(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=nr(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&et(n,s,"name",f.name,f,null),et(n,s,"formEncType",f.formEncType,f,null),et(n,s,"formMethod",f.formMethod,f,null),et(n,s,"formTarget",f.formTarget,f,null)):(et(n,s,"encType",f.encType,f,null),et(n,s,"method",f.method,f,null),et(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=nr(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=nr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),Ns(n,"popover",u);break;case"xlinkActuate":Un(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Un(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Un(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Un(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Un(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Un(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Un(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Un(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Un(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ns(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yc.get(o)||o,Ns(n,o,u))}}function ug(n,s,o,u,f,m){switch(o){case"style":kl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?jn(n,u):(typeof u=="number"||typeof u=="bigint")&&jn(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[Yt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Ns(n,o,u)}}}function Zt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,m,E,o,null)}}f&&et(n,s,"srcSet",o.srcSet,o,null),u&&et(n,s,"src",o.src,o,null);return;case"input":Me("invalid",n);var b=m=E=f=null,R=null,j=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":R=X;break;case"defaultChecked":j=X;break;case"value":m=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:et(n,s,u,X,o,null)}}Ml(n,m,b,R,j,E,f,!1),Ri(n);return;case"select":Me("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:et(n,s,f,b,o,null)}s=m,o=E,n.multiple=!!u,s!=null?Ii(n,!!u,s,!1):o!=null&&Ii(n,!!u,o,!0);return;case"textarea":Me("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:et(n,s,E,b,o,null)}Qc(n,u,f,m),Ri(n);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,s,R,u,o,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<Tu.length;u++)Me(Tu[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,j,u,o,null)}return;default:if(Xa(s)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&ug(n,s,X,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&et(n,s,b,u,o,null))}function K5(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,b=null,R=null,j=null,X=null;for(F in o){var W=o[F];if(o.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=W;default:u.hasOwnProperty(F)||et(n,s,F,null,u,W)}}for(var q in u){var F=u[q];if(W=o[q],u.hasOwnProperty(q)&&(F!=null||W!=null))switch(q){case"type":m=F;break;case"name":f=F;break;case"checked":j=F;break;case"defaultChecked":X=F;break;case"value":E=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:F!==W&&et(n,s,q,F,u,W)}}Nl(n,E,b,R,j,X,m,f);return;case"select":F=E=b=q=null;for(m in o)if(R=o[m],o.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":F=R;default:u.hasOwnProperty(m)||et(n,s,m,null,u,R)}for(f in u)if(m=u[f],R=o[f],u.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":q=m;break;case"defaultValue":b=m;break;case"multiple":E=m;default:m!==R&&et(n,s,f,m,u,R)}s=b,o=E,u=F,q!=null?Ii(n,!!o,q,!1):!!u!=!!o&&(s!=null?Ii(n,!!o,s,!0):Ii(n,!!o,o?[]:"",!1));return;case"textarea":F=q=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(n,s,b,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":q=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&et(n,s,E,f,u,m)}Kc(n,q,F);return;case"option":for(var Se in o)if(q=o[Se],o.hasOwnProperty(Se)&&q!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:et(n,s,Se,null,u,q)}for(R in u)if(q=u[R],F=o[R],u.hasOwnProperty(R)&&q!==F&&(q!=null||F!=null))switch(R){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:et(n,s,R,q,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)q=o[be],o.hasOwnProperty(be)&&q!=null&&!u.hasOwnProperty(be)&&et(n,s,be,null,u,q);for(j in u)if(q=u[j],F=o[j],u.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:et(n,s,j,q,u,F)}return;default:if(Xa(s)){for(var tt in o)q=o[tt],o.hasOwnProperty(tt)&&q!==void 0&&!u.hasOwnProperty(tt)&&ug(n,s,tt,void 0,u,q);for(X in u)q=u[X],F=o[X],!u.hasOwnProperty(X)||q===F||q===void 0&&F===void 0||ug(n,s,X,q,u,F);return}}for(var P in o)q=o[P],o.hasOwnProperty(P)&&q!=null&&!u.hasOwnProperty(P)&&et(n,s,P,null,u,q);for(W in u)q=u[W],F=o[W],!u.hasOwnProperty(W)||q===F||q==null&&F==null||et(n,s,W,q,u,F)}var cg=null,hg=null;function Qh(n){return n.nodeType===9?n:n.ownerDocument}function z2(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B2(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function fg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dg=null;function Q5(){var n=window.event;return n&&n.type==="popstate"?n===dg?!1:(dg=n,!0):(dg=null,!1)}var U2=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,j2=typeof Promise=="function"?Promise:void 0,$5=typeof queueMicrotask=="function"?queueMicrotask:typeof j2<"u"?function(n){return j2.resolve(null).then(n).catch(X5)}:U2;function X5(n){setTimeout(function(){throw n})}function Qi(n){return n==="head"}function q2(n,s){var o=s,u=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&wu(E.documentElement),o&2&&wu(E.body),o&4)for(o=E.head,wu(o),E=o.firstChild;E;){var b=E.nextSibling,R=E.nodeName;E[bi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(m),Vu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Vu(s)}function mg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mg(o),Ga(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Z5(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[bi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=lr(n.nextSibling),n===null)break}return null}function J5(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=lr(n.nextSibling),n===null))return null;return n}function gg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function W5(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function lr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var pg=null;function F2(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function H2(n,s,o){switch(s=Qh(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function wu(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ga(n)}var $n=new Map,G2=new Set;function Yh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ri=he.d;he.d={f:eT,r:tT,D:nT,C:rT,L:iT,m:sT,X:oT,S:aT,M:lT};function eT(){var n=ri.f(),s=Bh();return n||s}function tT(n){var s=yr(n);s!==null&&s.tag===5&&s.type==="form"?hy(s):ri.r(n)}var Co=typeof document>"u"?null:document;function K2(n,s,o){var u=Co;if(u&&typeof s=="string"&&s){var f=jt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G2.has(f)||(G2.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Zt(s,"link",n),wt(s),u.head.appendChild(s)))}}function nT(n){ri.D(n),K2("dns-prefetch",n,null)}function rT(n,s){ri.C(n,s),K2("preconnect",n,s)}function iT(n,s,o){ri.L(n,s,o);var u=Co;if(u&&n&&s){var f='link[rel="preload"][as="'+jt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+jt(o.imageSizes)+'"]')):f+='[href="'+jt(n)+'"]';var m=f;switch(s){case"style":m=Do(n);break;case"script":m=Vo(n)}$n.has(m)||(n=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),$n.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Au(m))||s==="script"&&u.querySelector(Su(m))||(s=u.createElement("link"),Zt(s,"link",n),wt(s),u.head.appendChild(s)))}}function sT(n,s){ri.m(n,s);var o=Co;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+jt(u)+'"][href="'+jt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vo(n)}if(!$n.has(m)&&(n=_({rel:"modulepreload",href:n},s),$n.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Su(m)))return}u=o.createElement("link"),Zt(u,"link",n),wt(u),o.head.appendChild(u)}}}function aT(n,s,o){ri.S(n,s,o);var u=Co;if(u&&n){var f=Ai(u).hoistableStyles,m=Do(n);s=s||"default";var E=f.get(m);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Au(m)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},o),(o=$n.get(m))&&yg(n,o);var R=E=u.createElement("link");wt(R),Zt(R,"link",n),R._p=new Promise(function(j,X){R.onload=j,R.onerror=X}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$h(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(m,E)}}}function oT(n,s){ri.X(n,s);var o=Co;if(o&&n){var u=Ai(o).hoistableScripts,f=Vo(n),m=u.get(f);m||(m=o.querySelector(Su(f)),m||(n=_({src:n,async:!0},s),(s=$n.get(f))&&_g(n,s),m=o.createElement("script"),wt(m),Zt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function lT(n,s){ri.M(n,s);var o=Co;if(o&&n){var u=Ai(o).hoistableScripts,f=Vo(n),m=u.get(f);m||(m=o.querySelector(Su(f)),m||(n=_({src:n,async:!0,type:"module"},s),(s=$n.get(f))&&_g(n,s),m=o.createElement("script"),wt(m),Zt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Q2(n,s,o,u){var f=(f=Ae.current)?Yh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Do(o.href),o=Ai(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Do(o.href);var m=Ai(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Au(n)))&&!m._p&&(E.instance=m,E.state.loading=5),$n.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(n,o),m||uT(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(o),o=Ai(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Do(n){return'href="'+jt(n)+'"'}function Au(n){return'link[rel="stylesheet"]['+n+"]"}function Y2(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function uT(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Zt(s,"link",o),wt(s),n.head.appendChild(s))}function Vo(n){return'[src="'+jt(n)+'"]'}function Su(n){return"script[async]"+n}function $2(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+jt(o.href)+'"]');if(u)return s.instance=u,wt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),wt(u),Zt(u,"style",f),$h(u,o.precedence,n),s.instance=u;case"stylesheet":f=Do(o.href);var m=n.querySelector(Au(f));if(m)return s.state.loading|=4,s.instance=m,wt(m),m;u=Y2(o),(f=$n.get(f))&&yg(u,f),m=(n.ownerDocument||n).createElement("link"),wt(m);var E=m;return E._p=new Promise(function(b,R){E.onload=b,E.onerror=R}),Zt(m,"link",u),s.state.loading|=4,$h(m,o.precedence,n),s.instance=m;case"script":return m=Vo(o.src),(f=n.querySelector(Su(m)))?(s.instance=f,wt(f),f):(u=o,(f=$n.get(m))&&(u=_({},o),_g(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),wt(f),Zt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,$h(u,o.precedence,n));return s.instance}function $h(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function yg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function _g(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Xh=null;function X2(n,s,o){if(Xh===null){var u=new Map,f=Xh=new Map;f.set(o,u)}else f=Xh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[bi]||m[bt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=n+E;var b=u.get(E);b?b.push(m):u.set(E,[m])}}return u}function Z2(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function cT(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J2(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ru=null;function hT(){}function fT(n,s,o){if(Ru===null)throw Error(r(475));var u=Ru;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Do(o.href),m=n.querySelector(Au(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zh.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=m,wt(m);return}m=n.ownerDocument||n,o=Y2(o),(f=$n.get(f))&&yg(o,f),m=m.createElement("link"),wt(m);var E=m;E._p=new Promise(function(b,R){E.onload=b,E.onerror=R}),Zt(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Zh.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function dT(){if(Ru===null)throw Error(r(475));var n=Ru;return n.stylesheets&&n.count===0&&vg(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&vg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Zh(){if(this.count--,this.count===0){if(this.stylesheets)vg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jh=null;function vg(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jh=new Map,s.forEach(mT,n),Jh=null,Zh.call(n))}function mT(n,s){if(!(s.state.loading&4)){var o=Jh.get(n);if(o)var u=o.get(null);else{o=new Map,Jh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=Zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Iu={$$typeof:se,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function gT(n,s,o,u,f,m,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function W2(n,s,o,u,f,m,E,b,R,j,X,W){return n=new gT(n,s,o,E,b,R,j,W),s=1,m===!0&&(s|=24),m=Cn(3,null,null,s),n.current=m,m.stateNode=n,s=em(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},im(m),n}function e_(n){return n?(n=oo,n):oo}function t_(n,s,o,u,f,m){f=e_(f),u.context===null?u.context=f:u.pendingContext=f,u=Oi(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Pi(n,u,s),o!==null&&(On(o,n,s),ru(o,n,s))}function n_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Eg(n,s){n_(n,s),(n=n.alternate)&&n_(n,s)}function r_(n){if(n.tag===13){var s=ao(n,67108864);s!==null&&On(s,n,67108864),Eg(n,67108864)}}var Wh=!0;function pT(n,s,o,u){var f=$.T;$.T=null;var m=he.p;try{he.p=2,Tg(n,s,o,u)}finally{he.p=m,$.T=f}}function yT(n,s,o,u){var f=$.T;$.T=null;var m=he.p;try{he.p=8,Tg(n,s,o,u)}finally{he.p=m,$.T=f}}function Tg(n,s,o,u){if(Wh){var f=bg(u);if(f===null)lg(n,s,u,ef,o),s_(n,u);else if(vT(f,n,s,o,u))u.stopPropagation();else if(s_(n,u),s&4&&-1<_T.indexOf(n)){for(;f!==null;){var m=yr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Wn(m.pendingLanes);if(E!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var R=1<<31-hn(E);b.entanglements[1]|=R,E&=~R}Ir(m),(Ke&6)===0&&(Lh=En()+500,Eu(0))}}break;case 13:b=ao(m,2),b!==null&&On(b,m,2),Bh(),Eg(m,2)}if(m=bg(u),m===null&&lg(n,s,u,ef,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else lg(n,s,u,null,o)}}function bg(n){return n=zl(n),wg(n)}var ef=null;function wg(n){if(ef=null,n=pr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ef=n,null}function i_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case Pt:return 2;case Ut:return 8;case Lr:case xd:return 32;case xl:return 268435456;default:return 32}default:return 32}}var Ag=!1,Yi=null,$i=null,Xi=null,xu=new Map,Cu=new Map,Zi=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s_(n,s){switch(n){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":xu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function Du(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=yr(s),s!==null&&r_(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function vT(n,s,o,u,f){switch(s){case"focusin":return Yi=Du(Yi,n,s,o,u,f),!0;case"dragenter":return $i=Du($i,n,s,o,u,f),!0;case"mouseover":return Xi=Du(Xi,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return xu.set(m,Du(xu.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Cu.set(m,Du(Cu.get(m)||null,n,s,o,u,f)),!0}return!1}function a_(n){var s=pr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Vd(n.priority,function(){if(o.tag===13){var u=Mn();u=Dl(u);var f=ao(o,u);f!==null&&On(f,o,u),Eg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=bg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ll=u,o.target.dispatchEvent(u),Ll=null}else return s=yr(o),s!==null&&r_(s),n.blockedOn=o,!1;s.shift()}return!0}function o_(n,s,o){tf(n)&&o.delete(s)}function ET(){Ag=!1,Yi!==null&&tf(Yi)&&(Yi=null),$i!==null&&tf($i)&&($i=null),Xi!==null&&tf(Xi)&&(Xi=null),xu.forEach(o_),Cu.forEach(o_)}function nf(n,s){n.blockedOn===s&&(n.blockedOn=null,Ag||(Ag=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ET)))}var rf=null;function l_(n){rf!==n&&(rf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rf===n&&(rf=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(wg(u||o)===null)continue;break}var m=yr(o);m!==null&&(n.splice(s,3),s-=3,wm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Vu(n){function s(R){return nf(R,n)}Yi!==null&&nf(Yi,n),$i!==null&&nf($i,n),Xi!==null&&nf(Xi,n),xu.forEach(s),Cu.forEach(s);for(var o=0;o<Zi.length;o++){var u=Zi[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Zi.length&&(o=Zi[0],o.blockedOn===null);)a_(o),o.blockedOn===null&&Zi.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Yt]||null;if(typeof m=="function")E||l_(o);else if(E){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Yt]||null)b=E.formAction;else if(wg(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),l_(o)}}}function Sg(n){this._internalRoot=n}sf.prototype.render=Sg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Mn();t_(o,u,n,s,null,null)},sf.prototype.unmount=Sg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;t_(n.current,2,null,n,null,null),Bh(),s[Br]=null}};function sf(n){this._internalRoot=n}sf.prototype.unstable_scheduleHydration=function(n){if(n){var s=zr();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Zi.length&&s!==0&&s<Zi[o].priority;o++);Zi.splice(o,0,n),o===0&&a_(n)}};var u_=e.version;if(u_!=="19.1.1")throw Error(r(527,u_,"19.1.1"));he.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var TT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{pi=af.inject(TT),tn=af}catch{}}return Mu.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=Sy,m=Ry,E=Iy,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=W2(n,1,!1,null,null,o,u,f,m,E,b,null),n[Br]=s.current,og(n),new Sg(s)},Mu.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",m=Sy,E=Ry,b=Iy,R=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),s=W2(n,1,!0,s,o??null,u,f,m,E,b,R,j),s.context=e_(null),o=s.current,u=Mn(),u=Dl(u),f=Oi(u),f.callback=null,Pi(o,f,u),o=u,s.current.lanes=o,Tt(s,o),Ir(s),n[Br]=s.current,og(n),new sf(s)},Mu.version="19.1.1",Mu}var v_;function VT(){if(v_)return xg.exports;v_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xg.exports=DT(),xg.exports}var NT=VT();const MT=g4(NT);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E_="popstate";function OT(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return Yg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:nc(a)}return kT(e,t,null,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Or(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PT(){return Math.random().toString(36).substring(2,10)}function T_(i,e){return{usr:i.state,key:i.key,idx:e}}function Yg(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:t,key:e&&e.key||r||PT()}}function nc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function pl(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function kT(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",g=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let H=_(),ie=H==null?null:H-p;p=H,g&&g({action:d,location:Y.location,delta:ie})}function w(H,ie){d="PUSH";let te=Yg(Y.location,H,ie);p=_()+1;let se=T_(te,p),Ee=Y.createHref(te);try{c.pushState(se,"",Ee)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;a.location.assign(Ee)}l&&g&&g({action:d,location:Y.location,delta:1})}function D(H,ie){d="REPLACE";let te=Yg(Y.location,H,ie);p=_();let se=T_(te,p),Ee=Y.createHref(te);c.replaceState(se,"",Ee),l&&g&&g({action:d,location:Y.location,delta:0})}function G(H){return LT(H)}let Y={get action(){return d},get location(){return i(a,c)},listen(H){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(E_,T),g=H,()=>{a.removeEventListener(E_,T),g=null}},createHref(H){return e(a,H)},createURL:G,encodeLocation(H){let ie=G(H);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:D,go(H){return c.go(H)}};return Y}function LT(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:nc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function p4(i,e,t="/"){return zT(i,e,t,!1)}function zT(i,e,t,r){let a=typeof e=="string"?pl(e):e,l=oi(a.pathname||"/",t);if(l==null)return null;let c=y4(i);BT(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=XT(l);d=YT(c[g],p,r)}return d}function y4(i,e=[],t=[],r="",a=!1){let l=(c,d,g=a,p)=>{let _={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;pt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let T=si([r,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),y4(c.children,e,w,T,g)),!(c.path==null&&!c.index)&&e.push({path:T,score:KT(T,c.index),routesMeta:w})};return i.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let g of _4(c.path))l(c,d,!0,g)}),e}function _4(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=_4(r.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&d.push(...c),d.map(g=>i.startsWith("/")&&g===""?"/":g)}function BT(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:QT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UT=/^:[\w-]+$/,jT=3,qT=2,FT=1,HT=10,GT=-2,b_=i=>i==="*";function KT(i,e){let t=i.split("/"),r=t.length;return t.some(b_)&&(r+=GT),e&&(r+=qT),t.filter(a=>!b_(a)).reduce((a,l)=>a+(UT.test(l)?jT:l===""?FT:HT),r)}function QT(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function YT(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let g=r[d],p=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),w=g.route;if(!T&&p&&t&&!r[r.length-1].route.index&&(T=xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:si([l,T.pathname]),pathnameBase:eb(si([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=si([l,T.pathnameBase]))}return c}function xf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=$T(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:T},w)=>{if(_==="*"){let G=d[w]||"";c=l.slice(0,l.length-G.length).replace(/(.)\/+$/,"$1")}const D=d[w];return T&&!D?p[_]=void 0:p[_]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:i}}function $T(i,e=!1,t=!0){Or(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(r.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function XT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function oi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function ZT(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?pl(i):i;return{pathname:t?t.startsWith("/")?t:JT(t,e):e,search:tb(r),hash:nb(a)}}function JT(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ng(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WT(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v4(i){let e=WT(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function E4(i,e,t,r=!1){let a;typeof i=="string"?a=pl(i):(a={...i},pt(!a.pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?e[T]:"/"}let g=ZT(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var si=i=>i.join("/").replace(/\/\/+/g,"/"),eb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var T4=["POST","PUT","PATCH","DELETE"];new Set(T4);var ib=["GET",...T4];new Set(ib);var yl=J.createContext(null);yl.displayName="DataRouter";var Wf=J.createContext(null);Wf.displayName="DataRouterState";J.createContext(!1);var b4=J.createContext({isTransitioning:!1});b4.displayName="ViewTransition";var sb=J.createContext(new Map);sb.displayName="Fetchers";var ab=J.createContext(null);ab.displayName="Await";var kr=J.createContext(null);kr.displayName="Navigation";var wc=J.createContext(null);wc.displayName="Location";var hi=J.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Cp=J.createContext(null);Cp.displayName="RouteError";function ob(i,{relative:e}={}){pt(Ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=J.useContext(kr),{hash:a,pathname:l,search:c}=Sc(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:si([t,l])),r.createHref({pathname:d,search:c,hash:a})}function Ac(){return J.useContext(wc)!=null}function Es(){return pt(Ac(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(wc).location}var w4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A4(i){J.useContext(kr).static||J.useLayoutEffect(i)}function lb(){let{isDataRoute:i}=J.useContext(hi);return i?Tb():ub()}function ub(){pt(Ac(),"useNavigate() may be used only in the context of a <Router> component.");let i=J.useContext(yl),{basename:e,navigator:t}=J.useContext(kr),{matches:r}=J.useContext(hi),{pathname:a}=Es(),l=JSON.stringify(v4(r)),c=J.useRef(!1);return A4(()=>{c.current=!0}),J.useCallback((g,p={})=>{if(Or(c.current,w4),!c.current)return;if(typeof g=="number"){t.go(g);return}let _=E4(g,JSON.parse(l),a,p.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:si([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,i])}J.createContext(null);function Sc(i,{relative:e}={}){let{matches:t}=J.useContext(hi),{pathname:r}=Es(),a=JSON.stringify(v4(t));return J.useMemo(()=>E4(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function cb(i,e){return S4(i,e)}function S4(i,e,t,r,a){pt(Ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=J.useContext(kr),{matches:c}=J.useContext(hi),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let te=T&&T.path||"";R4(p,!T||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let w=Es(),D;if(e){let te=typeof e=="string"?pl(e):e;pt(_==="/"||te.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${te.pathname}" was given in the \`location\` prop.`),D=te}else D=w;let G=D.pathname||"/",Y=G;if(_!=="/"){let te=_.replace(/^\//,"").split("/");Y="/"+G.replace(/^\//,"").split("/").slice(te.length).join("/")}let H=p4(i,{pathname:Y});Or(T||H!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Or(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=gb(H&&H.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:si([_,l.encodeLocation?l.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?_:si([_,l.encodeLocation?l.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),c,t,r,a);return e&&ie?J.createElement(wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ie):ie}function hb(){let i=Eb(),e=rb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:l},"ErrorBoundary")," or"," ",J.createElement("code",{style:l},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:a},t):null,c)}var fb=J.createElement(hb,null),db=class extends J.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?J.createElement(hi.Provider,{value:this.props.routeContext},J.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mb({routeContext:i,match:e,children:t}){let r=J.useContext(yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(hi.Provider,{value:i},t)}function gb(i,e=[],t=null,r=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let l=i,c=t?.errors;if(c!=null){let p=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,g=-1;if(t)for(let p=0;p<l.length;p++){let _=l[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=p),_.route.id){let{loaderData:T,errors:w}=t,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||D){d=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,_,T)=>{let w,D=!1,G=null,Y=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,G=_.route.errorElement||fb,d&&(g<0&&T===0?(R4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,Y=null):g===T&&(D=!0,Y=_.route.hydrateFallbackElement||null)));let H=e.concat(l.slice(0,T+1)),ie=()=>{let te;return w?te=G:D?te=Y:_.route.Component?te=J.createElement(_.route.Component,null):_.route.element?te=_.route.element:te=p,J.createElement(mb,{match:_,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:te})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?J.createElement(db,{location:t.location,revalidation:t.revalidation,component:G,error:w,children:ie(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:r}):ie()},null)}function Dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pb(i){let e=J.useContext(yl);return pt(e,Dp(i)),e}function yb(i){let e=J.useContext(Wf);return pt(e,Dp(i)),e}function _b(i){let e=J.useContext(hi);return pt(e,Dp(i)),e}function Vp(i){let e=_b(i),t=e.matches[e.matches.length-1];return pt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function vb(){return Vp("useRouteId")}function Eb(){let i=J.useContext(Cp),e=yb("useRouteError"),t=Vp("useRouteError");return i!==void 0?i:e.errors?.[t]}function Tb(){let{router:i}=pb("useNavigate"),e=Vp("useNavigate"),t=J.useRef(!1);return A4(()=>{t.current=!0}),J.useCallback(async(a,l={})=>{Or(t.current,w4),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var w_={};function R4(i,e,t){!e&&!w_[i]&&(w_[i]=!0,Or(!1,t))}J.memo(bb);function bb({routes:i,future:e,state:t,unstable_onError:r}){return S4(i,void 0,t,r,e)}function ca(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wb({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){pt(!Ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=J.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=pl(t));let{pathname:g="/",search:p="",hash:_="",state:T=null,key:w="default"}=t,D=J.useMemo(()=>{let G=oi(g,c);return G==null?null:{location:{pathname:G,search:p,hash:_,state:T,key:w},navigationType:r}},[c,g,p,_,T,w,r]);return Or(D!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:J.createElement(kr.Provider,{value:d},J.createElement(wc.Provider,{children:e,value:D}))}function Ab({children:i,location:e}){return cb($g(i),e)}function $g(i,e=[]){let t=[];return J.Children.forEach(i,(r,a)=>{if(!J.isValidElement(r))return;let l=[...e,a];if(r.type===J.Fragment){t.push.apply(t,$g(r.props.children,l));return}pt(r.type===ca,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=$g(r.props.children,l)),t.push(c)}),t}var gf="get",pf="application/x-www-form-urlencoded";function ed(i){return i!=null&&typeof i.tagName=="string"}function Sb(i){return ed(i)&&i.tagName.toLowerCase()==="button"}function Rb(i){return ed(i)&&i.tagName.toLowerCase()==="form"}function Ib(i){return ed(i)&&i.tagName.toLowerCase()==="input"}function xb(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Cb(i,e){return i.button===0&&(!e||e==="_self")&&!xb(i)}var of=null;function Db(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mg(i){return i!=null&&!Vb.has(i)?(Or(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):i}function Nb(i,e){let t,r,a,l,c;if(Rb(i)){let d=i.getAttribute("action");r=d?oi(d,e):null,t=i.getAttribute("method")||gf,a=Mg(i.getAttribute("enctype"))||pf,l=new FormData(i)}else if(Sb(i)||Ib(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||d.getAttribute("action");if(r=g?oi(g,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||gf,a=Mg(i.getAttribute("formenctype"))||Mg(d.getAttribute("enctype"))||pf,l=new FormData(d,i),!Db()){let{name:p,type:_,value:T}=i;if(_==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if(ed(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gf,r=null,a=pf,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mb(i,e,t){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&oi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function Ob(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pb(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function kb(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Ob(l,t);return c.links?c.links():[]}return[]}));return Ub(r.flat(1).filter(Pb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function A_(i,e,t,r,a,l){let c=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,d=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>c(g,p)||d(g,p)):l==="data"?e.filter((g,p)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Lb(i,e,{includeHydrateFallback:t}={}){return zb(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function zb(i){return[...new Set(i)]}function Bb(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function Ub(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(Bb(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function I4(){let i=J.useContext(yl);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function jb(){let i=J.useContext(Wf);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Mp=J.createContext(void 0);Mp.displayName="FrameworkContext";function x4(){let i=J.useContext(Mp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function qb(i,e){let t=J.useContext(Mp),[r,a]=J.useState(!1),[l,c]=J.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,w=J.useRef(null);J.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let Y=ie=>{ie.forEach(te=>{c(te.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[i]),J.useEffect(()=>{if(r){let Y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Y)}}},[r]);let D=()=>{a(!0)},G=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Ou(d,D),onBlur:Ou(g,G),onMouseEnter:Ou(p,D),onMouseLeave:Ou(_,G),onTouchStart:Ou(T,D)}]:[!1,w,{}]}function Ou(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Fb({page:i,...e}){let{router:t}=I4(),r=J.useMemo(()=>p4(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?J.createElement(Gb,{page:i,matches:r,...e}):null}function Hb(i){let{manifest:e,routeModules:t}=x4(),[r,a]=J.useState([]);return J.useEffect(()=>{let l=!1;return kb(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function Gb({page:i,matches:e,...t}){let r=Es(),{manifest:a,routeModules:l}=x4(),{basename:c}=I4(),{loaderData:d,matches:g}=jb(),p=J.useMemo(()=>A_(i,e,g,a,r,"data"),[i,e,g,a,r]),_=J.useMemo(()=>A_(i,e,g,a,r,"assets"),[i,e,g,a,r]),T=J.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let G=new Set,Y=!1;if(e.forEach(ie=>{let te=a.routes[ie.route.id];!te||!te.hasLoader||(!p.some(se=>se.route.id===ie.route.id)&&ie.route.id in d&&l[ie.route.id]?.shouldRevalidate||te.hasClientLoader?Y=!0:G.add(ie.route.id))}),G.size===0)return[];let H=Mb(i,c,"data");return Y&&G.size>0&&H.searchParams.set("_routes",e.filter(ie=>G.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[H.pathname+H.search]},[c,d,r,a,p,e,i,l]),w=J.useMemo(()=>Lb(_,a),[_,a]),D=Hb(_);return J.createElement(J.Fragment,null,T.map(G=>J.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...t})),w.map(G=>J.createElement("link",{key:G,rel:"modulepreload",href:G,...t})),D.map(({key:G,link:Y})=>J.createElement("link",{key:G,nonce:t.nonce,...Y})))}function Kb(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C4&&(window.__reactRouterVersion="7.8.2")}catch{}function Qb({basename:i,children:e,window:t}){let r=J.useRef();r.current==null&&(r.current=OT({window:t,v5Compat:!0}));let a=r.current,[l,c]=J.useState({action:a.action,location:a.location}),d=J.useCallback(g=>{J.startTransition(()=>c(g))},[c]);return J.useLayoutEffect(()=>a.listen(d),[a,d]),J.createElement(wb,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var D4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cf=J.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:g,to:p,preventScrollReset:_,viewTransition:T,...w},D){let{basename:G}=J.useContext(kr),Y=typeof p=="string"&&D4.test(p),H,ie=!1;if(typeof p=="string"&&Y&&(H=p,C4))try{let I=new URL(window.location.href),O=p.startsWith("//")?new URL(I.protocol+p):new URL(p),N=oi(O.pathname,G);O.origin===I.origin&&N!=null?p=N+O.search+O.hash:ie=!0}catch{Or(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=ob(p,{relative:a}),[se,Ee,ce]=qb(r,w),Te=Zb(p,{replace:c,state:d,target:g,preventScrollReset:_,relative:a,viewTransition:T});function C(I){e&&e(I),I.defaultPrevented||Te(I)}let S=J.createElement("a",{...w,...ce,href:H||te,onClick:ie||l?e:C,ref:Kb(D,Ee),target:g,"data-discover":!Y&&t==="render"?"true":void 0});return se&&!Y?J.createElement(J.Fragment,null,S,J.createElement(Fb,{page:te})):S});Cf.displayName="Link";var Yb=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:g,...p},_){let T=Sc(c,{relative:p.relative}),w=Es(),D=J.useContext(Wf),{navigator:G,basename:Y}=J.useContext(kr),H=D!=null&&nw(T)&&d===!0,ie=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,te=w.pathname,se=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(te=te.toLowerCase(),se=se?se.toLowerCase():null,ie=ie.toLowerCase()),se&&Y&&(se=oi(se,Y)||se);const Ee=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let ce=te===ie||!a&&te.startsWith(ie)&&te.charAt(Ee)==="/",Te=se!=null&&(se===ie||!a&&se.startsWith(ie)&&se.charAt(ie.length)==="/"),C={isActive:ce,isPending:Te,isTransitioning:H},S=ce?e:void 0,I;typeof r=="function"?I=r(C):I=[r,ce?"active":null,Te?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(C):l;return J.createElement(Cf,{...p,"aria-current":S,className:I,ref:_,style:O,to:c,viewTransition:d},typeof g=="function"?g(C):g)});Yb.displayName="NavLink";var $b=J.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=gf,action:d,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:T,...w},D)=>{let G=ew(),Y=tw(d,{relative:p}),H=c.toLowerCase()==="get"?"get":"post",ie=typeof d=="string"&&D4.test(d),te=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let Ee=se.nativeEvent.submitter,ce=Ee?.getAttribute("formmethod")||c;G(Ee||se.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return J.createElement("form",{ref:D,method:H,action:Y,onSubmit:r?g:te,...w,"data-discover":!ie&&i==="render"?"true":void 0})});$b.displayName="Form";function Xb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V4(i){let e=J.useContext(yl);return pt(e,Xb(i)),e}function Zb(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=lb(),g=Es(),p=Sc(i,{relative:l});return J.useCallback(_=>{if(Cb(_,e)){_.preventDefault();let T=t!==void 0?t:nc(g)===nc(p);d(i,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[g,d,p,t,r,e,i,a,l,c])}var Jb=0,Wb=()=>`__${String(++Jb)}__`;function ew(){let{router:i}=V4("useSubmit"),{basename:e}=J.useContext(kr),t=vb();return J.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:g,body:p}=Nb(r,e);if(a.navigate===!1){let _=a.fetcherKey||Wb();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function tw(i,{relative:e}={}){let{basename:t}=J.useContext(kr),r=J.useContext(hi);pt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Sc(i||".",{relative:e})},c=Es();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(_=>_==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:si([t,l.pathname])),nc(l)}function nw(i,{relative:e}={}){let t=J.useContext(b4);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=V4("useViewTransitionState"),a=Sc(i,{relative:e});if(!t.isTransitioning)return!1;let l=oi(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=oi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xf(a.pathname,c)!=null||xf(a.pathname,l)!=null}const S_="/portfolioV2/assets/CV-K3gBd3DD.pdf",rw=()=>{const[i,e]=J.useState(!1),t=Es(),r=[{title:"Home",path:"/"},{title:"Certifications",path:"/certifications"},{title:"About",path:"/about"},{title:"Contacts",path:"/contact"},{title:"Projects",path:"/projects"}];return J.useEffect(()=>{const a=l=>{const c=l.target;!c.closest(".menu-btn")&&!c.closest(".mobile-menu")&&e(!1)};return document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[]),J.useEffect(()=>{document.body.style.overflow=i?"hidden":"auto"},[i]),k.jsxs("header",{className:"fixed top-0 left-0 w-full z-50",children:[k.jsx("div",{className:"w-full bg-gray-900/95 backdrop-blur-sm shadow-md",children:k.jsxs("nav",{className:"max-w-screen-xl mx-auto px-4 md:px-8 flex items-center justify-between py-4",children:[k.jsx("div",{className:"flex items-center gap-3",children:k.jsx("h1",{className:"text-xl font-bold tracking-wide text-white",children:"The Cantina"})}),k.jsxs("ul",{className:"hidden md:flex gap-8 items-center",children:[r.map((a,l)=>k.jsx("li",{children:k.jsx(Cf,{to:a.path,className:`text-white font-medium hover:text-sky-400 transition-colors duration-200 ${t.pathname===a.path?"text-sky-400":""}`,children:a.title})},l)),k.jsx("li",{children:k.jsx("a",{href:S_,download:!0,className:"bg-sky-400 text-white px-4 py-2 rounded-md font-medium hover:bg-sky-500 transition-colors duration-200",children:"Download CV"})})]}),k.jsxs("button",{className:"md:hidden menu-btn relative w-10 h-10 flex flex-col justify-center items-center gap-1.5 focus:outline-none z-50","aria-label":"Toggle menu",onClick:()=>e(!i),children:[k.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"rotate-45 translate-y-2":""}`}),k.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-opacity duration-300 ${i?"opacity-0":"opacity-100"}`}),k.jsx("span",{className:`block w-7 h-0.5 bg-white rounded transition-transform duration-300 ${i?"-rotate-45 -translate-y-2":""}`})]})]})}),k.jsxs("div",{className:`mobile-menu md:hidden fixed inset-0 z-50 flex flex-col transform transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full"}`,style:{background:"linear-gradient(to bottom, rgba(30, 41, 59, 0.95), rgba(30, 41, 59, 0.9))"},children:[k.jsx("div",{className:"flex justify-end p-6",children:k.jsx("button",{className:"text-white text-3xl font-bold focus:outline-none","aria-label":"Close menu",onClick:()=>e(!1),children:""})}),k.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-8 text-2xl",children:[r.map((a,l)=>k.jsx(Cf,{to:a.path,className:`text-white hover:text-sky-400 transition-colors duration-200 ${t.pathname===a.path?"text-sky-400 font-bold":""}`,onClick:()=>e(!1),children:a.title},l)),k.jsx("a",{href:S_,download:!0,className:"bg-sky-400 text-white px-6 py-3 rounded-md font-medium hover:bg-sky-500 transition-colors duration-200",onClick:()=>e(!1),children:"Download CV"})]})]})]})};var N4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R_=as.createContext&&as.createContext(N4),iw=["attr","size","title"];function sw(i,e){if(i==null)return{};var t=aw(i,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function aw(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function Df(){return Df=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Df.apply(this,arguments)}function I_(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Vf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I_(Object(t),!0).forEach(function(r){ow(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):I_(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ow(i,e,t){return e=lw(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function lw(i){var e=uw(i,"string");return typeof e=="symbol"?e:e+""}function uw(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function M4(i){return i&&i.map((e,t)=>as.createElement(e.tag,Vf({key:t},e.attr),M4(e.child)))}function Xe(i){return e=>as.createElement(cw,Df({attr:Vf({},i.attr)},e),M4(i.child))}function cw(i){var e=t=>{var{attr:r,size:a,title:l}=i,c=sw(i,iw),d=a||t.size||"1em",g;return t.className&&(g=t.className),i.className&&(g=(g?g+" ":"")+i.className),as.createElement("svg",Df({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:g,style:Vf(Vf({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&as.createElement("title",null,l),i.children)};return R_!==void 0?as.createElement(R_.Consumer,null,t=>e(t)):e(N4)}function hw(i){return Xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M185.7 268.1h76.2l-38.1-91.6-38.1 91.6zM223.8 32L16 106.4l31.8 275.7 176 97.9 176-97.9 31.8-275.7zM354 373.8h-48.6l-26.2-65.4H168.6l-26.2 65.4H93.7L223.8 81.5z"},child:[]}]})(i)}function fw(i){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"},child:[]}]})(i)}function Ko(i){return Xe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function dw(i){return Xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(i)}function mw(i){return Xe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1zm-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2zm114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3zm-6.1 270.5a12.19 12.19 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.45 70.45 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4zM348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4zM124.44 396c-78.7 22 47.9 67.4 148.1 24.5a185.89 185.89 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2zm179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7zM260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.37 60.37 0 0 1-21.1-12.8z"},child:[]}]})(i)}function O4(i){return Xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function gw(i){return Xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 508c-6.7 0-13.5-1.8-19.4-5.2l-61.7-36.5c-9.2-5.2-4.7-7-1.7-8 12.3-4.3 14.8-5.2 27.9-12.7 1.4-.8 3.2-.5 4.6.4l47.4 28.1c1.7 1 4.1 1 5.7 0l184.7-106.6c1.7-1 2.8-3 2.8-5V149.3c0-2.1-1.1-4-2.9-5.1L226.8 37.7c-1.7-1-4-1-5.7 0L36.6 144.3c-1.8 1-2.9 3-2.9 5.1v213.1c0 2 1.1 4 2.9 4.9l50.6 29.2c27.5 13.7 44.3-2.4 44.3-18.7V167.5c0-3 2.4-5.3 5.4-5.3h23.4c2.9 0 5.4 2.3 5.4 5.3V378c0 36.6-20 57.6-54.7 57.6-10.7 0-19.1 0-42.5-11.6l-48.4-27.9C8.1 389.2.7 376.3.7 362.4V149.3c0-13.8 7.4-26.8 19.4-33.7L204.6 9c11.7-6.6 27.2-6.6 38.8 0l184.7 106.7c12 6.9 19.4 19.8 19.4 33.7v213.1c0 13.8-7.4 26.7-19.4 33.7L243.4 502.8c-5.9 3.4-12.6 5.2-19.4 5.2zm149.1-210.1c0-39.9-27-50.5-83.7-58-57.4-7.6-63.2-11.5-63.2-24.9 0-11.1 4.9-25.9 47.4-25.9 37.9 0 51.9 8.2 57.7 33.8.5 2.4 2.7 4.2 5.2 4.2h24c1.5 0 2.9-.6 3.9-1.7s1.5-2.6 1.4-4.1c-3.7-44.1-33-64.6-92.2-64.6-52.7 0-84.1 22.2-84.1 59.5 0 40.4 31.3 51.6 81.8 56.6 60.5 5.9 65.2 14.8 65.2 26.7 0 20.6-16.6 29.4-55.5 29.4-48.9 0-59.6-12.3-63.2-36.6-.4-2.6-2.6-4.5-5.3-4.5h-23.9c-3 0-5.3 2.4-5.3 5.3 0 31.1 16.9 68.2 97.8 68.2 58.4-.1 92-23.2 92-63.4z"},child:[]}]})(i)}function pw(i){return Xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(i)}function yw(i){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(i)}function P4(i){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function _w(i){return Xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(i)}function vw(i){return Xe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(i)}function Ew(i){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(i)}function Tw(i){return Xe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function bw(i){return Xe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function ww(i){return Xe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function Aw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.525.13.12.174.09.336-.12.48-.256.19-.6.41-1.006.654-1.244.743-2.64 1.316-4.185 1.726a17.617 17.617 0 01-10.951-.577 17.88 17.88 0 01-5.43-3.35c-.1-.074-.151-.15-.151-.22 0-.047.021-.09.051-.13zm6.565-6.218c0-1.005.247-1.863.743-2.577.495-.71 1.17-1.25 2.04-1.615.796-.335 1.756-.575 2.912-.72.39-.046 1.033-.103 1.92-.174v-.37c0-.93-.105-1.558-.3-1.875-.302-.43-.78-.65-1.44-.65h-.182c-.48.046-.896.196-1.246.46-.35.27-.575.63-.675 1.096-.06.3-.206.465-.435.51l-2.52-.315c-.248-.06-.372-.18-.372-.39 0-.046.007-.09.022-.15.247-1.29.855-2.25 1.82-2.88.976-.616 2.1-.975 3.39-1.05h.54c1.65 0 2.957.434 3.888 1.29.135.15.27.3.405.48.12.165.224.314.283.45.075.134.15.33.195.57.06.254.105.42.135.51.03.104.062.3.076.615.01.313.02.493.02.553v5.28c0 .376.06.72.165 1.036.105.313.21.54.315.674l.51.674c.09.136.136.256.136.36 0 .12-.06.226-.18.314-1.2 1.05-1.86 1.62-1.963 1.71-.165.135-.375.15-.63.045a6.062 6.062 0 01-.526-.496l-.31-.347a9.391 9.391 0 01-.317-.42l-.3-.435c-.81.886-1.603 1.44-2.4 1.665-.494.15-1.093.227-1.83.227-1.11 0-2.04-.343-2.76-1.034-.72-.69-1.08-1.665-1.08-2.94l-.05-.076zm3.753-.438c0 .566.14 1.02.425 1.364.285.34.675.512 1.155.512.045 0 .106-.007.195-.02.09-.016.134-.023.166-.023.614-.16 1.08-.553 1.424-1.178.165-.28.285-.58.36-.91.09-.32.12-.59.135-.8.015-.195.015-.54.015-1.005v-.54c-.84 0-1.484.06-1.92.18-1.275.36-1.92 1.17-1.92 2.43l-.035-.02zm9.162 7.027c.03-.06.075-.11.132-.17.362-.243.714-.41 1.05-.5a8.094 8.094 0 011.612-.24c.14-.012.28 0 .41.03.65.06 1.05.168 1.172.33.063.09.099.228.099.39v.15c0 .51-.149 1.11-.424 1.8-.278.69-.664 1.248-1.156 1.68-.073.06-.14.09-.197.09-.03 0-.06 0-.09-.012-.09-.044-.107-.12-.064-.24.54-1.26.806-2.143.806-2.64 0-.15-.03-.27-.087-.344-.145-.166-.55-.257-1.224-.257-.243 0-.533.016-.87.046-.363.045-.7.09-1 .135-.09 0-.148-.014-.18-.044-.03-.03-.036-.047-.02-.077 0-.017.006-.03.02-.063v-.06z"},child:[]}]})(i)}function Sw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.394 6c-.167-.29-.398-.543-.652-.69L12.926.22c-.509-.294-1.34-.294-1.848 0L2.26 5.31c-.508.293-.923 1.013-.923 1.6v10.18c0 .294.104.62.271.91.167.29.398.543.652.69l8.816 5.09c.508.293 1.34.293 1.848 0l8.816-5.09c.254-.147.485-.4.652-.69.167-.29.27-.616.27-.91V6.91c.003-.294-.1-.62-.268-.91zM12 19.11c-3.92 0-7.109-3.19-7.109-7.11 0-3.92 3.19-7.11 7.11-7.11a7.133 7.133 0 016.156 3.553l-3.076 1.78a3.567 3.567 0 00-3.08-1.78A3.56 3.56 0 008.444 12 3.56 3.56 0 0012 15.555a3.57 3.57 0 003.08-1.778l3.078 1.78A7.135 7.135 0 0112 19.11zm7.11-6.715h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79zm2.962 0h-.79v.79h-.79v-.79h-.79v-.79h.79v-.79h.79v.79h.79z"},child:[]}]})(i)}function Rw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.146 0h3.924v18.166c-2.013.382-3.491.535-5.096.535-4.791 0-7.288-2.166-7.288-6.32 0-4.002 2.65-6.6 6.753-6.6.637 0 1.121.05 1.707.203zm0 9.143a3.894 3.894 0 00-1.325-.204c-1.988 0-3.134 1.223-3.134 3.365 0 2.09 1.096 3.236 3.109 3.236.433 0 .79-.025 1.35-.102V9.142zM21.314 6.06v9.098c0 3.134-.229 4.638-.917 5.937-.637 1.249-1.478 2.039-3.211 2.905l-3.644-1.733c1.733-.815 2.574-1.53 3.109-2.625.561-1.121.739-2.421.739-5.835V6.059h3.924zM17.39.021h3.924v4.026H17.39z"},child:[]}]})(i)}function Iw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 8.77h-2.468v7.565h-1.425V8.77h-2.462V7.53H24zm-6.852 7.565h-4.821V7.53h4.63v1.24h-3.205v2.494h2.953v1.234h-2.953v2.604h3.396zm-6.708 0H8.882L4.78 9.863a2.896 2.896 0 0 1-.258-.51h-.036c.032.189.048.592.048 1.21v5.772H3.157V7.53h1.659l3.965 6.32c.167.261.275.442.323.54h.024c-.04-.233-.06-.629-.06-1.185V7.529h1.372zm-8.703-.693a.868.829 0 0 1-.869.829.868.829 0 0 1-.868-.83.868.829 0 0 1 .868-.828.868.829 0 0 1 .869.829Z"},child:[]}]})(i)}function xw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(i)}function Cw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19.455 8.369c-.538-.748-1.778-2.285-3.681-4.569-.826-.991-1.535-1.832-1.884-2.245a146 146 0 0 0-.488-.576l-.207-.245-.113-.133-.022-.032-.01-.005L12.57 0l-.609.488c-1.555 1.246-2.828 2.851-3.681 4.64-.523 1.064-.864 2.105-1.043 3.176-.047.241-.088.489-.121.738-.209-.017-.421-.028-.632-.033-.018-.001-.035-.002-.059-.003a7.46 7.46 0 0 0-2.28.274l-.317.089-.163.286c-.765 1.342-1.198 2.869-1.252 4.416-.07 2.01.477 3.954 1.583 5.625 1.082 1.633 2.61 2.882 4.42 3.611l.236.095.071.025.003-.001a9.59 9.59 0 0 0 2.941.568q.171.006.342.006c1.273 0 2.513-.249 3.69-.742l.008.004.313-.145a9.63 9.63 0 0 0 3.927-3.335c1.01-1.49 1.577-3.234 1.641-5.042.075-2.161-.643-4.304-2.133-6.371m-7.083 6.695c.328 1.244.264 2.44-.191 3.558-1.135-1.12-1.967-2.352-2.475-3.665-.543-1.404-.87-2.74-.974-3.975.48.157.922.366 1.315.622 1.132.737 1.914 1.902 2.325 3.461zm.207 6.022c.482.368.99.712 1.513 1.028-.771.21-1.565.302-2.369.273a8 8 0 0 1-.373-.022c.458-.394.869-.823 1.228-1.279zm1.347-6.431c-.516-1.957-1.527-3.437-3.002-4.398-.647-.421-1.385-.741-2.194-.95.011-.134.026-.268.043-.4.014-.113.03-.216.046-.313.133-.689.332-1.37.589-2.025.099-.25.206-.499.321-.74l.004-.008c.177-.358.376-.719.61-1.105l.092-.152-.003-.001c.544-.851 1.197-1.627 1.942-2.311l.288.341c.672.796 1.304 1.548 1.878 2.237 1.291 1.549 2.966 3.583 3.612 4.48 1.277 1.771 1.893 3.579 1.83 5.375-.049 1.395-.461 2.755-1.195 3.933-.694 1.116-1.661 2.05-2.8 2.708-.636-.318-1.559-.839-2.539-1.599.79-1.575.952-3.28.479-5.072zm-2.575 5.397c-.725.939-1.587 1.55-2.09 1.856-.081-.029-.163-.06-.243-.093l-.065-.026c-1.49-.616-2.747-1.656-3.635-3.01-.907-1.384-1.356-2.993-1.298-4.653.041-1.19.338-2.327.882-3.379.316-.07.638-.114.96-.131l.084-.002c.162-.003.324-.003.478 0 .227.011.454.035.677.07.073 1.513.445 3.145 1.105 4.852.637 1.644 1.694 3.162 3.144 4.515z"},child:[]}]})(i)}function Dw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z"},child:[]}]})(i)}function Vw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.405 5.501c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.695h-.927a50.854 50.854 0 00-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 00-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.153 0-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268 0 .483-.075.647-.222.197-.18.295-.382.295-.605 0-.155-.077-.47-.23-.944L6.23 14.615h.91l.727 2.36c.164.536.233.91.205 1.123.4-1.064.678-2.227.835-3.483zm12.325 4.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253 0-1.83-.718-2.746-2.155-2.746-.704 0-1.254.232-1.65.697-.43.508-.646 1.256-.646 2.245 0 .972.19 1.686.574 2.14.35.41.877.615 1.583.615.264 0 .506-.033.725-.098l1.325.772.36-.622zM15.5 17.588c-.225-.36-.337-.94-.337-1.736 0-1.393.424-2.09 1.27-2.09.443 0 .77.167.977.5.224.362.336.936.336 1.723 0 1.404-.424 2.108-1.27 2.108-.445 0-.77-.167-.978-.5zm-1.658-.425c0 .47-.172.856-.516 1.156-.344.3-.803.45-1.384.45-.543 0-1.064-.172-1.573-.515l.237-.476c.438.22.833.328 1.19.328.332 0 .593-.073.783-.22a.754.754 0 00.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177 0-.45.157-.81.47-1.085.315-.278.72-.415 1.22-.415.512 0 .98.136 1.4.41l-.213.476a2.726 2.726 0 00-1.064-.23c-.283 0-.502.068-.654.206a.685.685 0 00-.248.524c0 .328.234.61.666.85.393.215 1.187.67 1.187.67.433.305.648.63.648 1.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223 3.223 0 00-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867 8.867 0 00-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69 17.69 0 01-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422 1.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146 1.693.194 2.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445 3.445 0 01-.35-.4 8.76 8.76 0 01-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188 1.01-.027.007-.014 0-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478 2.478 0 01-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953 5.953 0 012.085 2.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z"},child:[]}]})(i)}function Nw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.665 21.978C16.758 23.255 14.465 24 12 24 5.377 24 0 18.623 0 12S5.377 0 12 0s12 5.377 12 12c0 3.583-1.574 6.801-4.067 9.001L9.219 7.2H7.2v9.596h1.615V9.251l9.85 12.727Zm-3.332-8.533 1.6 2.061V7.2h-1.6v6.245Z"},child:[]}]})(i)}function Mw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(i)}function Ow(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.2209.0875v5.9613l-3.7433.5012v3.5233l3.7433-.5012v3.5735l3.492-.4672V9.1047L24 8.2634l-.4631-3.4613-5.824.7794V.0875zM6.287 1.145v5.9618L0 7.9483l.4634 3.4613 5.8514-.7834 3.4644-.4637V1.145zm3.5198 9.7185l-3.492.4675v3.578l-6.183.8276.4633 3.4613 5.8239-.7796v5.4942h3.492v-5.962l3.6114-.4834V13.944l-3.7156.4973zm13.73 1.7405l-5.824.779-3.492.4673v9.0179h3.492v-5.9618L24 16.0652Z"},child:[]}]})(i)}function Pw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71 8.71 0 0 0-.547.535c-2.109 2.237-4.066 6.38-4.674 9.544.237.48.422 1.093.544 1.561a13.044 13.044 0 0 1 .164.703s-.019-.071-.096-.296l-.05-.146a1.689 1.689 0 0 0-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376 1.176.484.884.778 2.4.778 2.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304 1.346-.226 1.478.152.256.296.698.422 1.186.286 1.1.485 2.44.485 2.44l.017.224a22.41 22.41 0 0 0 .056 2.748c.095 1.146.273 2.13.5 2.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29 1.661-8.304 1.723-4.55 4.113-8.201 6.3-9.945-1.993 1.8-4.692 7.63-5.5 9.788-.904 2.416-1.545 4.684-1.931 6.857.666-2.037 2.821-2.912 2.821-2.912s1.057-1.304 2.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184 3.613-1.72C21.695 7.9 24.195 2.767 21.678.521m-18.573.543A1.842 1.842 0 0 0 1.27 2.9v16.608a1.84 1.84 0 0 0 1.835 1.834h9.418a22.953 22.953 0 0 1-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01 27.01 0 0 0-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432 0-.12.015-.245.037-.386a9.98 9.98 0 0 1 .234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8 32.8 0 0 1 .382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28 2.587-7.443 4.8-9.791.066-.069.133-.128.198-.194Z"},child:[]}]})(i)}function kw(i){return Xe({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"},child:[]}]})(i)}const Lw=[{name:"C++",icon:k.jsx(Sw,{})},{name:"Python",icon:k.jsx(pw,{})},{name:"Java",icon:k.jsx(mw,{})},{name:"C#",icon:k.jsx(Ow,{})},{name:"HTML5",icon:k.jsx(dw,{})},{name:"CSS3",icon:k.jsx(fw,{})},{name:"TypeScript",icon:k.jsx(kw,{})},{name:"Node.js",icon:k.jsx(gw,{})},{name:"Express",icon:k.jsx(xw,{})},{name:"Angular",icon:k.jsx(hw,{})},{name:"React",icon:k.jsx(yw,{})},{name:"Django",icon:k.jsx(Rw,{})},{name:".NET / ASP.NET",icon:k.jsx(Iw,{})},{name:"Next.js",icon:k.jsx(Nw,{})},{name:"MySQL",icon:k.jsx(Vw,{})},{name:"PostgreSQL",icon:k.jsx(Mw,{})},{name:"SQLite",icon:k.jsx(Pw,{})},{name:"Firebase",icon:k.jsx(Cw,{})},{name:"Google Cloud",icon:k.jsx(Dw,{})},{name:"AWS",icon:k.jsx(Aw,{})}],zw=[{icon:k.jsx(O4,{size:24}),href:"https://www.linkedin.com/in/dimitar-kiuliumov-0088942a2/"},{icon:k.jsx(P4,{size:24}),href:"https://x.com/DKiuliumov"},{icon:k.jsx(Ko,{size:24}),href:"https://github.com/Kiuliumov"}],Bw=()=>k.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),k.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:[k.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[k.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp mt-20",children:k.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/image-banner.jpg",alt:"Dimitur Kiuliumov",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),k.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp mt-25 ",children:[k.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"Dimitur Kiuliumov"}),k.jsxs("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:["Hello! I'm a ",k.jsx("span",{className:"text-sky-400",children:"full-stack developer"})," from Bulgaria with a strong passion for programming and mathematics.",k.jsx("br",{}),"I am currently working as a ",k.jsx("span",{className:"text-sky-400",children:"Junior Python Developer"})," at"," ",k.jsx("span",{className:"text-sky-400",children:"Nemetschek Bulgaria"})," and pursuing a degree in Computer Science at the"," ",k.jsx("a",{href:"https://fpmi.bg/cms/informatics/",target:"_blank",rel:"noreferrer",className:"underline text-red-300 hover:text-red-400",children:"Technical University of Sofia"}),"."]}),k.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-6",children:[k.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[k.jsx(Ko,{})," See My Work"]}),k.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Contact Me"})]}),k.jsx("div",{className:"flex justify-center md:justify-start gap-6 pt-4 text-gray-400",children:zw.map((i,e)=>k.jsx("a",{href:i.href,target:"_blank",rel:"noreferrer",className:"hover:text-sky-400 transition-transform duration-300 transform hover:scale-110",children:i.icon},e))})]})]}),k.jsxs("div",{className:"pt-16 animate-fadeInUp",children:[k.jsx("h2",{className:"text-xl font-semibold text-sky-400 text-center md:text-left",children:"My Skills:"}),k.jsx("div",{className:"flex flex-wrap gap-3 pt-4 justify-center md:justify-start",children:Lw.map((i,e)=>k.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 bg-gray-800 rounded-full text-sm text-gray-200 transition-transform duration-300 hover:scale-105 animate-fadeInUp delay-${e*100}`,children:[i.icon," ",i.name]},i.name))})]})]})]}),Uw=()=>k.jsxs("section",{className:"relative pt-20 bg-gray-900 text-white min-h-screen flex flex-col justify-center items-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),k.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-12 md:py-20 md:px-12 w-full",children:k.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:gap-16",children:[k.jsx("div",{className:"flex justify-center md:justify-end mb-8 md:mb-0 animate-fadeInUp",children:k.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/cantina.png",alt:"The Cantina",className:"rounded-2xl shadow-2xl max-w-xs sm:max-w-sm md:max-w-lg transform transition-transform duration-500 hover:scale-105"})}),k.jsxs("div",{className:"flex flex-col justify-center space-y-6 animate-fadeInUp",children:[k.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold text-center md:text-left",children:"About Us"}),k.jsx("p",{className:"text-gray-300 leading-relaxed text-center md:text-left max-w-xl",children:"The Cantina is a self-run project with no outside financing. Our mission is to create the best chatbots in the market while building modern, responsive web applications."}),k.jsxs("ul",{className:"flex flex-col gap-2 text-gray-300 max-w-xl list-disc list-inside",children:[k.jsx("li",{children:" Experienced in building custom Discord bots with JavaScript and Python"}),k.jsx("li",{children:" Skilled at creating modern, responsive web apps using React and Tailwind"}),k.jsx("li",{children:" Integrating APIs, handling databases, and automating tasks"}),k.jsx("li",{children:" Always learning new frameworks and best practices in full-stack development"}),k.jsx("li",{children:"Our goal is to create the best chatbots in the market."})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start gap-6 pt-4",children:[k.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-sky-500 hover:bg-sky-400 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:[k.jsx(Ko,{})," GitHub"]}),k.jsx("a",{href:"https://discord.gg/UEjnQeAHYx",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-lg bg-gray-700 hover:bg-gray-600 font-medium flex justify-center items-center gap-2 transition-transform duration-300 transform hover:scale-105",children:"Discord"})]})]})]})})]}),jw=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},qw=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},L4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,g=a+2<i.length,p=g?i[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,D=p&63;g||(D=64,c||(w=64)),r.push(t[_],t[T],t[w],t[D])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(k4(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const p=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new Fw;const w=l<<2|d>>4;if(r.push(w),p!==64){const D=d<<4&240|p>>2;if(r.push(D),T!==64){const G=p<<6&192|T;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(i){const e=k4(i);return L4.encodeByteArray(e,!0)},Nf=function(i){return Hw(i).replace(/\./g,"")},z4=function(i){try{return L4.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mf(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Gw(t)||(i[t]=Mf(i[t],e[t]));return i}function Gw(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=()=>Op().__FIREBASE_DEFAULTS__,Qw=()=>{if(typeof process>"u"||typeof x_>"u")return;const i=x_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Yw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&z4(i[1]);return e&&JSON.parse(e)},B4=()=>{try{return jw()||Kw()||Qw()||Yw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Pp=()=>B4()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Nf(JSON.stringify(t)),Nf(JSON.stringify(c)),""].join(".")}const Ku={};function Jw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ku))Ku[e]?i.emulator.push(e):i.prod.push(e);return i}function Ww(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let C_=!1;function eA(i,e){if(typeof window>"u"||typeof document>"u"||!kp(window.location.host)||Ku[i]===e||Ku[i]||C_)return;Ku[i]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=Jw().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{C_=!0,c()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Ww(r),D=t("text"),G=document.getElementById(D)||document.createElement("span"),Y=t("learnmore"),H=document.getElementById(Y)||document.createElement("a"),ie=t("preprendIcon"),te=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;d(se),_(H,Y);const Ee=p();g(te,ie),se.append(te,G,H,Ee),document.body.appendChild(se)}l?(G.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U4(){const i=B4()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof window<"u"||j4()}function j4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function q4(){return!U4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F4(){return!U4()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function H4(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class Pa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rA,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iA(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Pa(a,d,r)}}function iA(i,e){return i.replace(sA,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const sA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Qo(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(V_(l)&&V_(c)){if(!Qo(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function V_(i){return i!==null&&typeof i=="object"}function aA(i,e){const t=new oA(i,e);return t.subscribe.bind(t)}class oA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Og),a.error===void 0&&(a.error=Og),a.complete===void 0&&(a.complete=Og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i){return i&&i._delegate?i._delegate:i}class wa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $w;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(i){return i===ha?void 0:i}function hA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=[];var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const K4={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fA=Le.INFO,dA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},mA=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=dA[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null,Lp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}function gA(i){Lp.forEach(e=>{e.setLogLevel(i)})}function pA(i,e){for(const t of Lp){let r=null;e&&e.level&&(r=K4[e.level]),i===null?t.userLogHandler=null:t.userLogHandler=(a,l,...c)=>{const d=c.map(g=>{if(g==null)return null;if(typeof g=="string")return g;if(typeof g=="number"||typeof g=="boolean")return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");l>=(r??a.logLevel)&&i({level:Le[l].toLowerCase(),message:d,args:c,type:a.name})}}}const yA=(i,e)=>e.some(t=>i instanceof t);let N_,M_;function _A(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q4=new WeakMap,Xg=new WeakMap,Y4=new WeakMap,Pg=new WeakMap,Bp=new WeakMap;function EA(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(os(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Q4.set(t,i)}).catch(()=>{}),Bp.set(e,i),e}function TA(i){if(Xg.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Xg.set(i,e)}let Zg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Y4.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bA(i){Zg=i(Zg)}function wA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(kg(this),e,...t);return Y4.set(r,e.sort?e.sort():[e]),os(r)}:vA().includes(i)?function(...e){return i.apply(kg(this),e),os(Q4.get(this))}:function(...e){return os(i.apply(kg(this),e))}}function AA(i){return typeof i=="function"?wA(i):(i instanceof IDBTransaction&&TA(i),yA(i,_A())?new Proxy(i,Zg):i)}function os(i){if(i instanceof IDBRequest)return EA(i);if(Pg.has(i))return Pg.get(i);const e=AA(i);return e!==i&&(Pg.set(i,e),Bp.set(e,i)),e}const kg=i=>Bp.get(i);function SA(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=os(c);return r&&c.addEventListener("upgradeneeded",g=>{r(os(c.result),g.oldVersion,g.newVersion,os(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const RA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Lg=new Map;function O_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=IA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||RA.includes(t)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&g.done]))[0]};return Lg.set(e,l),l}bA(i=>({...i,get:(e,t,r)=>O_(e,t)||i.get(e,t,r),has:(e,t)=>!!O_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function CA(i){return i.getComponent()?.type==="VERSION"}const Pf="@firebase/app",Jg="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new zp("@firebase/app"),DA="@firebase/app-compat",VA="@firebase/analytics-compat",NA="@firebase/analytics",MA="@firebase/app-check-compat",OA="@firebase/app-check",PA="@firebase/auth",kA="@firebase/auth-compat",LA="@firebase/database",zA="@firebase/data-connect",BA="@firebase/database-compat",UA="@firebase/functions",jA="@firebase/functions-compat",qA="@firebase/installations",FA="@firebase/installations-compat",HA="@firebase/messaging",GA="@firebase/messaging-compat",KA="@firebase/performance",QA="@firebase/performance-compat",YA="@firebase/remote-config",$A="@firebase/remote-config-compat",XA="@firebase/storage",ZA="@firebase/storage-compat",JA="@firebase/firestore",WA="@firebase/ai",e9="@firebase/firestore-compat",t9="firebase",n9="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]",r9={[Pf]:"fire-core",[DA]:"fire-core-compat",[NA]:"fire-analytics",[VA]:"fire-analytics-compat",[OA]:"fire-app-check",[MA]:"fire-app-check-compat",[PA]:"fire-auth",[kA]:"fire-auth-compat",[LA]:"fire-rtdb",[zA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[UA]:"fire-fn",[jA]:"fire-fn-compat",[qA]:"fire-iid",[FA]:"fire-iid-compat",[HA]:"fire-fcm",[GA]:"fire-fcm-compat",[KA]:"fire-perf",[QA]:"fire-perf-compat",[YA]:"fire-rc",[$A]:"fire-rc-compat",[XA]:"fire-gcs",[ZA]:"fire-gcs-compat",[JA]:"fire-fst",[e9]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[t9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Map,Yo=new Map,$o=new Map;function rc(i,e){try{i.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function $4(i,e){i.container.addOrOverwriteComponent(e)}function Xo(i){const e=i.name;if($o.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;$o.set(e,i);for(const t of fs.values())rc(t,i);for(const t of Yo.values())rc(t,i);return!0}function X4(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function i9(i,e,t=hs){X4(i,e).clearInstance(t)}function Up(i){return i.options!==void 0}function Z4(i){return Up(i)?!1:"authIdToken"in i||"appCheckToken"in i||"releaseOnDeref"in i||"automaticDataCollectionEnabled"in i}function J4(i){return i==null?!1:i.settings!==void 0}function s9(){$o.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kn=new td("app","Firebase",a9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W4=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(i,e){const t=z4(i.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class o9 extends W4{constructor(e,t,r,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,c={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,a);else{const d=e;super(d.options,c,a)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&P_(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&P_(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ai(Pf,Jg,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Fp(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw kn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=n9;function qp(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:hs,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw kn.create("bad-app-name",{appName:String(a)});if(t||(t=Pp()),!t)throw kn.create("no-options");const l=fs.get(a);if(l){if(Qo(t,l.options)&&Qo(r,l.config))return l;throw kn.create("duplicate-app",{appName:a})}const c=new G4(a);for(const g of $o.values())c.addComponent(g);const d=new W4(t,r,c);return fs.set(a,d),d}function l9(i,e={}){if(tA()&&!j4())throw kn.create("invalid-server-app-environment");let t,r=e||{};if(i&&(Up(i)?t=i.options:Z4(i)?r=i:t=i),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=Pp()),!t)throw kn.create("no-options");const a={...r,...t};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=_=>[..._].reduce((T,w)=>Math.imul(31,T)+w.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw kn.create("finalization-registry-not-supported",{});const c=""+l(JSON.stringify(a)),d=Yo.get(c);if(d)return d.incRefCount(r.releaseOnDeref),d;const g=new G4(c);for(const _ of $o.values())g.addComponent(_);const p=new o9(t,r,c,g);return Yo.set(c,p),p}function u9(i=hs){const e=fs.get(i);if(!e&&i===hs&&Pp())return qp();if(!e)throw kn.create("no-app",{appName:i});return e}function c9(){return Array.from(fs.values())}async function Fp(i){let e=!1;const t=i.name;fs.has(t)?(e=!0,fs.delete(t)):Yo.has(t)&&i.decRefCount()<=0&&(Yo.delete(t),e=!0),e&&(await Promise.all(i.container.getProviders().map(r=>r.delete())),i.isDeleted=!0)}function ai(i,e,t){let r=r9[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(c.join(" "));return}Xo(new wa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function e3(i,e){if(i!==null&&typeof i!="function")throw kn.create("invalid-log-argument");pA(i,e)}function t3(i){gA(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="firebase-heartbeat-database",f9=1,ic="firebase-heartbeat-store";let zg=null;function n3(){return zg||(zg=SA(h9,f9,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ic)}catch(t){console.warn(t)}}}}).catch(i=>{throw kn.create("idb-open",{originalErrorMessage:i.message})})),zg}async function d9(i){try{const t=(await n3()).transaction(ic),r=await t.objectStore(ic).get(r3(i));return await t.done,r}catch(e){if(e instanceof Pa)li.warn(e.message);else{const t=kn.create("idb-get",{originalErrorMessage:e?.message});li.warn(t.message)}}}async function k_(i,e){try{const r=(await n3()).transaction(ic,"readwrite");await r.objectStore(ic).put(e,r3(i)),await r.done}catch(t){if(t instanceof Pa)li.warn(t.message);else{const r=kn.create("idb-set",{originalErrorMessage:t?.message});li.warn(r.message)}}}function r3(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=1024,g9=30;class p9{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _9(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>g9){const a=v9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=L_(),{heartbeatsToSend:t,unsentEntries:r}=y9(this._heartbeatsCache.heartbeats),a=Nf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return li.warn(e),""}}}function L_(){return new Date().toISOString().substring(0,10)}function y9(i,e=m9){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),z_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),z_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H4()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function z_(i){return Nf(JSON.stringify({version:2,heartbeats:i})).length}function v9(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(i){Xo(new wa("platform-logger",e=>new xA(e),"PRIVATE")),Xo(new wa("heartbeat",e=>new p9(e),"PRIVATE")),ai(Pf,Jg,i),ai(Pf,Jg,"esm2020"),ai("fire-js","")}E9("");const T9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Pa,SDK_VERSION:jp,_DEFAULT_ENTRY_NAME:hs,_addComponent:rc,_addOrOverwriteComponent:$4,_apps:fs,_clearComponents:s9,_components:$o,_getProvider:X4,_isFirebaseApp:Up,_isFirebaseServerApp:J4,_isFirebaseServerAppSettings:Z4,_registerComponent:Xo,_removeServiceInstance:i9,_serverApps:Yo,deleteApp:Fp,getApp:u9,getApps:c9,initializeApp:qp,initializeServerApp:l9,onLog:e3,registerVersion:ai,setLogLevel:t3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,t){this._delegate=e,this.firebase=t,rc(e,new wa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Fp(this._delegate)))}_getService(e,t=hs){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=hs){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rc(this._delegate,e)}_addOrOverwriteComponent(e){$4(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},B_=new td("app-compat","Firebase",w9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(i){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:ai,setLogLevel:t3,onLog:e3,apps:null,SDK_VERSION:jp,INTERNAL:{registerComponent:d,removeApp:r,useAsService:g,modularAPIs:T9}};t.default=t,Object.defineProperty(t,"apps",{get:c});function r(p){delete e[p]}function a(p){if(p=p||hs,!D_(e,p))throw B_.create("no-app",{appName:p});return e[p]}a.App=i;function l(p,_={}){const T=qp(p,_);if(D_(e,T.name))return e[T.name];const w=new i(T,t);return e[T.name]=w,w}function c(){return Object.keys(e).map(p=>e[p])}function d(p){const _=p.name,T=_.replace("-compat","");if(Xo(p)&&p.type==="PUBLIC"){const w=(D=a())=>{if(typeof D[T]!="function")throw B_.create("invalid-app-argument",{appName:_});return D[T]()};p.serviceProps!==void 0&&Mf(w,p.serviceProps),t[T]=w,i.prototype[T]=function(...D){return this._getService.bind(this,_).apply(this,p.multipleInstances?D:[])}}return p.type==="PUBLIC"?t[T]:null}function g(p,_){return _==="serverAuth"?null:_}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){const i=A9(b9);i.INTERNAL={...i.INTERNAL,createFirebaseNamespace:i3,extendNamespace:e,createSubscribe:aA,ErrorFactory:td,deepExtend:Mf};function e(t){Mf(i,t)}return i}const S9=i3();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new zp("@firebase/app-compat"),R9="@firebase/app-compat",I9="0.5.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(i){ai(R9,I9,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const i=Op();if(i.firebase!==void 0){U_.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=i.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&U_.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const sc=S9;x9();var C9="firebase",D9="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sc.registerVersion(C9,D9,"app-compat");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,s3;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(O,N,L){for(var x=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)x[yt-2]=arguments[yt];return S.prototype[N].apply(O,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,S,I){I||(I=0);const O=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)O[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)O[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],x;x=S+(L^I&(N^L))+O[0]+3614090360&4294967295,S=I+(x<<7&4294967295|x>>>25),x=L+(N^S&(I^N))+O[1]+3905402710&4294967295,L=S+(x<<12&4294967295|x>>>20),x=N+(I^L&(S^I))+O[2]+606105819&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(S^N&(L^S))+O[3]+3250441966&4294967295,I=N+(x<<22&4294967295|x>>>10),x=S+(L^I&(N^L))+O[4]+4118548399&4294967295,S=I+(x<<7&4294967295|x>>>25),x=L+(N^S&(I^N))+O[5]+1200080426&4294967295,L=S+(x<<12&4294967295|x>>>20),x=N+(I^L&(S^I))+O[6]+2821735955&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(S^N&(L^S))+O[7]+4249261313&4294967295,I=N+(x<<22&4294967295|x>>>10),x=S+(L^I&(N^L))+O[8]+1770035416&4294967295,S=I+(x<<7&4294967295|x>>>25),x=L+(N^S&(I^N))+O[9]+2336552879&4294967295,L=S+(x<<12&4294967295|x>>>20),x=N+(I^L&(S^I))+O[10]+4294925233&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(S^N&(L^S))+O[11]+2304563134&4294967295,I=N+(x<<22&4294967295|x>>>10),x=S+(L^I&(N^L))+O[12]+1804603682&4294967295,S=I+(x<<7&4294967295|x>>>25),x=L+(N^S&(I^N))+O[13]+4254626195&4294967295,L=S+(x<<12&4294967295|x>>>20),x=N+(I^L&(S^I))+O[14]+2792965006&4294967295,N=L+(x<<17&4294967295|x>>>15),x=I+(S^N&(L^S))+O[15]+1236535329&4294967295,I=N+(x<<22&4294967295|x>>>10),x=S+(N^L&(I^N))+O[1]+4129170786&4294967295,S=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(S^I))+O[6]+3225465664&4294967295,L=S+(x<<9&4294967295|x>>>23),x=N+(S^I&(L^S))+O[11]+643717713&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^S&(N^L))+O[0]+3921069994&4294967295,I=N+(x<<20&4294967295|x>>>12),x=S+(N^L&(I^N))+O[5]+3593408605&4294967295,S=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(S^I))+O[10]+38016083&4294967295,L=S+(x<<9&4294967295|x>>>23),x=N+(S^I&(L^S))+O[15]+3634488961&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^S&(N^L))+O[4]+3889429448&4294967295,I=N+(x<<20&4294967295|x>>>12),x=S+(N^L&(I^N))+O[9]+568446438&4294967295,S=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(S^I))+O[14]+3275163606&4294967295,L=S+(x<<9&4294967295|x>>>23),x=N+(S^I&(L^S))+O[3]+4107603335&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^S&(N^L))+O[8]+1163531501&4294967295,I=N+(x<<20&4294967295|x>>>12),x=S+(N^L&(I^N))+O[13]+2850285829&4294967295,S=I+(x<<5&4294967295|x>>>27),x=L+(I^N&(S^I))+O[2]+4243563512&4294967295,L=S+(x<<9&4294967295|x>>>23),x=N+(S^I&(L^S))+O[7]+1735328473&4294967295,N=L+(x<<14&4294967295|x>>>18),x=I+(L^S&(N^L))+O[12]+2368359562&4294967295,I=N+(x<<20&4294967295|x>>>12),x=S+(I^N^L)+O[5]+4294588738&4294967295,S=I+(x<<4&4294967295|x>>>28),x=L+(S^I^N)+O[8]+2272392833&4294967295,L=S+(x<<11&4294967295|x>>>21),x=N+(L^S^I)+O[11]+1839030562&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^S)+O[14]+4259657740&4294967295,I=N+(x<<23&4294967295|x>>>9),x=S+(I^N^L)+O[1]+2763975236&4294967295,S=I+(x<<4&4294967295|x>>>28),x=L+(S^I^N)+O[4]+1272893353&4294967295,L=S+(x<<11&4294967295|x>>>21),x=N+(L^S^I)+O[7]+4139469664&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^S)+O[10]+3200236656&4294967295,I=N+(x<<23&4294967295|x>>>9),x=S+(I^N^L)+O[13]+681279174&4294967295,S=I+(x<<4&4294967295|x>>>28),x=L+(S^I^N)+O[0]+3936430074&4294967295,L=S+(x<<11&4294967295|x>>>21),x=N+(L^S^I)+O[3]+3572445317&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^S)+O[6]+76029189&4294967295,I=N+(x<<23&4294967295|x>>>9),x=S+(I^N^L)+O[9]+3654602809&4294967295,S=I+(x<<4&4294967295|x>>>28),x=L+(S^I^N)+O[12]+3873151461&4294967295,L=S+(x<<11&4294967295|x>>>21),x=N+(L^S^I)+O[15]+530742520&4294967295,N=L+(x<<16&4294967295|x>>>16),x=I+(N^L^S)+O[2]+3299628645&4294967295,I=N+(x<<23&4294967295|x>>>9),x=S+(N^(I|~L))+O[0]+4096336452&4294967295,S=I+(x<<6&4294967295|x>>>26),x=L+(I^(S|~N))+O[7]+1126891415&4294967295,L=S+(x<<10&4294967295|x>>>22),x=N+(S^(L|~I))+O[14]+2878612391&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~S))+O[5]+4237533241&4294967295,I=N+(x<<21&4294967295|x>>>11),x=S+(N^(I|~L))+O[12]+1700485571&4294967295,S=I+(x<<6&4294967295|x>>>26),x=L+(I^(S|~N))+O[3]+2399980690&4294967295,L=S+(x<<10&4294967295|x>>>22),x=N+(S^(L|~I))+O[10]+4293915773&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~S))+O[1]+2240044497&4294967295,I=N+(x<<21&4294967295|x>>>11),x=S+(N^(I|~L))+O[8]+1873313359&4294967295,S=I+(x<<6&4294967295|x>>>26),x=L+(I^(S|~N))+O[15]+4264355552&4294967295,L=S+(x<<10&4294967295|x>>>22),x=N+(S^(L|~I))+O[6]+2734768916&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~S))+O[13]+1309151649&4294967295,I=N+(x<<21&4294967295|x>>>11),x=S+(N^(I|~L))+O[4]+4149444226&4294967295,S=I+(x<<6&4294967295|x>>>26),x=L+(I^(S|~N))+O[11]+3174756917&4294967295,L=S+(x<<10&4294967295|x>>>22),x=N+(S^(L|~I))+O[2]+718787259&4294967295,N=L+(x<<15&4294967295|x>>>17),x=I+(L^(N|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,O=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=I;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<S;)if(O[N++]=C.charCodeAt(L++),N==this.blockSize){a(this,O),N=0;break}}else for(;L<S;)if(O[N++]=C[L++],N==this.blockSize){a(this,O),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)C[S++]=this.g[I]>>>O&255;return C};function l(C,S){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function c(C,S){this.h=S;const I=[];let O=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;O&&L==S||(I[N]=L,O=!1)}this.g=I}var d={};function g(C){return-128<=C&&C<128?l(C,function(S){return new c([S|0],S<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return H(p(-C));const S=[];let I=1;for(let O=0;C>=I;O++)S[O]=C/I|0,I*=4294967296;return new c(S,0)}function _(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return H(_(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(S,8));let O=T;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+N),S);N<8?(N=p(Math.pow(S,N)),O=O.j(N).add(p(x))):(O=O.j(I),O=O.add(p(x)))}return O}var T=g(0),w=g(1),D=g(16777216);i=c.prototype,i.m=function(){if(Y(this))return-H(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);C+=(O>=0?O:4294967296+O)*S,S*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(Y(this))return"-"+H(this).toString(C);const S=p(Math.pow(C,6));var I=this;let O="";for(;;){const N=Ee(I,S).g;I=ie(I,N.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,G(I))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function Y(C){return C.h==-1}i.l=function(C){return C=ie(this,C),Y(C)?-1:G(C)?0:1};function H(C){const S=C.g.length,I=[];for(let O=0;O<S;O++)I[O]=~C.g[O];return new c(I,~C.h).add(w)}i.abs=function(){return Y(this)?H(this):this},i.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let O=0;for(let N=0;N<=S;N++){let L=O+(this.i(N)&65535)+(C.i(N)&65535),x=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);O=x>>>16,L&=65535,x&=65535,I[N]=x<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function ie(C,S){return C.add(H(S))}i.j=function(C){if(G(this)||G(C))return T;if(Y(this))return Y(C)?H(this).j(H(C)):H(H(this).j(C));if(Y(C))return H(this.j(H(C)));if(this.l(D)<0&&C.l(D)<0)return p(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let N=0;N<C.g.length;N++){const L=this.i(O)>>>16,x=this.i(O)&65535,yt=C.i(N)>>>16,ut=C.i(N)&65535;I[2*O+2*N]+=x*ut,te(I,2*O+2*N),I[2*O+2*N+1]+=L*ut,te(I,2*O+2*N+1),I[2*O+2*N+1]+=x*yt,te(I,2*O+2*N+1),I[2*O+2*N+2]+=L*yt,te(I,2*O+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new c(I,0)};function te(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function se(C,S){this.g=C,this.h=S}function Ee(C,S){if(G(S))throw Error("division by zero");if(G(C))return new se(T,T);if(Y(C))return S=Ee(H(C),S),new se(H(S.g),H(S.h));if(Y(S))return S=Ee(C,H(S)),new se(H(S.g),S.h);if(C.g.length>30){if(Y(C)||Y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,O=S;O.l(C)<=0;)I=ce(I),O=ce(O);var N=Te(I,1),L=Te(O,1);for(O=Te(O,2),I=Te(I,2);!G(O);){var x=L.add(O);x.l(C)<=0&&(N=N.add(I),L=x),O=Te(O,1),I=Te(I,1)}return S=ie(C,N.j(S)),new se(N,S)}for(N=T;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(I),x=L.j(S);Y(x)||x.l(C)>0;)I-=O,L=p(I),x=L.j(S);G(L)&&(L=w),N=N.add(L),C=ie(C,x)}return new se(N,C)}i.B=function(C){return Ee(this,C).h},i.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)&C.i(O);return new c(I,this.h&C.h)},i.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)|C.i(O);return new c(I,this.h|C.h)},i.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let O=0;O<S;O++)I[O]=this.i(O)^C.i(O);return new c(I,this.h^C.h)};function ce(C){const S=C.g.length+1,I=[];for(let O=0;O<S;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(I,C.h)}function Te(C,S){const I=S>>5;S%=32;const O=C.g.length-I,N=[];for(let L=0;L<O;L++)N[L]=S>0?C.i(L+I)>>>S|C.i(L+I+1)<<32-S:C.i(L+I);return new c(N,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,s3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,ls=c}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a3,ju,o3,yf,Wg,l3,u3,c3;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var v=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in v))break e;v=v[U]}h=h[h.length-1],A=v[h],y=y(A),y!=A&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,v){return h.call.apply(h.bind,arguments)}function p(h,y,v){return p=g,p.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(A,U,Q){for(var ae=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ae[Ie-2]=arguments[Ie];return y.prototype[U].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=h[A];return v}return[]}function G(h,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const Q=U.length||0;h.length=v+Q;for(let ae=0;ae<Q;ae++)h[v+ae]=U[ae]}else h.push(U)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){c.setTimeout(()=>{throw h},0)}function ie(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const A=se.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Y(()=>new Ee,h=>h.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Te=!1,C=new te,S=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(I)}};function I(){for(var h;h=ie();){try{h.h.call(h.g)}catch(v){H(v)}var y=se;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Te=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function yt(h,y){N.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(yt,N),yt.prototype.init=function(h,y){const v=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&yt.Z.h.call(this)},yt.prototype.h=function(){yt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),$=0;function he(h,y,v,A,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=U,this.key=++$,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ue(h,y,v){for(const A in h)y.call(v,h[A],A,h)}function V(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function ne(h){const y={};for(const v in h)y[v]=h[v];return y}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)h[v]=A[v];for(let Q=0;Q<de.length;Q++)v=de[Q],Object.prototype.hasOwnProperty.call(A,v)&&(h[v]=A[v])}}function _e(h){this.src=h,this.g={},this.h=0}_e.prototype.add=function(h,y,v,A,U){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ae=Ae(h,y,A,U);return ae>-1?(y=h[ae],v||(y.fa=!1)):(y=new he(y,this.src,Q,!!A,U),y.fa=v,h.push(y)),y};function Pe(h,y){const v=y.type;if(v in h.g){var A=h.g[v],U=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=U>=0)&&Array.prototype.splice.call(A,U,1),Q&&(ve(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Ae(h,y,v,A){for(let U=0;U<h.length;++U){const Q=h[U];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return U}return-1}var Qt="closure_lm_"+(Math.random()*1e6|0),Ze={};function Jn(h,y,v,A,U){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Jn(h,y[Q],v,A,U);return null}return v=jc(v),h&&h[ut]?h.J(y,v,d(A)?!!A.capture:!1,U):Rl(h,y,v,!1,A,U)}function Rl(h,y,v,A,U,Q){if(!y)throw Error("Invalid event type");const ae=d(U)?!!U.capture:!!U;let Ie=Il(h);if(Ie||(h[Qt]=Ie=new _e(h)),v=Ie.add(y,v,A,ae,Q),v.proxy)return v;if(A=Ua(),v.proxy=A,A.src=h,A.listener=v,h.addEventListener)L||(U=ae),U===void 0&&(U=!1),h.addEventListener(y.toString(),A,U);else if(h.attachEvent)h.attachEvent(qa(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ua(){function h(v){return y.call(h.src,h.listener,v)}const y=Id;return h}function ja(h,y,v,A,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ja(h,y[Q],v,A,U);else A=d(A)?!!A.capture:!!A,v=jc(v),h&&h[ut]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],v=Ae(y,v,A,U),v>-1&&(ve(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Il(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ae(y,v,A,U)),(v=h>-1?y[h]:null)&&Rs(v))}function Rs(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ut])Pe(y.i,h);else{var v=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(v,A,h.capture):y.detachEvent?y.detachEvent(qa(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Il(y))?(Pe(v,h),v.h==0&&(v.src=null,y[Qt]=null)):ve(h)}}}function qa(h){return h in Ze?Ze[h]:Ze[h]="on"+h}function Id(h,y){if(h.da)h=!0;else{y=new yt(y,this);const v=h.listener,A=h.ha||h.src;h.fa&&Rs(h),h=v.call(A,y)}return h}function Il(h){return h=h[Qt],h instanceof _e?h:null}var En="__closure_events_fn_"+(Math.random()*1e9>>>0);function jc(h){return typeof h=="function"?h:(h[En]||(h[En]=function(y){return h.handleEvent(y)}),h[En])}function Pt(){O.call(this),this.i=new _e(this),this.M=this,this.G=null}T(Pt,O),Pt.prototype[ut]=!0,Pt.prototype.removeEventListener=function(h,y,v,A){ja(this,h,y,v,A)};function Ut(h,y){var v,A=h.G;if(A)for(v=[];A;A=A.G)v.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new N(y,h);else if(y instanceof N)y.target=y.target||h;else{var U=y;y=new N(A,h),ue(y,U)}U=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],U=Lr(Q,A,!0,y)&&U;if(Q=y.g=h,U=Lr(Q,A,!0,y)&&U,U=Lr(Q,A,!1,y)&&U,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],U=Lr(Q,A,!1,y)&&U}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let A=0;A<v.length;A++)ve(v[A]);delete h.g[y],h.h--}}this.G=null},Pt.prototype.J=function(h,y,v,A){return this.i.add(String(h),y,!1,v,A)},Pt.prototype.K=function(h,y,v,A){return this.i.add(String(h),y,!0,v,A)};function Lr(h,y,v,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const Ie=ae.listener,ot=ae.ha||ae.src;ae.fa&&Pe(h.i,ae),U=Ie.call(ot,A)!==!1&&U}}return U&&!A.defaultPrevented}function xd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xl(h){h.g=xd(()=>{h.g=null,h.i&&(h.i=!1,xl(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Cd extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(h){O.call(this),this.h=h,this.g={}}T(Is,O);var pi=[];function tn(h){Ue(h.g,function(y,v){this.g.hasOwnProperty(v)&&Rs(y)},h),h.g={}}Is.prototype.N=function(){Is.Z.N.call(this),tn(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=c.JSON.stringify,hn=c.JSON.parse,Dd=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function qc(){}function Fc(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yi(){N.call(this,"d")}T(yi,N);function Wn(){N.call(this,"c")}T(Wn,N);var Bn={},_i=null;function Fa(){return _i=_i||new Pt}Bn.Ia="serverreachability";function Cl(h){N.call(this,Bn.Ia,h)}T(Cl,N);function vi(h){const y=Fa();Ut(y,new Cl(y))}Bn.STAT_EVENT="statevent";function Ha(h,y){N.call(this,Bn.STAT_EVENT,h),this.stat=y}T(Ha,N);function Tt(h){const y=Fa();Ut(y,new Ha(y,h))}Bn.Ja="timingevent";function Hc(h,y){N.call(this,Bn.Ja,h),this.size=y}T(Hc,N);function Ei(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Ti(){this.g=!0}Ti.prototype.ua=function(){this.g=!1};function Dl(h,y,v,A,U,Q){h.info(function(){if(h.g)if(Q){var ae="",Ie=Q.split("&");for(let Ge=0;Ge<Ie.length;Ge++){var ot=Ie[Ge].split("=");if(ot.length>1){const At=ot[0];ot=ot[1];const In=At.split("_");ae=In.length>=2&&In[1]=="type"?ae+(At+"="+ot+"&"):ae+(At+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+v+`
`+ae})}function Vl(h,y,v,A,U,Q,ae){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+v+`
`+Q+" "+ae})}function zr(h,y,v,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(h,v)+(A?" "+A:"")})}function Vd(h,y){h.info(function(){return"TIMEOUT: "+y})}Ti.prototype.info=function(){};function gr(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var v=Q[h];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return zn(Q)}catch{return y}}var bt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function xs(){}T(xs,qc),xs.prototype.g=function(){return new XMLHttpRequest},Br=new xs;function Cs(h){return encodeURIComponent(String(h))}function Nd(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function er(h,y,v,A){this.j=h,this.i=y,this.l=v,this.S=A||1,this.V=new Is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var Ga={},pr={};function yr(h,y,v){h.M=1,h.A=jr(mt(y)),h.u=v,h.R=!0,wi(h,null)}function wi(h,y){h.F=Date.now(),Ds(h),h.B=mt(h.A);var v=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Yc(v.i,"t",A),h.C=0,v=h.j.L,h.h=new bi,h.g=to(h.j,v?y:null,!h.u),h.P>0&&(h.O=new Cd(p(h.Y,h,h.g),h.P)),y=h.V,v=h.g,A=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(pi[0]=U.toString()),U=pi);for(let Q=0;Q<U.length;Q++){const ae=Jn(v,U[Q],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?ne(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),vi(),Dl(h.i,h.v,h.B,h.l,h.S,h.u)}er.prototype.ba=function(h){h=h.target;const y=this.O;y&&nn(h)==3?y.j():this.Y(h)},er.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=nn(this.g),ot=this.g.ya(),Ge=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||js(this.g)))){this.K||Ie!=4||ot==7||(ot==8||Ge<=0?vi(3):vi(2)),vr(this);var y=this.g.ca();this.X=y;var v=Ai(this);if(this.o=y==200,Vl(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var Q=A;break t}}Q=null}if(h=Q)zr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ka(this,h);else{this.o=!1,this.m=3,Tt(12),Er(this),Vs(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<v.length;)if(At=Gc(this,v),At==pr){Ie==4&&(this.m=4,Tt(14),h=!1),zr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ga){this.m=4,Tt(15),zr(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else zr(this.i,this.l,At,null),Ka(this,At);if(wt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)zr(this.i,this.l,v,"[Invalid Chunked Response]"),Er(this),Vs(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jl(ae),ae.P=!0,Tt(11))}}else zr(this.i,this.l,v,null),Ka(this,v);Ie==4&&Er(this),this.o&&!this.K&&(Ie==4?ql(this.j,this):(this.o=!1,Ds(this)))}else qs(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Er(this),Vs(this)}}}catch{}finally{}};function Ai(h){if(!wt(h))return h.g.la();const y=js(h.g);if(y==="")return"";let v="";const A=y.length,U=nn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Er(h),Vs(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<A;Q++)h.h.h=!0,v+=h.h.i.decode(y[Q],{stream:!(U&&Q==A-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function wt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gc(h,y){var v=h.C,A=y.indexOf(`
`,v);return A==-1?pr:(v=Number(y.substring(v,A)),isNaN(v)?Ga:(A+=1,A+v>y.length?pr:(y=y.slice(A,A+v),h.C=A+v,y)))}er.prototype.cancel=function(){this.K=!0,Er(this)};function Ds(h){h.T=Date.now()+h.H,_r(h,h.H)}function _r(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ei(p(h.aa,h),y)}function vr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}er.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vd(this.i,this.B),this.M!=2&&(vi(),Tt(17)),Er(this),this.m=2,Vs(this)):_r(this,this.T-h)};function Vs(h){h.j.I==0||h.K||ql(h.j,h)}function Er(h){vr(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,tn(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ka(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Os(v.h,h))){if(!h.L&&Os(v.h,h)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)eo(v),Tr(v);else break e;Ul(v),Tt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ei(p(v.Va,v),6e3));Un(v.h)<=1&&v.ta&&(v.ta=void 0)}else Hr(v,11)}else if((h.L||v.g==h)&&eo(v),!x(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Ge=U[y];const At=Ge[0];if(!(At<=v.K))if(v.K=At,Ge=Ge[1],v.I==2)if(Ge[0]=="c"){v.M=Ge[1],v.ba=Ge[2];const In=Ge[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const br=Ge[4];br!=null&&(v.za=br,v.j.info("SVER="+v.za));const rr=Ge[5];rr!=null&&typeof rr=="number"&&rr>0&&(A=1.5*rr,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ir=h.g;if(ir){const sr=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var Q=A.h;Q.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Qa(Q,Q.h),Q.h=null))}if(A.G){const Hl=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(A.wa=Hl,Je(A.J,A.G,Hl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=h;if(A.na=rh(A,A.L?A.ba:null,A.W),ae.L){Ur(A.h,ae);var Ie=ae,ot=A.O;ot&&(Ie.H=ot),Ie.D&&(vr(Ie),Ds(Ie)),A.g=ae}else Wc(A);v.i.length>0&&Ks(v)}else Ge[0]!="stop"&&Ge[0]!="close"||Hr(v,7);else v.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Hr(v,7):Hs(v):Ge[0]!="noop"&&v.l&&v.l.qa(Ge),v.A=0)}}vi(4)}catch{}}var Md=class{constructor(h,y){this.g=h,this.map=y}};function Ns(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ms(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Un(h){return h.h?1:h.g?h.g.size:0}function Os(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Qa(h,y){h.g?h.g.add(y):h.h=y}function Ur(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ns.prototype.cancel=function(){if(this.i=Ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ya(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const A=h[v].indexOf("=");let U,Q=null;A>=0?(U=h[v].substring(0,A),Q=h[v].substring(A+1)):U=h[v],y(U,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function tr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof tr?(this.l=h.l,Si(this,h.j),this.o=h.o,this.g=h.g,Ps(this,h.u),this.h=h.h,Ri(this,$c(h.i)),this.m=h.m):h&&(y=String(h).match($a))?(this.l=!1,Si(this,y[1]||"",!0),this.o=ks(y[2]||""),this.g=ks(y[3]||"",!0),Ps(this,y[4]),this.h=ks(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=ks(y[7]||"")):(this.l=!1,this.i=new jn(null,this.l))}tr.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(jt(y,Ml,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(jt(y,Ml,!0),"@"),h.push(Cs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(jt(v,v.charAt(0)=="/"?Ii:Ol,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",jt(v,Qc)),h.join("")},tr.prototype.resolve=function(h){const y=mt(this);let v=!!h.j;v?Si(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var A=h.h;if(v)Ps(y,h.u);else if(v=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const Q=[];for(let ae=0;ae<U.length;){const Ie=U[ae++];Ie=="."?A&&ae==U.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ae==U.length&&Q.push("")):(Q.push(Ie),A=!0)}A=Q.join("/")}else A=U}return v?y.h=A:v=h.i.toString()!=="",v?Ri(y,$c(h.i)):v=!!h.m,v&&(y.m=h.m),y};function mt(h){return new tr(h)}function Si(h,y,v){h.j=v?ks(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ps(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Ri(h,y,v){y instanceof jn?(h.i=y,Ll(h.i,h.l)):(v||(y=jt(y,Kc)),h.i=new jn(y,h.l))}function Je(h,y,v){h.i.set(y,v)}function jr(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ks(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function jt(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Nl),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Nl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ml=/[#\/\?@]/g,Ol=/[#\?:]/g,Ii=/[#\?]/g,Kc=/[#\?@]/g,Qc=/#/g;function jn(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function qr(h){h.g||(h.g=new Map,h.h=0,h.i&&Od(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=jn.prototype,i.add=function(h,y){qr(this),this.i=null,h=nr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Pl(h,y){qr(h),y=nr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function kl(h,y){return qr(h),y=nr(h,y),h.g.has(y)}i.forEach=function(h,y){qr(this),this.g.forEach(function(v,A){v.forEach(function(U){h.call(y,U,A,this)},this)},this)};function Xa(h,y){qr(h);let v=[];if(typeof y=="string")kl(h,y)&&(v=v.concat(h.g.get(nr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}i.set=function(h,y){return qr(this),this.i=null,h=nr(this,h),kl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Xa(this,h),h.length>0?String(h[0]):y):y};function Yc(h,y,v){Pl(h,y),v.length>0&&(h.i=null,h.g.set(nr(h,y),D(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const U=Cs(v);v=Xa(this,v);for(let Q=0;Q<v.length;Q++){let ae=U;v[Q]!==""&&(ae+="="+Cs(v[Q])),h.push(ae)}}return this.i=h.join("&")};function $c(h){const y=new jn;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function nr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ll(h,y){y&&!h.j&&(qr(h),h.i=null,h.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(Pl(this,A),Yc(this,U,v))},h)),h.j=y}function zl(h,y){const v=new Ti;if(c.Image){const A=new Image;A.onload=_(fn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=_(fn,v,"TestLoadImage: error",!1,y,A),A.onabort=_(fn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(fn,v,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function xi(h,y){const v=new Ti,A=new AbortController,U=setTimeout(()=>{A.abort(),fn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(U),Q.ok?fn(v,"TestPingServer: ok",!0,y):fn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),fn(v,"TestPingServer: error",!1,y)})}function fn(h,y,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Xc(){this.g=new Dd}function Ls(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ls,qc),Ls.prototype.g=function(){return new zs(this.i,this.h)};function zs(h,y){Pt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zs,Pt),i=zs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Fr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dn(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ci(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ci(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?dn(this):Fr(this),this.readyState==3&&Ci(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,dn(this))},i.Na=function(h){this.g&&(this.response=h,dn(this))},i.ga=function(){this.g&&dn(this)};function dn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Fr(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Fr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Di(h){let y="";return Ue(h,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function qn(h,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Di(v),typeof h=="string"?v!=null&&Cs(v):Je(h,y,v))}function rt(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(rt,Pt);var Za=/^https?$/i,Zc=["POST","PUT"];i=rt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Bs(this,Q);return}if(h=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Zc,y,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Bs(this,Q)}};function Bs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Us(h),kt(h)}function Us(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),kt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kt(this,!0)),rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Bl(this):this.Xa())},i.Xa=function(){Bl(this)};function Bl(h){if(h.h&&typeof l<"u"){if(h.v&&nn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),nn(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let ae=String(h.D).match($a)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),A=!Za.test(ae?ae.toLowerCase():"")}v=A}if(v)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var U=nn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Us(h)}}finally{kt(h)}}}}function kt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ut(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function nn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return nn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hn(y)}};function js(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qs(h){const y={};h=(h.g&&nn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(x(h[A]))continue;var v=Nd(h[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[U]||[];y[U]=Q,Q.push(v)}V(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Ja(h){this.za=0,this.i=[],this.j=new Ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fs("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fs("baseRetryDelayMs",5e3,h),this.Za=Fs("retryDelaySeedMs",1e4,h),this.Ta=Fs("forwardChannelMaxRetries",2,h),this.va=Fs("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ns(h&&h.concurrentRequestLimit),this.Ba=new Xc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ja.prototype,i.ka=8,i.I=1,i.connect=function(h,y,v,A){Tt(0),this.W=h,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=rh(this,null,this.W),Ks(this)};function Hs(h){if(Gs(h),h.I==3){var y=h.V++,v=mt(h.J);if(Je(v,"SID",h.M),Je(v,"RID",y),Je(v,"TYPE","terminate"),Qs(h,v),y=new er(h,h.j,y),y.M=2,y.A=jr(mt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=to(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ds(y)}nh(h)}function Tr(h){h.g&&(jl(h),h.g.cancel(),h.g=null)}function Gs(h){Tr(h),h.v&&(c.clearTimeout(h.v),h.v=null),eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ks(h){if(!Ms(h.h)&&!h.m){h.m=!0;var y=h.Ea;ce||S(),Te||(ce(),Te=!0),C.add(y,h),h.D=0}}function Pd(h,y){return Un(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ei(p(h.Ea,h,y),th(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new er(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=ne(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(U.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Wa(this,U,y),v=mt(this.J),Je(v,"RID",h),Je(v,"CVER",22),this.G&&Je(v,"X-HTTP-Session-Id",this.G),Qs(this,v),Q&&(this.R?y="headers="+Cs(Di(Q))+"&"+y:this.u&&qn(v,this.u,Q)),Qa(this.h,U),this.Ra&&Je(v,"TYPE","init"),this.S?(Je(v,"$req",y),Je(v,"SID","null"),U.U=!0,yr(U,v,null)):yr(U,v,y),this.I=2}}else this.I==3&&(h?Jc(this,h):this.i.length==0||Ms(this.h)||Jc(this))};function Jc(h,y){var v;y?v=y.l:v=h.V++;const A=mt(h.J);Je(A,"SID",h.M),Je(A,"RID",v),Je(A,"AID",h.K),Qs(h,A),h.u&&h.o&&qn(A,h.u,h.o),v=new er(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Wa(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Qa(h.h,v),yr(v,A,y)}function Qs(h,y){h.H&&Ue(h.H,function(v,A){Je(y,A,v)}),h.l&&Ue({},function(v,A){Je(y,A,v)})}function Wa(h,y,v){v=Math.min(h.i.length,v);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var U=h.i;let Ie=-1;for(;;){const ot=["count="+v];Ie==-1?v>0?(Ie=U[0].g,ot.push("ofs="+Ie)):Ie=0:ot.push("ofs="+Ie);let Ge=!0;for(let At=0;At<v;At++){var Q=U[At].g;const In=U[At].map;if(Q-=Ie,Q<0)Ie=Math.max(0,U[At].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var ae=In instanceof Map?In:Object.entries(In);for(const[br,rr]of ae){let ir=rr;d(rr)&&(ir=zn(rr)),ot.push(Q+br+"="+encodeURIComponent(ir))}}catch(br){throw ot.push(Q+"type="+encodeURIComponent("_badmap")),br}}catch{A&&A(In)}}if(Ge){ae=ot.join("&");break e}}ae=void 0}return h=h.i.splice(0,v),y.G=h,ae}function Wc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ce||S(),Te||(ce(),Te=!0),C.add(y,h),h.A=0}}function Ul(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ei(p(h.Da,h),th(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ei(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Tr(this),eh(this))};function jl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function eh(h){h.g=new er(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=mt(h.na);Je(y,"RID","rpc"),Je(y,"SID",h.M),Je(y,"AID",h.K),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(y,"TO",h.ia),Je(y,"TYPE","xmlhttp"),Qs(h,y),h.u&&h.o&&qn(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=jr(mt(y)),v.u=null,v.R=!0,wi(v,h)}i.Va=function(){this.C!=null&&(this.C=null,Tr(this),Ul(this),Tt(19))};function eo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ql(h,y){var v=null;if(h.g==y){eo(h),jl(h),h.g=null;var A=2}else if(Os(h.h,y))v=y.G,Ur(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;A=Fa(),Ut(A,new Hc(A,v)),Ks(h)}else Wc(h);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Pd(h,y)||A==2&&Ul(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),U){case 1:Hr(h,5);break;case 4:Hr(h,10);break;case 3:Hr(h,6);break;default:Hr(h,2)}}}function th(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Hr(h,y){if(h.j.info("Error code "+y),y==2){var v=p(h.bb,h),A=h.Ua;const U=!A;A=new tr(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Si(A,"https"),jr(A),U?zl(A.toString(),v):xi(A.toString(),v)}else Tt(2);h.I=0,h.l&&h.l.pa(y),nh(h),Gs(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function nh(h){if(h.I=0,h.ja=[],h.l){const y=Ya(h.h);(y.length!=0||h.i.length!=0)&&(G(h.ja,y),G(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function rh(h,y,v){var A=v instanceof tr?mt(v):new tr(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ps(A,A.u);else{var U=c.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const Q=new tr(null);A&&Si(Q,A),y&&(Q.g=y),U&&Ps(Q,U),v&&(Q.h=v),A=Q}return v=h.G,y=h.wa,v&&y&&Je(A,v,y),Je(A,"VER",h.ka),Qs(h,A),A}function to(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new rt(new Ls({ab:v})):new rt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}i=ih.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function no(){}no.prototype.g=function(h,y){return new mn(h,y)};function mn(h,y){Pt.call(this),this.g=new Ja(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Vi(this)}T(mn,Pt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Hs(this.g)},mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=zn(h),h=v);y.i.push(new Md(y.Ya++,h)),y.I==3&&Ks(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,mn.Z.N.call(this)};function Fl(h){yi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Fl,yi);function sh(){Wn.call(this),this.status=1}T(sh,Wn);function Vi(h){this.g=h}T(Vi,ih),Vi.prototype.ra=function(){Ut(this.g,"a")},Vi.prototype.qa=function(h){Ut(this.g,new Fl(h))},Vi.prototype.pa=function(h){Ut(this.g,new sh)},Vi.prototype.oa=function(){Ut(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,c3=function(){return new no},u3=function(){return Fa()},l3=Bn,Wg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,yf=bt,Yt.COMPLETE="complete",o3=Yt,Fc.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,ju=Fc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,a3=rt}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="12.9.0";function V9(i){_l=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new zp("@firebase/firestore");function zo(){return ds.logLevel}function N9(i){ds.setLogLevel(i)}function re(i,...e){if(ds.logLevel<=Le.DEBUG){const t=e.map(Hp);ds.debug(`Firestore (${_l}): ${i}`,...t)}}function It(i,...e){if(ds.logLevel<=Le.ERROR){const t=e.map(Hp);ds.error(`Firestore (${_l}): ${i}`,...t)}}function dr(i,...e){if(ds.logLevel<=Le.WARN){const t=e.map(Hp);ds.warn(`Firestore (${_l}): ${i}`,...t)}}function Hp(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,h3(i,r,t)}function h3(i,e,t){let r=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw It(r),new Error(r)}function ge(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||h3(e,a,r)}function M9(i,e){i||fe(57014,e)}function le(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Pa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kt.UNAUTHENTICATED)))}shutdown(){}}class P9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class k9{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ge(this.o===void 0,42304);let r=this.i;const a=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new en;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new en,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new en)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new f3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class L9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class z9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new L9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,J4(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ge(this.o===void 0,3512);const r=l=>{l.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=U9(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Re(i,e){return i<e?-1:i>e?1:0}function ep(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return Bg(a)===Bg(l)?Re(a,l):Bg(a)?1:-1}return Re(i.length,e.length)}const j9=55296,q9=57343;function Bg(i){const e=i.charCodeAt(0);return e>=j9&&e<=q9}function Zo(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}function d3(i){return i+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__name__";class xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=xr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Re(e.length,t.length)}static compareSegments(e,t){const r=xr.isNumericId(e),a=xr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?xr.extractNumericId(e).compare(xr.extractNumericId(t)):ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class Oe extends xr{construct(e,t,r){return new Oe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Oe(t)}static emptyPath(){return new Oe([])}}const F9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends xr{construct(e,t,r){return new ft(e,t,r)}static isValidIdentifier(e){return F9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new ft([F_])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ee(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ee(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new ee(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Oe.fromString(e))}static fromName(e){return new oe(Oe.fromString(e).popFirst(5))}static empty(){return new oe(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i,e,t){if(!t)throw new ee(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function m3(i,e,t,r){if(e===!0&&r===!0)throw new ee(K.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function H_(i){if(!oe.isDocumentKey(i))throw new ee(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function G_(i){if(oe.isDocumentKey(i))throw new ee(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function g3(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":fe(12329,{type:typeof i})}function qe(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ee(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(i);throw new ee(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function p3(i,e){if(e<=0)throw new ee(K.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Rc(i,e){if(!g3(i))throw new ee(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ee(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,Q_=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q_);return new He(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K_)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Mt("string",He._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new He(0,0))}static max(){return new pe(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;class kf{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function tp(i){return i.fields.find((e=>e.kind===2))}function fa(i){return i.fields.filter((e=>e.kind!==2))}kf.UNKNOWN_ID=-1;class _f{constructor(e,t){this.fieldPath=e,this.kind=t}}class ac{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ac(0,Ln.min())}}function y3(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(r===1e9?new He(t+1,0):new He(t,r));return new Ln(a,oe.empty(),e)}function _3(i){return new Ln(i.readTime,i.key,Jo)}class Ln{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ln(pe.min(),oe.empty(),Jo)}static max(){return new Ln(pe.max(),oe.empty(),Jo)}}function Qp(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(i.documentKey,e.documentKey),t!==0?t:Re(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==v3)throw i;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):z.reject(t)}static resolve(e){return new z(((t,r)=>{t(e)}))}static reject(e){return new z(((t,r)=>{r(e)}))}static waitFor(e){return new z(((t,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(g=>r(g)))})),c=!0,l===a&&t()}))}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next((a=>a?z.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new z(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next((_=>{c[p]=_,++d,d===l&&r(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new z(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="SimpleDb";class rd{static open(e,t,r,a){try{return new rd(t,e.transaction(a,r))}catch(l){throw new Qu(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new en,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Qu(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=Yp(r.target.error);this.S.reject(new Qu(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(re(Pn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new G9(t)}}class Nr{static delete(e){return re(Pn,"Removing database:",e),ma(Op().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!H4())return!1;if(Nr.F())return!0;const e=Of(),t=Nr.M(e),r=0<t&&t<10,a=T3(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Nr.M(Of())===12.2&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(re(Pn,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{r(new Qu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new ee(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new ee(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new Qu(e,c))},a.onupgradeneeded=l=>{re(Pn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{re(Pn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=rd.open(this.db,e,l?"readonly":"readwrite",r),g=a(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),z.reject(p)))).toPromise();return g.catch((()=>{})),await d.D,g}catch(d){const g=d,p=g.name!=="FirebaseError"&&c<3;if(re(Pn,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function T3(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class H9{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ma(this.U.delete())}}class Qu extends ee{constructor(e,t){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bs(i){return i.name==="IndexedDbTransactionError"}class G9{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(re(Pn,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(re(Pn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ma(r)}add(e){return re(Pn,"ADD",this.store.name,e,e),ma(this.store.add(e))}get(e){return ma(this.store.get(e)).next((t=>(t===void 0&&(t=null),re(Pn,"GET",this.store.name,e,t),t)))}delete(e){return re(Pn,"DELETE",this.store.name,e),ma(this.store.delete(e))}count(){return re(Pn,"COUNT",this.store.name),ma(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new z(((c,d)=>{l.onerror=g=>{d(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((d,g)=>{c.push(g)})).next((()=>c))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new z(((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}X(e,t){re(Pn,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((l,c,d)=>d.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new z(((r,a)=>{t.onerror=l=>{const c=Yp(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():r()})):r()}}))}J(e,t){const r=[];return new z(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const g=new H9(d),p=t(d.primaryKey,d.value,g);if(p instanceof z){const _=p.catch((T=>(g.done(),z.reject(T))));r.push(_)}g.isDone?a():g.G===null?d.continue():d.continue(g.G)}})).next((()=>z.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ma(i){return new z(((e,t)=>{i.onsuccess=r=>{const a=r.target.result;e(a)},i.onerror=r=>{const a=Yp(r.target.error);t(a)}}))}let Y_=!1;function Yp(i){const e=Nr.M(Of());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Y_||(Y_=!0,setTimeout((()=>{throw r}),0)),r}}return i}const Yu="IndexBackfiller";class K9{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){re(Yu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();re(Yu,`Documents written: ${t}`)}catch(t){bs(t)?re(Yu,"Ignoring IndexedDB error during index backfill: ",t):await Ts(t)}await this.re(6e4)}))}}class Q9{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,l=!0;return z.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return re(Yu,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,r.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(re(Yu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,l)=>{const c=_3(l);Qp(c,r)>0&&(r=c)})),new Ln(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}An.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=-1;function Ic(i){return i==null}function oc(i){return i===0&&1/i==-1/0}function b3(i){return typeof i=="number"&&Number.isInteger(i)&&!oc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="";function un(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=$_(e)),e=Y9(i.get(t),e);return $_(e)}function Y9(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Lf:t+="";break;default:t+=l}}return t}function $_(i){return i+Lf+""}function Dr(i){const e=i.length;if(ge(e>=2,64408,{path:i}),e===2)return ge(i.charAt(0)===Lf&&i.charAt(1)==="",56145,{path:i}),Oe.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const c=i.indexOf(Lf,l);switch((c<0||c>t)&&fe(50515,{path:i}),i.charAt(c+1)){case"":const d=i.substring(l,c);let g;a.length===0?g=d:(a+=d,g=a,a=""),r.push(g);break;case"":a+=i.substring(l,c),a+="\0";break;case"":a+=i.substring(l,c+1);break;default:fe(61167,{path:i})}l=c+2}return new Oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="remoteDocuments",xc="owner",No="owner",lc="mutationQueues",$9="userId",ur="mutations",X_="batchId",va="userMutationsIndex",Z_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(i,e){return[i,un(e)]}function w3(i,e,t){return[i,un(e),t]}const X9={},Wo="documentMutations",zf="remoteDocumentsV14",Z9=["prefixPath","collectionGroup","readTime","documentId"],Ef="documentKeyIndex",J9=["prefixPath","collectionGroup","documentId"],A3="collectionGroupIndex",W9=["collectionGroup","readTime","prefixPath","documentId"],uc="remoteDocumentGlobal",np="remoteDocumentGlobalKey",el="targets",S3="queryTargetsIndex",eS=["canonicalId","targetId"],tl="targetDocuments",tS=["targetId","path"],$p="documentTargetsIndex",nS=["path","targetId"],Bf="targetGlobalKey",ba="targetGlobal",cc="collectionParents",rS=["collectionId","parent"],nl="clientMetadata",iS="clientId",id="bundles",sS="bundleId",sd="namedQueries",aS="name",Xp="indexConfiguration",oS="indexId",rp="collectionGroupIndex",lS="collectionGroup",$u="indexState",uS=["indexId","uid"],R3="sequenceNumberIndex",cS=["uid","sequenceNumber"],Xu="indexEntries",hS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],I3="documentKeyIndex",fS=["indexId","uid","orderedDocumentKey"],ad="documentOverlays",dS=["userId","collectionPath","documentId"],ip="collectionPathOverlayIndex",mS=["userId","collectionPath","largestBatchId"],x3="collectionGroupOverlayIndex",gS=["userId","collectionGroup","largestBatchId"],Zp="globals",pS="name",C3=[lc,ur,Wo,da,el,xc,ba,tl,nl,uc,cc,id,sd],yS=[...C3,ad],D3=[lc,ur,Wo,zf,el,xc,ba,tl,nl,uc,cc,id,sd,ad],V3=D3,Jp=[...V3,Xp,$u,Xu],_S=Jp,N3=[...Jp,Zp],vS=N3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends E3{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bt(i,e){const t=le(i);return Nr.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ws(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function M3(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Jt.RED,this.left=a??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Jt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $e(this.comparator);return t.data=e,t}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mo(i){return i.hasNext()?i.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new $e(ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new O3("Invalid base64 string: "+l):l}})(e);return new Et(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Et(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const TS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(i){if(ge(!!i,39018),typeof i=="string"){let e=0;const t=TS.exec(i);if(ge(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(i.seconds),nanos:ht(i.nanos)}}function ht(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ci(i){return typeof i=="string"?Et.fromBase64String(i):Et.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="server_timestamp",k3="__type__",L3="__previous_value__",z3="__local_write_time__";function od(i){return(i?.mapValue?.fields||{})[k3]?.stringValue===P3}function ld(i){const e=i.mapValue.fields[L3];return od(e)?ld(e):e}function hc(i){const e=ui(i.mapValue.fields[z3].timestampValue);return new He(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,r,a,l,c,d,g,p,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=T}}const ap="(default)";class ms{constructor(e,t){this.projectId=e,this.database=t||ap}static empty(){return new ms("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof ms&&e.projectId===this.projectId&&e.database===this.database}}function wS(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ee(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ms(i.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="__type__",B3="__max__",is={mapValue:{fields:{__type__:{stringValue:B3}}}},e1="__vector__",rl="value",Tf={nullValue:"NULL_VALUE"};function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?od(i)?4:U3(i)?9007199254740991:ud(i)?10:11:fe(28295,{value:i})}function Pr(i,e){if(i===e)return!0;const t=gs(i);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ui(a.timestampValue),d=ui(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return ci(a.bytesValue).isEqual(ci(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return ht(a.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(a.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ht(a.integerValue)===ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ht(a.doubleValue),d=ht(l.doubleValue);return c===d?oc(c)===oc(d):isNaN(c)&&isNaN(d)}return!1})(i,e);case 9:return Zo(i.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(J_(c)!==J_(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!Pr(c[g],d[g])))return!1;return!0})(i,e);default:return fe(52216,{left:i})}}function fc(i,e){return(i.values||[]).find((t=>Pr(t,e)))!==void 0}function ps(i,e){if(i===e)return 0;const t=gs(i),r=gs(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ht(l.integerValue||l.doubleValue),g=ht(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(i,e);case 3:return ev(i.timestampValue,e.timestampValue);case 4:return ev(hc(i),hc(e));case 5:return ep(i.stringValue,e.stringValue);case 6:return(function(l,c){const d=ci(l),g=ci(c);return d.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const _=Re(d[p],g[p]);if(_!==0)return _}return Re(d.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Re(ht(l.latitude),ht(c.latitude));return d!==0?d:Re(ht(l.longitude),ht(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return tv(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[rl]?.arrayValue,_=g[rl]?.arrayValue,T=Re(p?.values?.length||0,_?.values?.length||0);return T!==0?T:tv(p,_)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===is.mapValue&&c===is.mapValue)return 0;if(l===is.mapValue)return 1;if(c===is.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const w=ep(g[T],_[T]);if(w!==0)return w;const D=ps(d[g[T]],p[_[T]]);if(D!==0)return D}return Re(g.length,_.length)})(i.mapValue,e.mapValue);default:throw fe(23264,{he:t})}}function ev(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Re(i,e);const t=ui(i),r=ui(e),a=Re(t.seconds,r.seconds);return a!==0?a:Re(t.nanos,r.nanos)}function tv(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ps(t[a],r[a]);if(l)return l}return Re(t.length,r.length)}function il(i){return op(i)}function op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=ui(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return ci(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return oe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=op(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${op(t.fields[c])}`;return a+"}"})(i.mapValue):fe(61005,{value:i})}function bf(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(i);return e?16+bf(e):16;case 5:return 2*i.stringValue.length;case 6:return ci(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+bf(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return ws(r.fields,((l,c)=>{a+=l.length+bf(c)})),a})(i.mapValue);default:throw fe(13486,{value:i})}}function Aa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lp(i){return!!i&&"integerValue"in i}function dc(i){return!!i&&"arrayValue"in i}function nv(i){return!!i&&"nullValue"in i}function rv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wf(i){return!!i&&"mapValue"in i}function ud(i){return(i?.mapValue?.fields||{})[Wp]?.stringValue===e1}function Zu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ws(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Zu(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zu(i.arrayValue.values[t]);return e}return{...i}}function U3(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===B3}const j3={mapValue:{fields:{[Wp]:{stringValue:e1},[rl]:{arrayValue:{}}}}};function AS(i){return"nullValue"in i?Tf:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Aa(ms.empty(),oe.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?ud(i)?j3:{mapValue:{}}:fe(35942,{value:i})}function SS(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Aa(ms.empty(),oe.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?j3:"mapValue"in i?ud(i)?{mapValue:{}}:is:fe(61959,{value:i})}function iv(i,e){const t=ps(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function sv(i,e){const t=ps(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)}setAll(e){let t=ft.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=Zu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ws(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Wt(Zu(this.value))}}function q3(i){const e=[];return ws(i.fields,((t,r)=>{const a=new ft([t]);if(wf(r)){const l=q3(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new lt(e,0,pe.min(),pe.min(),pe.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,a){return new lt(e,1,t,pe.min(),r,a,0)}static newNoDocument(e,t){return new lt(e,2,t,pe.min(),pe.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new lt(e,3,t,pe.min(),pe.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.position=e,this.inclusive=t}}function av(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=oe.comparator(oe.fromName(c.referenceValue),t.key):r=ps(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function ov(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Pr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function RS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{}class ke extends F3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new IS(e,t,r):t==="array-contains"?new DS(e,r):t==="in"?new $3(e,r):t==="not-in"?new VS(e,r):t==="array-contains-any"?new NS(e,r):new ke(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new xS(e,r):new CS(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ps(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(ps(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ye extends F3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ye(e,t)}matches(e){return sl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sl(i){return i.op==="and"}function up(i){return i.op==="or"}function t1(i){return H3(i)&&sl(i)}function H3(i){for(const e of i.filters)if(e instanceof Ye)return!1;return!0}function cp(i){if(i instanceof ke)return i.field.canonicalString()+i.op.toString()+il(i.value);if(t1(i))return i.filters.map((e=>cp(e))).join(",");{const e=i.filters.map((t=>cp(t))).join(",");return`${i.op}(${e})`}}function G3(i,e){return i instanceof ke?(function(r,a){return a instanceof ke&&r.op===a.op&&r.field.isEqual(a.field)&&Pr(r.value,a.value)})(i,e):i instanceof Ye?(function(r,a){return a instanceof Ye&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&G3(c,a.filters[d])),!0):!1})(i,e):void fe(19439)}function K3(i,e){const t=i.filters.concat(e);return Ye.create(t,i.op)}function Q3(i){return i instanceof ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${il(t.value)}`})(i):i instanceof Ye?(function(t){return t.op.toString()+" {"+t.getFilters().map(Q3).join(" ,")+"}"})(i):"Filter"}class IS extends ke{constructor(e,t,r){super(e,t,r),this.key=oe.fromName(r.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class xS extends ke{constructor(e,t){super(e,"in",t),this.keys=Y3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class CS extends ke{constructor(e,t){super(e,"not-in",t),this.keys=Y3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Y3(i,e){return(e.arrayValue?.values||[]).map((t=>oe.fromName(t.referenceValue)))}class DS extends ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dc(t)&&fc(t.arrayValue,this.value)}}class $3 extends ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fc(this.value.arrayValue,t)}}class VS extends ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fc(this.value.arrayValue,t)}}class NS extends ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>fc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function hp(i,e=null,t=[],r=[],a=null,l=null,c=null){return new MS(i,e,t,r,a,l,c)}function Sa(i){const e=le(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>cp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ic(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>il(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>il(r))).join(",")),e.Te=t}return e.Te}function Cc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!RS(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!G3(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ov(i.startAt,e.startAt)&&ov(i.endAt,e.endAt)}function Uf(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function jf(i,e){return i.filters.filter((t=>t instanceof ke&&t.field.isEqual(e)))}function lv(i,e,t){let r=Tf,a=!0;for(const l of jf(i,e)){let c=Tf,d=!0;switch(l.op){case"<":case"<=":c=AS(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Tf}iv({value:r,inclusive:a},{value:c,inclusive:d})<0&&(r=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];iv({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function uv(i,e,t){let r=is,a=!0;for(const l of jf(i,e)){let c=is,d=!0;switch(l.op){case">=":case">":c=SS(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=is}sv({value:r,inclusive:a},{value:c,inclusive:d})>0&&(r=c,a=d)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];sv({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function X3(i,e,t,r,a,l,c,d){return new fi(i,e,t,r,a,l,c,d)}function vl(i){return new fi(i)}function cv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OS(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function n1(i){return i.collectionGroup!==null}function Fo(i){const e=le(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $e(ft.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new mc(l,r))})),t.has(ft.keyField().canonicalString())||e.Ie.push(new mc(ft.keyField(),r))}return e.Ie}function _n(i){const e=le(i);return e.Ee||(e.Ee=PS(e,Fo(i))),e.Ee}function PS(i,e){if(i.limitType==="F")return hp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new mc(a.field,l)}));const t=i.endAt?new ys(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new ys(i.startAt.position,i.startAt.inclusive):null;return hp(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function fp(i,e){const t=i.filters.concat([e]);return new fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function kS(i,e){const t=i.explicitOrderBy.concat([e]);return new fi(i.path,i.collectionGroup,t,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function qf(i,e,t){return new fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function LS(i,e){return new fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,e,i.endAt)}function zS(i,e){return new fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,e)}function Dc(i,e){return Cc(_n(i),_n(e))&&i.limitType===e.limitType}function Z3(i){return`${Sa(_n(i))}|lt:${i.limitType}`}function Bo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>Q3(a))).join(", ")}]`),Ic(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>il(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>il(a))).join(",")),`Target(${r})`})(_n(i))}; limitType=${i.limitType})`}function Vc(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):oe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of Fo(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,g){const p=av(c,d,g);return c.inclusive?p<=0:p<0})(r.startAt,Fo(r),a)||r.endAt&&!(function(c,d,g){const p=av(c,d,g);return c.inclusive?p>=0:p>0})(r.endAt,Fo(r),a))})(i,e)}function J3(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function W3(i){return(e,t)=>{let r=!1;for(const a of Fo(i)){const l=BS(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function BS(i,e,t){const r=i.field.isKeyField()?oe.comparator(e.key,t.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?ps(g,p):fe(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return fe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return M3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new at(oe.comparator);function Rn(){return US}const eE=new at(oe.comparator);function qu(...i){let e=eE;for(const t of i)e=e.insert(t.key,t);return e}function tE(i){let e=eE;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Vr(){return Ju()}function nE(){return Ju()}function Ju(){return new di((i=>i.toString()),((i,e)=>i.isEqual(e)))}const jS=new at(oe.comparator),qS=new $e(oe.comparator);function xe(...i){let e=qS;for(const t of i)e=e.add(t);return e}const FS=new $e(Re);function r1(){return FS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function rE(i){return{integerValue:""+i}}function iE(i,e){return b3(e)?rE(e):i1(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function HS(i,e,t){return i instanceof al?(function(a,l){const c={fields:{[k3]:{stringValue:P3},[z3]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&od(l)&&(l=ld(l)),l&&(c.fields[L3]=l),{mapValue:c}})(t,e):i instanceof Ra?aE(i,e):i instanceof Ia?oE(i,e):(function(a,l){const c=sE(a,l),d=hv(c)+hv(a.Ae);return lp(c)&&lp(a.Ae)?rE(d):i1(a.serializer,d)})(i,e)}function GS(i,e,t){return i instanceof Ra?aE(i,e):i instanceof Ia?oE(i,e):t}function sE(i,e){return i instanceof ol?(function(r){return lp(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class al extends cd{}class Ra extends cd{constructor(e){super(),this.elements=e}}function aE(i,e){const t=lE(e);for(const r of i.elements)t.some((a=>Pr(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ia extends cd{constructor(e){super(),this.elements=e}}function oE(i,e){let t=lE(e);for(const r of i.elements)t=t.filter((a=>!Pr(a,r)));return{arrayValue:{values:t}}}class ol extends cd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hv(i){return ht(i.integerValue||i.doubleValue)}function lE(i){return dc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.field=e,this.transform=t}}function KS(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof Ra&&a instanceof Ra||r instanceof Ia&&a instanceof Ia?Zo(r.elements,a.elements,Pr):r instanceof ol&&a instanceof ol?Pr(r.Ae,a.Ae):r instanceof al&&a instanceof al})(i.transform,e.transform)}class QS{constructor(e,t){this.version=e,this.transformResults=t}}class dt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dt}static exists(e){return new dt(void 0,e)}static updateTime(e){return new dt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class hd{}function uE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Tl(i.key,dt.none()):new El(i.key,i.data,dt.none());{const t=i.data,r=Wt.empty();let a=new $e(ft.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new mi(i.key,r,new Sn(a.toArray()),dt.none())}}function YS(i,e,t){i instanceof El?(function(a,l,c){const d=a.value.clone(),g=dv(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(i,e,t):i instanceof mi?(function(a,l,c){if(!Af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=dv(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(cE(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Wu(i,e,t,r){return i instanceof El?(function(l,c,d,g){if(!Af(l.precondition,c))return d;const p=l.value.clone(),_=mv(l.fieldTransforms,g,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(i,e,t,r):i instanceof mi?(function(l,c,d,g){if(!Af(l.precondition,c))return d;const p=mv(l.fieldTransforms,g,c),_=c.data;return _.setAll(cE(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,t,r):(function(l,c,d){return Af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(i,e,t)}function $S(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=sE(r.transform,a||null);l!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,l))}return t||null}function fv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Zo(r,a,((l,c)=>KS(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class El extends hd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class mi extends hd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cE(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function dv(i,e,t){const r=new Map;ge(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,GS(c,d,t[a]))}return r}function mv(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,HS(l,c,e))}return r}class Tl extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s1 extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&YS(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=nE();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const g=uE(c,d);g!==null&&r.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(pe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,r)=>fv(t,r)))&&Zo(this.baseMutations,e.baseMutations,((t,r)=>fv(t,r)))}}class o1{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return jS})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new o1(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Be;function hE(i){switch(i){case K.OK:return fe(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return fe(15467,{code:i})}}function fE(i){if(i===void 0)return It("GRPC error has no .code"),K.UNKNOWN;switch(i){case Nt.OK:return K.OK;case Nt.CANCELLED:return K.CANCELLED;case Nt.UNKNOWN:return K.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return K.INTERNAL;case Nt.UNAVAILABLE:return K.UNAVAILABLE;case Nt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Nt.NOT_FOUND:return K.NOT_FOUND;case Nt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Nt.ABORTED:return K.ABORTED;case Nt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Nt.DATA_LOSS:return K.DATA_LOSS;default:return fe(39323,{code:i})}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new ls([4294967295,4294967295],0);function gv(i){const e=dE().encode(i),t=new s3;return t.update(e),new Uint8Array(t.digest())}function pv(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ls([t,r],0),new ls([a,l],0)]}class u1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fu(`Invalid padding: ${t}`);if(r<0)throw new Fu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ls.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ls.fromNumber(r)));return a.compare(ZS)===1&&(a=new ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gv(e),[r,a]=pv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new u1(l,a,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=gv(e),[r,a]=pv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mc(pe.min(),a,new at(Re),Rn(),xe())}}class Oc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oc(r,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class mE{constructor(e,t){this.targetId=e,this.Ce=t}}class gE{constructor(e,t,r=Et.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class yv{constructor(){this.ve=0,this.Fe=_v(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),t=xe(),r=xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:fe(38017,{changeType:l})}})),new Oc(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=_v()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rn(),this.He=cf(),this.Je=cf(),this.Ze=new at(Re)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Uf(l))if(r===0){const c=new oe(l.path);this.et(t,c,lt.newNoDocument(c,pe.min()))}else ge(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),g=d?this.ct(d,e,c):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ci(r).toUint8Array()}catch(g){if(g instanceof O3)return dr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new u1(c,a,l)}catch(g){return dr(g instanceof Fu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Uf(d.target)){const g=new oe(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,lt.newNoDocument(g,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let r=xe();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Mc(e,t,this.Ze,this.je,r);return this.je=Rn(),this.He=cf(),this.Je=cf(),this.Ze=new at(Re),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new yv,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new $e(Re),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new $e(Re),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function cf(){return new at(oe.comparator)}function _v(){return new at(oe.comparator)}const WS={asc:"ASCENDING",desc:"DESCENDING"},e7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t7={and:"AND",or:"OR"};class n7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dp(i,e){return i.useProto3Json||Ic(e)?e:{value:e}}function ll(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function r7(i,e){return ll(i,e.toTimestamp())}function xt(i){return ge(!!i,49232),pe.fromTimestamp((function(t){const r=ui(t);return new He(r.seconds,r.nanos)})(i))}function c1(i,e){return mp(i,e).canonicalString()}function mp(i,e){const t=(function(a){return new Oe(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function yE(i){const e=Oe.fromString(i);return ge(IE(e),10190,{key:e.toString()}),e}function gc(i,e){return c1(i.databaseId,e.path)}function Mr(i,e){const t=yE(e);if(t.get(1)!==i.databaseId.projectId)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new oe(EE(t))}function _E(i,e){return c1(i.databaseId,e)}function vE(i){const e=yE(i);return e.length===4?Oe.emptyPath():EE(e)}function gp(i){return new Oe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function EE(i){return ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function vv(i,e,t){return{name:gc(i,e),fields:t.value.mapValue.fields}}function TE(i,e,t){const r=Mr(i,e.name),a=xt(e.updateTime),l=e.createTime?xt(e.createTime):pe.min(),c=new Wt({mapValue:{fields:e.fields}}),d=lt.newFoundDocument(r,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function i7(i,e){return"found"in e?(function(r,a){ge(!!a.found,43571),a.found.name,a.found.updateTime;const l=Mr(r,a.found.name),c=xt(a.found.updateTime),d=a.found.createTime?xt(a.found.createTime):pe.min(),g=new Wt({mapValue:{fields:a.found.fields}});return lt.newFoundDocument(l,c,d,g)})(i,e):"missing"in e?(function(r,a){ge(!!a.missing,3894),ge(!!a.readTime,22933);const l=Mr(r,a.missing),c=xt(a.readTime);return lt.newNoDocument(l,c)})(i,e):fe(7234,{result:e})}function s7(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:fe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(ge(_===void 0||typeof _=="string",58123),Et.fromBase64String(_||"")):(ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Et.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const _=p.code===void 0?K.UNKNOWN:fE(p.code);return new ee(_,p.message||"")})(c);t=new gE(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Mr(i,r.document.name),l=xt(r.document.updateTime),c=r.document.createTime?xt(r.document.createTime):pe.min(),d=new Wt({mapValue:{fields:r.document.fields}}),g=lt.newFoundDocument(a,l,c,d),p=r.targetIds||[],_=r.removedTargetIds||[];t=new Sf(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Mr(i,r.document),l=r.readTime?xt(r.readTime):pe.min(),c=lt.newNoDocument(a,l),d=r.removedTargetIds||[];t=new Sf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Mr(i,r.document),l=r.removedTargetIds||[];t=new Sf([],l,a,null)}else{if(!("filter"in e))return fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new XS(a,l),d=r.targetId;t=new mE(d,c)}}return t}function pc(i,e){let t;if(e instanceof El)t={update:vv(i,e.key,e.value)};else if(e instanceof Tl)t={delete:gc(i,e.key)};else if(e instanceof mi)t={update:vv(i,e.key,e.data),updateMask:h7(e.fieldMask)};else{if(!(e instanceof s1))return fe(16599,{dt:e.type});t={verify:gc(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof al)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ra)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ia)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ol)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw fe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:r7(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:fe(27497)})(i,e.precondition)),t}function pp(i,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?dt.updateTime(xt(l.updateTime)):l.exists!==void 0?dt.exists(l.exists):dt.none()})(e.currentDocument):dt.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let g=null;if("setToServerValue"in d)ge(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),g=new al;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];g=new Ra(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];g=new Ia(_)}else"increment"in d?g=new ol(c,d.increment):fe(16584,{proto:d});const p=ft.fromServerFormat(d.fieldPath);return new Nc(p,g)})(i,a))):[];if(e.update){e.update.name;const a=Mr(i,e.update.name),l=new Wt({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new Sn(p.map((_=>ft.fromServerFormat(_))))})(e.updateMask);return new mi(a,l,c,t,r)}return new El(a,l,t,r)}if(e.delete){const a=Mr(i,e.delete);return new Tl(a,t)}if(e.verify){const a=Mr(i,e.verify);return new s1(a,t)}return fe(1463,{proto:e})}function a7(i,e){return i&&i.length>0?(ge(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?xt(a.updateTime):xt(l);return c.isEqual(pe.min())&&(c=xt(l)),new QS(c,a.transformResults||[])})(t,e)))):[]}function bE(i,e){return{documents:[_E(i,e.path)]}}function wE(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_E(i,a);const l=(function(p){if(p.length!==0)return RE(Ye.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(w){return{field:Uo(w.field),direction:l7(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=dp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function AE(i){let e=vE(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){ge(r===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(T){const w=SE(T);return w instanceof Ye&&t1(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(G){return new mc(jo(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let w;return w=typeof T=="object"?T.value:T,Ic(w)?null:w})(t.limit));let g=null;t.startAt&&(g=(function(T){const w=!!T.before,D=T.values||[];return new ys(D,w)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const w=!T.before,D=T.values||[];return new ys(D,w)})(t.endAt)),X3(e,a,c,l,d,"F",g,p)}function o7(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SE(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=jo(t.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=jo(t.unaryFilter.field);return ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=jo(t.unaryFilter.field);return ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=jo(t.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}})(i):i.fieldFilter!==void 0?(function(t){return ke.create(jo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Ye.create(t.compositeFilter.filters.map((r=>SE(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fe(1026)}})(t.compositeFilter.op))})(i):fe(30097,{filter:i})}function l7(i){return WS[i]}function u7(i){return e7[i]}function c7(i){return t7[i]}function Uo(i){return{fieldPath:i.canonicalString()}}function jo(i){return ft.fromServerFormat(i.fieldPath)}function RE(i){return i instanceof ke?(function(t){if(t.op==="=="){if(rv(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NAN"}};if(nv(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rv(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NAN"}};if(nv(t.value))return{unaryFilter:{field:Uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(t.field),op:u7(t.op),value:t.value}}})(i):i instanceof Ye?(function(t){const r=t.getFilters().map((a=>RE(a)));return r.length===1?r[0]:{compositeFilter:{op:c7(t.op),filters:r}}})(i):fe(54877,{filter:i})}function h7(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function IE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function xE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,t,r,a,l=pe.min(),c=pe.min(),d=Et.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.yt=e}}function f7(i,e){let t;if(e.document)t=TE(i.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=oe.fromSegments(e.noDocument.path),a=Ca(e.noDocument.readTime);t=lt.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return fe(56709);{const r=oe.fromSegments(e.unknownDocument.path),a=Ca(e.unknownDocument.version);t=lt.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const l=new He(a[0],a[1]);return pe.fromTimestamp(l)})(e.readTime)),t}function Ev(i,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ff(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:gc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:ll(l,c.version.toTimestamp()),createTime:ll(l,c.createTime.toTimestamp())}})(i.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xa(e.version)};else{if(!e.isUnknownDocument())return fe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:xa(e.version)}}return r}function Ff(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function xa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ca(i){const e=new He(i.seconds,i.nanoseconds);return pe.fromTimestamp(e)}function ga(i,e){const t=(e.baseMutations||[]).map((l=>pp(i.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>pp(i.yt,l))),a=He.fromMillis(e.localWriteTimeMs);return new a1(e.batchId,a,t,r)}function Hu(i){const e=Ca(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?Ca(i.lastLimboFreeSnapshotVersion):pe.min();let r;return r=(function(l){return l.documents!==void 0})(i.query)?(function(l){const c=l.documents.length;return ge(c===1,1966,{count:c}),_n(vl(vE(l.documents[0])))})(i.query):(function(l){return _n(AE(l))})(i.query),new ii(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Et.fromBase64String(i.resumeToken))}function DE(i,e){const t=xa(e.snapshotVersion),r=xa(e.lastLimboFreeSnapshotVersion);let a;a=Uf(e.target)?bE(i.yt,e.target):wE(i.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sa(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function h1(i){const e=AE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qf(e,e.limit,"L"):e}function Ug(i,e){return new l1(e.largestBatchId,pp(i.yt,e.overlayMutation))}function Tv(i,e){const t=e.path.lastSegment();return[i,un(e.path.popLast()),t]}function bv(i,e,t,r){return{indexId:i,uid:e,sequenceNumber:t,readTime:xa(r.readTime),documentKey:un(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{getBundleMetadata(e,t){return wv(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Ca(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return wv(e).put((function(a){return{bundleId:a.id,createTime:xa(xt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Av(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:h1(l.bundledQuery),readTime:Ca(l.readTime)}})(r)}))}saveNamedQuery(e,t){return Av(e).put((function(a){return{name:a.name,readTime:xa(xt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function wv(i){return Bt(i,id)}function Av(i){return Bt(i,sd)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new fd(e,r)}getOverlay(e,t){return Pu(e).get(Tv(this.userId,t)).next((r=>r?Ug(this.serializer,r):null))}getOverlays(e,t){const r=Vr();return z.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((l,c)=>{const d=new l1(t,c);a.push(this.bt(e,d))})),z.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(un(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Pu(e).X(ip,d))})),z.waitFor(l)}getOverlaysForCollection(e,t,r){const a=Vr(),l=un(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Pu(e).H(ip,c).next((d=>{for(const g of d){const p=Ug(this.serializer,g);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const l=Vr();let c;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pu(e).ee({index:x3,range:d},((g,p,_)=>{const T=Ug(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):_.done()})).next((()=>l))}bt(e,t){return Pu(e).put((function(a,l,c){const[d,g,p]=Tv(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:pc(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Pu(i){return Bt(i,ad)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{St(e){return Bt(e,Zp)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?Et.fromUint8Array(r):Et.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),oc(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=ui(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ci(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?U3(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ud(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):fe(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=rl,l=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ht(l)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),oe.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}pa.Wt=new pa;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=255;function g7(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function Sv(i){const e=64-(function(r){let a=0;for(let l=0;l<8;++l){const c=g7(255&r[l]);if(a+=c,c!==8)break}return a})(i);return Math.ceil(e/8)}class p7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=Sv(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=Sv(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Oo),this.sn(255)}_n(){this.an(Oo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Oo?(this.sn(Oo),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Oo?(this.an(Oo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class y7{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class _7{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ku{constructor(){this.cn=new p7,this.ascending=new y7(this.cn),this.descending=new _7(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new ya(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Rf(this.Tn),directionalValue:Rf(this.In),orderedDocumentKey:Rf(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Wi(i,e){let t=i.hn-e.hn;return t!==0?t:(t=Rv(i.Tn,e.Tn),t!==0?t:(t=Rv(i.In,e.In),t!==0?t:oe.comparator(i.Pn,e.Pn)))}function Rv(i,e){for(let t=0;t<i.length&&t<e.length;++t){const r=i[t]-e[t];if(r!==0)return r}return i.length-e.length}function Rf(i){return F4()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(i):i}function Iv(i){return typeof i!="string"?i:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(i)}class xv{constructor(e){this.Vn=new $e(((t,r)=>ft.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(ge(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=tp(e);if(t!==void 0&&!this.pn(t))return!1;const r=fa(e);let a=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const g=r[l];if(!this.yn(d,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<r.length;++l){const d=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let e=new $e(ft.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new _f(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new _f(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new _f(r.field,r.dir==="asc"?0:1)));return new kf(kf.UNKNOWN_ID,this.collectionId,t,ac.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i){if(ge(i instanceof ke||i instanceof Ye,20012),i instanceof ke){if(i instanceof $3){const t=i.value.arrayValue?.values?.map((r=>ke.create(i.field,"==",r)))||[];return Ye.create(t,"or")}return i}const e=i.filters.map((t=>VE(t)));return Ye.create(e,i.op)}function v7(i){if(i.getFilters().length===0)return[];const e=vp(VE(i));return ge(NE(e),7391),yp(e)||_p(e)?[e]:e.getFilters()}function yp(i){return i instanceof ke}function _p(i){return i instanceof Ye&&t1(i)}function NE(i){return yp(i)||_p(i)||(function(t){if(t instanceof Ye&&up(t)){for(const r of t.getFilters())if(!yp(r)&&!_p(r))return!1;return!0}return!1})(i)}function vp(i){if(ge(i instanceof ke||i instanceof Ye,34018),i instanceof ke)return i;if(i.filters.length===1)return vp(i.filters[0]);const e=i.filters.map((r=>vp(r)));let t=Ye.create(e,i.op);return t=Hf(t),NE(t)?t:(ge(t instanceof Ye,64498),ge(sl(t),40251),ge(t.filters.length>1,57927),t.filters.reduce(((r,a)=>f1(r,a))))}function f1(i,e){let t;return ge(i instanceof ke||i instanceof Ye,38388),ge(e instanceof ke||e instanceof Ye,25473),t=i instanceof ke?e instanceof ke?(function(a,l){return Ye.create([a,l],"and")})(i,e):Cv(i,e):e instanceof ke?Cv(e,i):(function(a,l){if(ge(a.filters.length>0&&l.filters.length>0,48005),sl(a)&&sl(l))return K3(a,l.getFilters());const c=up(a)?a:l,d=up(a)?l:a,g=c.filters.map((p=>f1(p,d)));return Ye.create(g,"or")})(i,e),Hf(t)}function Cv(i,e){if(sl(e))return K3(e,i.getFilters());{const t=e.filters.map((r=>f1(i,r)));return Ye.create(t,"or")}}function Hf(i){if(ge(i instanceof ke||i instanceof Ye,11850),i instanceof ke)return i;const e=i.getFilters();if(e.length===1)return Hf(e[0]);if(H3(i))return i;const t=e.map((a=>Hf(a))),r=[];return t.forEach((a=>{a instanceof ke?r.push(a):a instanceof Ye&&(a.op===i.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:Ye.create(r,i.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(){this.Sn=new d1}addToCollectionParentIndex(e,t){return this.Sn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Ln.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class d1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new $e(Oe.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new $e(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="IndexedDbIndexManager",hf=new Uint8Array(0);class T7{constructor(e,t){this.databaseId=t,this.Dn=new d1,this.Cn=new di((r=>Sa(r)),((r,a)=>Cc(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:r,parent:un(a)};return Vv(e).put(l)}return z.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[d3(t),""],!1,!0);return Vv(e).H(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Dr(c.parent))}return r}))}addFieldIndex(e,t){const r=Lu(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(t);delete a.indexId;const l=r.add(a);if(t.indexState){const c=ko(e);return l.next((d=>{c.put(bv(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=Lu(e),a=ko(e),l=Po(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Lu(e),r=Po(e),a=ko(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return z.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const l=new xv(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=Po(e);let a=!0;const l=new Map;return z.forEach(this.vn(t),(c=>this.Fn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=xe();const d=[];return z.forEach(l,((g,p)=>{re(Dv,`Using index ${(function(se){return`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map((Ee=>`${Ee.fieldPath}:${Ee.kind}`)).join(",")}`})(g)} to execute ${Sa(t)}`);const _=(function(se,Ee){const ce=tp(Ee);if(ce===void 0)return null;for(const Te of jf(se,ce.fieldPath))switch(Te.op){case"array-contains-any":return Te.value.arrayValue.values||[];case"array-contains":return[Te.value]}return null})(p,g),T=(function(se,Ee){const ce=new Map;for(const Te of fa(Ee))for(const C of jf(se,Te.fieldPath))switch(C.op){case"==":case"in":ce.set(Te.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return ce.set(Te.fieldPath.canonicalString(),C.value),Array.from(ce.values())}return null})(p,g),w=(function(se,Ee){const ce=[];let Te=!0;for(const C of fa(Ee)){const S=C.kind===0?lv(se,C.fieldPath,se.startAt):uv(se,C.fieldPath,se.startAt);ce.push(S.value),Te&&(Te=S.inclusive)}return new ys(ce,Te)})(p,g),D=(function(se,Ee){const ce=[];let Te=!0;for(const C of fa(Ee)){const S=C.kind===0?uv(se,C.fieldPath,se.endAt):lv(se,C.fieldPath,se.endAt);ce.push(S.value),Te&&(Te=S.inclusive)}return new ys(ce,Te)})(p,g),G=this.Mn(g,p,w),Y=this.Mn(g,p,D),H=this.xn(g,p,T),ie=this.On(g.indexId,_,G,w.inclusive,Y,D.inclusive,H);return z.forEach(ie,(te=>r.Z(te,t.limit).next((se=>{se.forEach((Ee=>{const ce=oe.fromSegments(Ee.documentKey);c.has(ce)||(c=c.add(ce),d.push(ce))}))}))))})).next((()=>d))}return z.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=v7(Ye.create(e.filters,"and")).map((r=>hp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,l,c,d){const g=(t!=null?t.length:1)*Math.max(r.length,l.length),p=g/(t!=null?t.length:1),_=[];for(let T=0;T<g;++T){const w=t?this.Nn(t[T/p]):hf,D=this.Bn(e,w,r[T%p],a),G=this.Ln(e,w,l[T%p],c),Y=d.map((H=>this.Bn(e,w,H,!0)));_.push(...this.createRange(D,G,Y))}return _}Bn(e,t,r,a){const l=new ya(e,oe.empty(),t,r);return a?l:l.En()}Ln(e,t,r,a){const l=new ya(e,oe.empty(),t,r);return a?l.En():l}Fn(e,t){const r=new xv(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)r.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let r=2;const a=this.vn(t);return z.forEach(a,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new $e(ft.comparator),_=!1;for(const T of g.filters)for(const w of T.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:p=p.add(w.field));for(const T of g.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(_?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new ku;for(const a of fa(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=r.ln(a.kind);pa.Wt.Dt(l,c)}return r.un()}Nn(e){const t=new ku;return pa.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new ku;return pa.Wt.Dt(Aa(this.databaseId,t),r.ln((function(l){const c=fa(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new ku);let l=0;for(const c of fa(e)){const d=r[l++];for(const g of a)if(this.qn(t,c.fieldPath)&&dc(d))a=this.Un(a,c,d);else{const p=g.ln(c.kind);pa.Wt.Dt(d,p)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],l=[];for(const c of r.arrayValue.values||[])for(const d of a){const g=new ku;g.seed(d.un()),pa.Wt.Dt(c,g.ln(t.kind)),l.push(g)}return l}qn(e,t){return!!e.filters.find((r=>r instanceof ke&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=Lu(e),a=ko(e);return(t?r.H(rp,IDBKeyRange.bound(t,t)):r.H()).next((l=>{const c=[];return z.forEach(l,(d=>a.get([d.indexId,this.uid]).next((g=>{c.push((function(_,T){const w=T?new ac(T.sequenceNumber,new Ln(Ca(T.readTime),new oe(Dr(T.documentKey)),T.largestBatchId)):ac.empty(),D=_.fields.map((([G,Y])=>new _f(ft.fromServerFormat(G),Y)));return new kf(_.indexId,_.collectionGroup,D,w)})(d,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Re(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=Lu(e),l=ko(e);return this.Wn(e).next((c=>a.H(rp,IDBKeyRange.bound(t,t)).next((d=>z.forEach(d,(g=>l.put(bv(g.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return z.forEach(t,((a,l)=>{const c=r.get(a.collectionGroup);return(c?z.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(r.set(a.collectionGroup,d),z.forEach(d,(g=>this.Qn(e,a,g).next((p=>{const _=this.Gn(l,g);return p.isEqual(_)?z.resolve():this.zn(e,l,g,p,_)})))))))}))}jn(e,t,r,a){return Po(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return Po(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=Po(e);let l=new $e(Wi);return a.ee({index:I3,range:IDBKeyRange.only([r.indexId,this.uid,Rf(this.Kn(r,t))])},((c,d)=>{l=l.add(new ya(r.indexId,t,Iv(d.arrayValue),Iv(d.directionalValue)))})).next((()=>l))}Gn(e,t){let r=new $e(Wi);const a=this.kn(t,e);if(a==null)return r;const l=tp(t);if(l!=null){const c=e.data.field(l.fieldPath);if(dc(c))for(const d of c.arrayValue.values||[])r=r.add(new ya(t.indexId,e.key,this.Nn(d),a))}else r=r.add(new ya(t.indexId,e.key,hf,a));return r}zn(e,t,r,a,l){re(Dv,"Updating index entries for document '%s'",t.key);const c=[];return(function(g,p,_,T,w){const D=g.getIterator(),G=p.getIterator();let Y=Mo(D),H=Mo(G);for(;Y||H;){let ie=!1,te=!1;if(Y&&H){const se=_(Y,H);se<0?te=!0:se>0&&(ie=!0)}else Y!=null?te=!0:ie=!0;ie?(T(H),H=Mo(G)):te?(w(Y),Y=Mo(D)):(Y=Mo(D),H=Mo(G))}})(a,l,Wi,(d=>{c.push(this.jn(e,t,r,d))}),(d=>{c.push(this.Hn(e,t,r,d))})),z.waitFor(c)}Wn(e){let t=1;return ko(e).ee({index:R3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,d)=>Wi(c,d))).filter(((c,d,g)=>!d||Wi(c,g[d-1])!==0));const a=[];a.push(e);for(const c of r){const d=Wi(c,e),g=Wi(c,t);if(d===0)a[0]=e.En();else if(d>0&&g<0)a.push(c),a.push(c.En());else if(g>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const d=a[c].An(this.uid,hf,oe.empty()),g=a[c+1].An(this.uid,hf,oe.empty());l.push(IDBKeyRange.bound(d,g))}return l}Jn(e,t){return Wi(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nv)}getMinOffset(e,t){return z.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||fe(44426))))).next(Nv)}}function Vv(i){return Bt(i,cc)}function Po(i){return Bt(i,Xu)}function Lu(i){return Bt(i,Xp)}function ko(i){return Bt(i,$u)}function Nv(i){ge(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<i.length;r++){const a=i[r].indexState.offset;Qp(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Ln(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i,e,t){const r=i.store(ur),a=i.store(Wo),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const g=r.ee({range:c},((_,T,w)=>(d++,w.delete())));l.push(g.next((()=>{ge(d===1,47070,{batchId:t.batchId})})));const p=[];for(const _ of t.mutations){const T=w3(e,_.key.path,t.batchId);l.push(a.delete(T)),p.push(_.key)}return z.waitFor(l).next((()=>p))}function Gf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw fe(14731);e=i.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(ME,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class dd{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){ge(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new dd(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return es(e).ee({index:va,range:r},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const l=qo(e),c=es(e);return c.add({}).next((d=>{ge(typeof d=="number",49019);const g=new a1(d,t,r,a),p=(function(D,G,Y){const H=Y.baseMutations.map((te=>pc(D.yt,te))),ie=Y.mutations.map((te=>pc(D.yt,te)));return{userId:G,batchId:Y.batchId,localWriteTimeMs:Y.localWriteTime.toMillis(),baseMutations:H,mutations:ie}})(this.serializer,this.userId,g),_=[];let T=new $e(((w,D)=>Re(w.canonicalString(),D.canonicalString())));for(const w of a){const D=w3(this.userId,w.key.path,d);T=T.add(w.key.path.popLast()),_.push(c.put(p)),_.push(l.put(D,X9))}return T.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Zn[d]=g.keys()})),z.waitFor(_).next((()=>g))}))}lookupMutationBatch(e,t){return es(e).get(t).next((r=>r?(ge(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ga(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?z.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return es(e).ee({index:va,range:a},((c,d,g)=>{d.userId===this.userId&&(ge(d.batchId>=r,47524,{Yn:r}),l=ga(this.serializer,d)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=us;return es(e).ee({index:va,range:t,reverse:!0},((a,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,us],[this.userId,Number.POSITIVE_INFINITY]);return es(e).H(va,t).next((r=>r.map((a=>ga(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vf(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return qo(e).ee({range:a},((c,d,g)=>{const[p,_,T]=c,w=Dr(_);if(p===this.userId&&t.path.isEqual(w))return es(e).get(T).next((D=>{if(!D)throw fe(61480,{er:c,batchId:T});ge(D.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:D.userId,batchId:T}),l.push(ga(this.serializer,D))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(Re);const a=[];return t.forEach((l=>{const c=vf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),g=qo(e).ee({range:d},((p,_,T)=>{const[w,D,G]=p,Y=Dr(D);w===this.userId&&l.path.isEqual(Y)?r=r.add(G):T.done()}));a.push(g)})),z.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=vf(this.userId,r),c=IDBKeyRange.lowerBound(l);let d=new $e(Re);return qo(e).ee({range:c},((g,p,_)=>{const[T,w,D]=g,G=Dr(w);T===this.userId&&r.isPrefixOf(G)?G.length===a&&(d=d.add(D)):_.done()})).next((()=>this.tr(e,d)))}tr(e,t){const r=[],a=[];return t.forEach((l=>{a.push(es(e).get(l).next((c=>{if(c===null)throw fe(35274,{batchId:l});ge(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(ga(this.serializer,c))})))})),z.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return OE(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),z.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return z.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return qo(e).ee({range:r},((l,c,d)=>{if(l[0]===this.userId){const g=Dr(l[1]);a.push(g)}else d.done()})).next((()=>{ge(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return PE(e,this.userId,t)}ir(e){return kE(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:us,lastStreamToken:""}))}}function PE(i,e,t){const r=vf(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return qo(i).ee({range:l,Y:!0},((d,g,p)=>{const[_,T,w]=d;_===e&&T===a&&(c=!0),p.done()})).next((()=>c))}function es(i){return Bt(i,ur)}function qo(i){return Bt(i,Wo)}function kE(i){return Bt(i,lc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Da(0)}static ar(){return new Da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new Da(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>pe.fromTimestamp(new He(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Lo(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(ge(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const l=[];return Lo(e).ee(((c,d)=>{const g=Hu(d);g.sequenceNumber<=t&&r.get(g.targetId)===null&&(a++,l.push(this.removeTargetData(e,g)))})).next((()=>z.waitFor(l))).next((()=>a))}forEachTarget(e,t){return Lo(e).ee(((r,a)=>{const l=Hu(a);t(l)}))}ur(e){return Ov(e).get(Bf).next((t=>(ge(t!==null,2888),t)))}cr(e,t){return Ov(e).put(Bf,t)}lr(e,t){return Lo(e).put(DE(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Sa(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Lo(e).ee({range:a,index:S3},((c,d,g)=>{const p=Hu(d);Cc(t,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(e,t,r){const a=[],l=rs(e);return t.forEach((c=>{const d=un(c.path);a.push(l.put({targetId:r,path:d})),a.push(this.referenceDelegate.addReference(e,r,c))})),z.waitFor(a)}removeMatchingKeys(e,t,r){const a=rs(e);return z.forEach(t,(l=>{const c=un(l.path);return z.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=rs(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=rs(e);let l=xe();return a.ee({range:r,Y:!0},((c,d,g)=>{const p=Dr(c[1]),_=new oe(p);l=l.add(_)})).next((()=>l))}containsKey(e,t){const r=un(t.path),a=IDBKeyRange.bound([r],[d3(r)],!1,!0);let l=0;return rs(e).ee({index:$p,Y:!0,range:a},(([c,d],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(e,t){return Lo(e).get(t).next((r=>r?Hu(r):null))}}function Lo(i){return Bt(i,el)}function Ov(i){return Bt(i,ba)}function rs(i){return Bt(i,tl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="LruGarbageCollector",w7=1048576;function kv([i,e],[t,r]){const a=Re(i,t);return a===0?Re(e,r):a}class A7{constructor(e){this.Pr=e,this.buffer=new $e(kv),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(Pv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bs(t)?re(Pv,"Ignoring IndexedDB error during garbage collection: ",t):await Ts(t)}await this.Ar(3e5)}))}}class S7{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return z.resolve(An.ce);const r=new A7(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Mv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,c,d,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,d=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),zo()<=Le.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function zE(i,e){return new S7(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.db=e,this.garbageCollector=zE(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return ff(e,r)}removeReference(e,t,r){return ff(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ff(e,t)}wr(e,t){return(function(a,l){let c=!1;return kE(a).te((d=>PE(a,d,l).next((g=>(g&&(c=!0),z.resolve(!g)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(e,((c,d)=>{if(d<=t){const g=this.wr(e,c).next((p=>{if(!p)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,pe.min()),rs(e).delete((function(T){return[0,un(T.path)]})(c)))))}));a.push(g)}})).next((()=>z.waitFor(a))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ff(e,t)}yr(e,t){const r=rs(e);let a,l=An.ce;return r.ee({index:$p},(([c,d],{path:g,sequenceNumber:p})=>{c===0?(l!==An.ce&&t(new oe(Dr(a)),l),l=p,a=g):l=An.ce})).next((()=>{l!==An.ce&&t(new oe(Dr(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ff(i,e){return rs(i).put((function(r,a){return{targetId:0,path:un(r.path),sequenceNumber:a}})(e,i.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.changes=new di((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ua(e).put(r)}removeEntry(e,t,r){return ua(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ff(c),d[d.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=lt.newInvalidDocument(t);return ua(e).ee({index:Ef,range:IDBKeyRange.only(zu(t))},((a,l)=>{r=this.Sr(t,l)})).next((()=>r))}Dr(e,t){let r={size:0,document:lt.newInvalidDocument(t)};return ua(e).ee({index:Ef,range:IDBKeyRange.only(zu(t))},((a,l)=>{r={document:this.Sr(t,l),size:Gf(l)}})).next((()=>r))}getEntries(e,t){let r=Rn();return this.Cr(e,t,((a,l)=>{const c=this.Sr(a,l);r=r.insert(a,c)})).next((()=>r))}vr(e,t){let r=Rn(),a=new at(oe.comparator);return this.Cr(e,t,((l,c)=>{const d=this.Sr(l,c);r=r.insert(l,d),a=a.insert(l,Gf(c))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return z.resolve();let a=new $e(Bv);t.forEach((g=>a=a.add(g)));const l=IDBKeyRange.bound(zu(a.first()),zu(a.last())),c=a.getIterator();let d=c.getNext();return ua(e).ee({index:Ef,range:l},((g,p,_)=>{const T=oe.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&Bv(d,T)<0;)r(d,null),d=c.getNext();d&&d.isEqual(T)&&(r(d,p),d=c.hasNext()?c.getNext():null),d?_.j(zu(d)):_.done()})).next((()=>{for(;d;)r(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Ff(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ua(e).H(IDBKeyRange.bound(d,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let _=Rn();for(const T of p){const w=this.Sr(oe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);w.isFoundDocument()&&(Vc(t,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(e,t,r,a){let l=Rn();const c=zv(t,r),d=zv(t,Ln.max());return ua(e).ee({index:A3,range:IDBKeyRange.bound(c,d,!0)},((g,p,_)=>{const T=this.Sr(oe.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new x7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Lv(e).get(np).next((t=>(ge(!!t,20021),t)))}br(e,t){return Lv(e).put(np,t)}Sr(e,t){if(t){const r=f7(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(pe.min())))return r}return lt.newInvalidDocument(e)}}function UE(i){return new I7(i)}class x7 extends BE{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new di((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new $e(((l,c)=>Re(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const g=Ev(this.Mr.serializer,c);a=a.add(l.path.popLast());const p=Gf(g);r+=p-d.size,t.push(this.Mr.addEntry(e,l,g))}else if(r-=d.size,this.trackRemovals){const g=Ev(this.Mr.serializer,c.convertToNoDocument(pe.min()));t.push(this.Mr.addEntry(e,l,g))}})),a.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,r)),z.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function Lv(i){return Bt(i,uc)}function ua(i){return Bt(i,zf)}function zu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zv(i,e){const t=e.documentKey.path.toArray();return[i,Ff(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bv(i,e){const t=i.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=Re(t[l],r[l]),a)return a;return a=Re(t.length,r.length),a||(a=Re(t[t.length-2],r[r.length-2]),a||Re(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Wu(r.mutation,a,Sn.empty(),He.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,xe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=xe()){const a=Vr();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=qu();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Vr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,xe())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,a){let l=Rn();const c=Ju(),d=(function(){return Ju()})();return t.forEach(((g,p)=>{const _=r.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof mi)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Wu(_.mutation,p,_.mutation.getFieldMask(),He.now())):c.set(p.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,_)=>c.set(p,_))),t.forEach(((p,_)=>d.set(p,new C7(_,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Ju();let a=new at(((c,d)=>c-d)),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let _=r.get(g)||Sn.empty();_=d.applyToLocalView(p,_),r.set(g,_);const T=(a.get(d.batchId)||xe()).add(g);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,_=g.value,T=nE();_.forEach((w=>{if(!l.has(w)){const D=uE(t.get(w),r.get(w));D!==null&&T.set(w,D),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return z.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return OS(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):n1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):z.resolve(Vr());let d=Jo,g=l;return c.next((p=>z.forEach(p,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?z.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{g=g.insert(_,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,xe()))).next((_=>({batchId:d,changes:tE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next((r=>{let a=qu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=qu();return this.indexManager.getCollectionParents(e,l).next((d=>z.forEach(d,(g=>{const p=(function(T,w){return new fi(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((_=>{_.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((g,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,lt.newInvalidDocument(_)))}));let d=qu();return c.forEach(((g,p)=>{const _=l.get(g);_!==void 0&&Wu(_.mutation,p,Sn.empty(),He.now()),Vc(t,p)&&(d=d.insert(g,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return z.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:xt(a.createTime)}})(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:h1(a.bundledQuery),readTime:xt(a.readTime)}})(t)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.overlays=new at(oe.comparator),this.Lr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vr();return z.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),z.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const a=Vr(),l=t.length+1,c=new oe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&a.set(g.getKey(),g)}return z.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new at(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=l.get(p.largestBatchId);_===null&&(_=Vr(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Vr(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=a)););return z.resolve(d)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new l1(t,r));let l=this.Lr.get(t);l===void 0&&(l=xe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.kr=new $e(Gt.Kr),this.qr=new $e(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Gt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new oe(new Oe([])),r=new Gt(t,e),a=new Gt(t,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new oe(new Oe([])),r=new Gt(t,e),a=new Gt(t,e+1);let l=xe();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Gt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return oe.comparator(e.key,t.key)||Re(e.Hr,t.Hr)}static Ur(e,t){return Re(e.Hr,t.Hr)||oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(Gt.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new a1(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return z.resolve(c)}lookupMutationBatch(e,t){return z.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?us:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),a=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $e(Re);return t.forEach((a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{r=r.add(d.Hr)}))})),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;oe.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new oe(l),0);let d=new $e(Re);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(g.Hr)),!0)}),c),z.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ge(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(t.mutations,(a=>{const l=new Gt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Gt(t,0),a=this.Jr.firstAfterOrEqual(r);return z.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.ti=e,this.docs=(function(){return new at(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(t))}getEntries(e,t){let r=Rn();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():lt.newInvalidDocument(a))})),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Rn();const c=t.path,d=new oe(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Qp(_3(_),r)<=0||(a.has(_.key)||Vc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(e,t,r,a){fe(9500)}ni(e,t){return z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new P7(this)}getSize(e){return z.resolve(this.size)}}class P7 extends BE{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),z.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.persistence=e,this.ri=new di((t=>Sa(t)),Cc),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.ii=0,this.si=new m1,this.targetCount=0,this.oi=Da._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),z.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Da(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.lr(t),z.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),z.waitFor(l).next((()=>a))}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t){this._i={},this.overlays={},this.ai=new An(0),this.ui=!1,this.ui=!0,this.ci=new N7,this.referenceDelegate=e(this),this.li=new k7(this),this.indexManager=new E7,this.remoteDocumentCache=(function(a){return new O7(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new CE(t),this.Pi=new D7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new M7(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){re("MemoryPersistence","Starting transaction:",e);const a=new L7(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return z.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class L7 extends E3{constructor(e){super(),this.currentSequenceNumber=e}}class md{constructor(e){this.persistence=e,this.Ri=new m1,this.Ai=null}static Vi(e){return new md(e)}get di(){if(this.Ai)return this.Ai;throw fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),z.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,(r=>{const a=oe.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,pe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return z.or([()=>z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.fi=new di((r=>un(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=zE(this,t)}static Vi(e,t){return new Kf(e,t)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return z.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?z.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(r++,l.removeEntry(c,pe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),z.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}wr(e,t,r){return z.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return z.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.serializer=e}k(e,t,r,a){const l=new rd("createOrUpgrade",t);r<1&&a>=1&&((function(g){g.createObjectStore(xc)})(e),(function(g){g.createObjectStore(lc,{keyPath:$9}),g.createObjectStore(ur,{keyPath:X_,autoIncrement:!0}).createIndex(va,Z_,{unique:!0}),g.createObjectStore(Wo)})(e),Uv(e),(function(g){g.createObjectStore(da)})(e));let c=z.resolve();return r<3&&a>=3&&(r!==0&&((function(g){g.deleteObjectStore(tl),g.deleteObjectStore(el),g.deleteObjectStore(ba)})(e),Uv(e)),c=c.next((()=>(function(g){const p=g.store(ba),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return p.put(Bf,_)})(l)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(ur).H().next((T=>{g.deleteObjectStore(ur),g.createObjectStore(ur,{keyPath:X_,autoIncrement:!0}).createIndex(va,Z_,{unique:!0});const w=p.store(ur),D=T.map((G=>w.put(G)));return z.waitFor(D)}))})(e,l)))),c=c.next((()=>{(function(g){g.createObjectStore(nl,{keyPath:iS})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.gi(l)))),r<6&&a>=6&&(c=c.next((()=>((function(g){g.createObjectStore(uc)})(e),this.pi(l))))),r<7&&a>=7&&(c=c.next((()=>this.yi(l)))),r<8&&a>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&a>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.bi(l)))),r<11&&a>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(id,{keyPath:sS})})(e),(function(g){g.createObjectStore(sd,{keyPath:aS})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(ad,{keyPath:dS});p.createIndex(ip,mS,{unique:!1}),p.createIndex(x3,gS,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(zf,{keyPath:Z9});p.createIndex(Ef,J9),p.createIndex(A3,W9)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(da)))),r<14&&a>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&a>=15&&(c=c.next((()=>(function(g){g.createObjectStore(Xp,{keyPath:oS,autoIncrement:!0}).createIndex(rp,lS,{unique:!1}),g.createObjectStore($u,{keyPath:uS}).createIndex(R3,cS,{unique:!1}),g.createObjectStore(Xu,{keyPath:hS}).createIndex(I3,fS,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore($u).clear()})).next((()=>{t.objectStore(Xu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(Zp,{keyPath:pS})})(e)}))),r<18&&a>=18&&F4()&&(c=c.next((()=>{t.objectStore($u).clear()})).next((()=>{t.objectStore(Xu).clear()}))),c}pi(e){let t=0;return e.store(da).ee(((r,a)=>{t+=Gf(a)})).next((()=>{const r={byteSize:t};return e.store(uc).put(np,r)}))}gi(e){const t=e.store(lc),r=e.store(ur);return t.H().next((a=>z.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,us],[l.userId,l.lastAcknowledgedBatchId]);return r.H(va,c).next((d=>z.forEach(d,(g=>{ge(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=ga(this.serializer,g);return OE(e,l.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(tl),r=e.store(da);return e.store(ba).get(Bf).next((a=>{const l=[];return r.ee(((c,d)=>{const g=new Oe(c),p=(function(T){return[0,un(T)]})(g);l.push(t.get(p).next((_=>_?z.resolve():(T=>t.put({targetId:0,path:un(T),sequenceNumber:a.highestListenSequenceNumber}))(g))))})).next((()=>z.waitFor(l)))}))}wi(e,t){e.createObjectStore(cc,{keyPath:rS});const r=t.store(cc),a=new d1,l=c=>{if(a.add(c)){const d=c.lastSegment(),g=c.popLast();return r.put({collectionId:d,parent:un(g)})}};return t.store(da).ee({Y:!0},((c,d)=>{const g=new Oe(c);return l(g.popLast())})).next((()=>t.store(Wo).ee({Y:!0},(([c,d,g],p)=>{const _=Dr(d);return l(_.popLast())}))))}bi(e){const t=e.store(el);return t.ee(((r,a)=>{const l=Hu(a),c=DE(this.serializer,l);return t.put(c)}))}Si(e,t){const r=t.store(da),a=[];return r.ee(((l,c)=>{const d=t.store(zf),g=(function(T){return T.document?new oe(Oe.fromString(T.document.name).popFirst(5)):T.noDocument?oe.fromSegments(T.noDocument.path):T.unknownDocument?oe.fromSegments(T.unknownDocument.path):fe(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))})).next((()=>z.waitFor(a)))}Di(e,t){const r=t.store(ur),a=UE(this.serializer),l=new g1(md.Vi,this.serializer.yt);return r.H().next((c=>{const d=new Map;return c.forEach((g=>{let p=d.get(g.userId)??xe();ga(this.serializer,g).keys().forEach((_=>p=p.add(_))),d.set(g.userId,p)})),z.forEach(d,((g,p)=>{const _=new Kt(p),T=fd.wt(this.serializer,_),w=l.getIndexManager(_),D=dd.wt(_,this.serializer,w,l.referenceDelegate);return new jE(a,D,T,w).recalculateAndSaveOverlaysForDocumentKeys(new sp(t,An.ce),g).next()}))}))}}function Uv(i){i.createObjectStore(tl,{keyPath:tS}).createIndex($p,nS,{unique:!0}),i.createObjectStore(el,{keyPath:"targetId"}).createIndex(S3,eS,{unique:!0}),i.createObjectStore(ba)}const ts="IndexedDbPersistence",jg=18e5,qg=5e3,Fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qE="main";class p1{constructor(e,t,r,a,l,c,d,g,p,_,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=l,this.window=c,this.document=d,this.Fi=p,this.Mi=_,this.xi=T,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=w=>Promise.resolve(),!p1.v())throw new ee(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R7(this,a),this.Ki=t+qE,this.serializer=new CE(g),this.qi=new Nr(this.Ki,this.xi,new z7(this.serializer)),this.ci=new m7,this.li=new b7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UE(this.serializer),this.Pi=new d7,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,_===!1&&It(ts,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,Fg);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new An(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(bs(e))return re(ts,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return re(ts,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Bu(e).get(No).next((t=>z.resolve(this.Xi(t))))}Yi(e){return df(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,jg)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Bt(t,nl);return r.H().next((a=>{const l=this.ns(a,jg),c=a.filter((d=>l.indexOf(d)===-1));return z.forEach(c,(d=>r.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?z.resolve(!0):Bu(e).get(No).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,qg)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,Fg);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(e).H().next((r=>this.ns(r,qg).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&re(ts,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[xc,nl],(e=>{const t=new sp(e,An.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>df(e).H().next((t=>this.ns(t,jg).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return dd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new T7(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fd.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){re(ts,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?vS:g===17?N3:g===16?_S:g===15?Jp:g===14?V3:g===13?D3:g===12?yS:g===11?C3:void fe(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,l,(d=>(c=new sp(d,this.ai?this.ai.next():An.ce),t==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw It(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ee(K.FAILED_PRECONDITION,v3);return r(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>r(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(e){return Bu(e).get(No).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,qg)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ee(K.FAILED_PRECONDITION,Fg)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bu(e).put(No,t)}static v(){return Nr.v()}Ji(e){const t=Bu(e);return t.get(No).next((r=>this.Xi(r)?(re(ts,"Releasing primary lease."),t.delete(No)):z.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(It(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;q4()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return re(ts,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return It(ts,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){It("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bu(i){return Bt(i,xc)}function df(i){return Bt(i,nl)}function y1(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=xe(),a=xe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new _1(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return q4()?8:T3(Of())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new B7;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(zo()<=Le.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(zo()<=Le.DEBUG&&re("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(zo()<=Le.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):z.resolve())}gs(e,t){if(cv(t))return z.resolve(null);let r=_n(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=qf(t,null,"F"),r=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=xe(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.bs(t,d);return this.Ss(t,p,c,g.readTime)?this.gs(e,qf(t,null,"F")):this.Ds(e,p,t,g)}))))})))))}ps(e,t,r,a){return cv(t)||a.isEqual(pe.min())?z.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,r,a)?z.resolve(null):(zo()<=Le.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bo(t)),this.Ds(e,c,t,y3(a,Jo)).next((d=>d)))}))}bs(e,t){let r=new $e(W3(e));return t.forEach(((a,l)=>{Vc(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return zo()<=Le.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.fs.getDocumentsMatchingQuery(e,t,Ln.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="LocalStore",U7=3e8;class j7{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new at(Re),this.Fs=new di((l=>Sa(l)),Cc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jE(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function HE(i,e,t,r){return new j7(i,e,t,r)}async function GE(i,e){const t=le(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let g=xe();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function q7(i,e){const t=le(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,_){const T=p.batch,w=T.keys();let D=z.resolve();return w.forEach((G=>{D=D.next((()=>_.getEntry(g,G))).next((Y=>{const H=p.docVersions.get(G);ge(H!==null,48541),Y.version.compareTo(H)<0&&(T.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),_.addEntry(Y)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(g,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let g=xe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function KE(i){const e=le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function F7(i,e){const t=le(i),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((_,T)=>{const w=a.get(T);if(!w)return;d.push(t.li.removeMatchingKeys(l,_.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,T))));let D=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Et.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,r)),a=a.insert(T,D),(function(Y,H,ie){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=U7?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,D,_)&&d.push(t.li.updateTargetData(l,D))}));let g=Rn(),p=xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(QE(l,c,e.documentUpdates).next((_=>{g=_.Bs,p=_.Ls}))),!r.isEqual(pe.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(_)}return z.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(t.vs=a,l)))}function QE(i,e,t){let r=xe(),a=xe();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=Rn();return t.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(pe.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):re(v1,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:a}}))}function H7(i,e){const t=le(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=us),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function ul(i,e){const t=le(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,z.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new ii(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function cl(i,e,t){const r=le(i),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!bs(c))throw c;re(v1,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function Qf(i,e,t){const r=le(i);let a=pe.min(),l=xe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,_){const T=le(g),w=T.Fs.get(_);return w!==void 0?z.resolve(T.vs.get(w)):T.li.getTargetData(p,_)})(r,c,_n(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:pe.min(),t?l:xe()))).next((d=>(XE(r,J3(e),d),{documents:d,ks:l})))))}function YE(i,e){const t=le(i),r=le(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>r.At(l,e).next((c=>c?c.target:null))))}function $E(i,e){const t=le(i),r=t.Ms.get(e)||pe.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,y3(r,Jo),Number.MAX_SAFE_INTEGER))).then((a=>(XE(t,e,a),a)))}function XE(i,e,t){let r=i.Ms.get(e)||pe.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Ms.set(e,r)}async function G7(i,e,t,r){const a=le(i);let l=xe(),c=Rn();for(const p of t){const _=e.Ks(p.metadata.name);p.document&&(l=l.add(_));const T=e.qs(p);T.setReadTime(e.Us(p.metadata.readTime)),c=c.insert(_,T)}const d=a.xs.newChangeBuffer({trackRemovals:!0}),g=await ul(a,(function(_){return _n(vl(Oe.fromString(`__bundle__/docs/${_}`)))})(r));return a.persistence.runTransaction("Apply bundle documents","readwrite",(p=>QE(p,d,c).next((_=>(d.apply(p),_))).next((_=>a.li.removeMatchingKeysForTargetId(p,g.targetId).next((()=>a.li.addMatchingKeys(p,l,g.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(p,_.Bs,_.Ls))).next((()=>_.Bs))))))}async function K7(i,e,t=xe()){const r=await ul(i,_n(h1(e.bundledQuery))),a=le(i);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=xt(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return a.Pi.saveNamedQuery(l,e);const d=r.withResumeToken(Et.EMPTY_BYTE_STRING,c);return a.vs=a.vs.insert(d.targetId,d),a.li.updateTargetData(l,d).next((()=>a.li.removeMatchingKeysForTargetId(l,r.targetId))).next((()=>a.li.addMatchingKeys(l,t,r.targetId))).next((()=>a.Pi.saveNamedQuery(l,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="firestore_clients";function jv(i,e){return`${ZE}_${i}_${e}`}const JE="firestore_mutations";function qv(i,e,t){let r=`${JE}_${i}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const WE="firestore_targets";function Hg(i,e){return`${WE}_${i}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="SharedClientState";class Yf{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new ee(a.error.code,a.error.message))),c?new Yf(e,t,a.state,l):(It(Cr,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ec{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return l&&r.error&&(l=typeof r.error.message=="string"&&typeof r.error.code=="string",l&&(a=new ee(r.error.code,r.error.message))),l?new ec(e,r.state,a):(It(Cr,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $f{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a=typeof r=="object"&&r.activeTargetIds instanceof Array,l=r1();for(let c=0;a&&c<r.activeTargetIds.length;++c)a=b3(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return a?new $f(e,l):(It(Cr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class E1{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new E1(t.clientId,t.onlineState):(It(Cr,`Failed to parse online state: ${e}`),null)}}class Ep{constructor(){this.activeTargetIds=r1()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gg{constructor(e,t,r,a,l){this.window=e,this.Ci=t,this.persistenceKey=r,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new at(Re),this.started=!1,this.Zs=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=jv(this.persistenceKey,this.zs),this.Ys=(function(g){return`firestore_sequence_number_${g}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Ep),this.eo=new RegExp(`^${ZE}_${c}_([^_]*)$`),this.no=new RegExp(`^${JE}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${WE}_${c}_(\\d+)$`),this.io=(function(g){return`firestore_online_state_${g}`})(this.persistenceKey),this.so=(function(g){return`firestore_bundle_loaded_v2_${g}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const a=this.getItem(jv(this.persistenceKey,r));if(a){const l=$f.$s(r,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const r=this._o(t);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,r){this.co(e,t,r),this.lo(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(Hg(this.persistenceKey,e));if(a){const l=ec.$s(e,a);l&&(r=l.state)}}return t&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Po(e,t,r)}handleUserChange(e,t,r){t.forEach((a=>{this.lo(a)})),this.currentUser=e,r.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return re(Cr,"READ",e,t),t}setItem(e,t){re(Cr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){re(Cr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(re(Cr,"EVENT",t.key,t.newValue),t.key===this.Xs)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const r=this.Eo(t.key);return this.Ro(r,null)}{const r=this.Ao(t.key,t.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(t.key)){if(t.newValue!==null){const r=this.Vo(t.key,t.newValue);if(r)return this.mo(r)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(t.key===this.io){if(t.newValue!==null){const r=this._o(t.newValue);if(r)return this.ao(r)}}else if(t.key===this.Ys){const r=(function(l){let c=An.ce;if(l!=null)try{const d=JSON.parse(l);ge(typeof d=="number",30636,{yo:l}),c=d}catch(d){It(Cr,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);r!==An.ce&&this.sequenceNumberHandler(r)}else if(t.key===this.so){const r=this.wo(t.newValue);await Promise.all(r.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,r){const a=new Yf(this.currentUser,e,t,r),l=qv(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ws())}lo(e){const t=qv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,r){const a=Hg(this.persistenceKey,e),l=new ec(e,t,r);this.setItem(a,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const r=this.Eo(e);return $f.$s(r,t)}Vo(e,t){const r=this.no.exec(e),a=Number(r[1]),l=r[2]!==void 0?r[2]:null;return Yf.$s(new Kt(l),a,t)}fo(e,t){const r=this.ro.exec(e),a=Number(r[1]);return ec.$s(a,t)}_o(e){return E1.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);re(Cr,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const r=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),l=this.uo(r),c=[],d=[];return l.forEach((g=>{a.has(g)||c.push(g)})),a.forEach((g=>{l.has(g)||d.push(g)})),this.syncEngine.Co(c,d).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=r1();return e.forEach(((r,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class e6{constructor(){this.vo=new Ep,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Ep,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Hv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function Tp(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="RestConnection",Y7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const c=Tp(),d=this.Qo(e,t.toUriEncodedString());re(Kg,`Sending RPC '${e}' ${c}:`,d,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:p}=new URL(d),_=kp(p);return this.zo(e,d,g,r,_).then((T=>(re(Kg,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw dr(Kg,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",r),T}))}jo(e,t,r,a,l,c){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=Y7[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection",Uu=(i,e,t)=>{i.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ho extends $7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ho.c_){const e=u3();Uu(e,l3.STAT_EVENT,(t=>{t.stat===Wg.PROXY?re(an,"STAT_EVENT: detected buffering proxy"):t.stat===Wg.NOPROXY&&re(an,"STAT_EVENT: detected no buffering proxy")})),Ho.c_=!0}}zo(e,t,r,a,l){const c=Tp();return new Promise(((d,g)=>{const p=new a3;p.setWithCredentials(!0),p.listenOnce(o3.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yf.NO_ERROR:const T=p.getResponseJson();re(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case yf.TIMEOUT:re(an,`RPC '${e}' ${c} timed out`),g(new ee(K.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const w=p.getStatus();if(re(an,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const G=D?.error;if(G&&G.status&&G.message){const Y=(function(ie){const te=ie.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(te)>=0?te:K.UNKNOWN})(G.status);g(new ee(Y,G.message))}else g(new ee(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ee(K.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{re(an,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);re(an,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",_,r,15)}))}T_(e,t,r){const a=Tp(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const p=l.join("");re(an,`Creating RPC '${e}' stream ${a}: ${p}`,d);const _=c.createWebChannel(p,d);this.I_(_);let T=!1,w=!1;const D=new X7({Ho:G=>{w?re(an,`Not sending because RPC '${e}' stream ${a} is closed:`,G):(T||(re(an,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),re(an,`RPC '${e}' stream ${a} sending:`,G),_.send(G))},Jo:()=>_.close()});return Uu(_,ju.EventType.OPEN,(()=>{w||(re(an,`RPC '${e}' stream ${a} transport opened.`),D.i_())})),Uu(_,ju.EventType.CLOSE,(()=>{w||(w=!0,re(an,`RPC '${e}' stream ${a} transport closed`),D.o_(),this.E_(_))})),Uu(_,ju.EventType.ERROR,(G=>{w||(w=!0,dr(an,`RPC '${e}' stream ${a} transport errored. Name:`,G.name,"Message:",G.message),D.o_(new ee(K.UNAVAILABLE,"The operation could not be completed")))})),Uu(_,ju.EventType.MESSAGE,(G=>{if(!w){const Y=G.data[0];ge(!!Y,16349);const H=Y,ie=H?.error||H[0]?.error;if(ie){re(an,`RPC '${e}' stream ${a} received error:`,ie);const te=ie.status;let se=(function(Te){const C=Nt[Te];if(C!==void 0)return fE(C)})(te),Ee=ie.message;te==="NOT_FOUND"&&Ee.includes("database")&&Ee.includes("does not exist")&&Ee.includes(this.databaseId.database)&&dr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),se===void 0&&(se=K.INTERNAL,Ee="Unknown error status: "+te+" with message "+ie.message),w=!0,D.o_(new ee(se,Ee)),_.close()}else re(an,`RPC '${e}' stream ${a} received:`,Y),D.__(Y)}})),Ho.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return c3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(i){return new Ho(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof window<"u"?window:null}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){return new n7(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ho.c_=!1;class T1{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class n6{constructor(e,t,r,a,l,c,d,g){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new T1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new ee(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return re(Gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(re(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J7 extends n6{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=s7(this.serializer,e),r=(function(l){if(!("targetChange"in l))return pe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?pe.min():c.readTime?xt(c.readTime):pe.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=gp(this.serializer),t.addTarget=(function(l,c){let d;const g=c.target;if(d=Uf(g)?{documents:bE(l,g)}:{query:wE(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pE(l,c.resumeToken);const p=dp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(pe.min())>0){d.readTime=ll(l,c.snapshotVersion.toTimestamp());const p=dp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=o7(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=gp(this.serializer),t.removeTarget=e,this.K_(t)}}class W7 extends n6{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=a7(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=gp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>pc(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{}class t8 extends e8{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,mp(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ee(K.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,mp(t,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ee(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function n8(i,e,t,r){return new t8(i,e,t,r)}class r8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(It(t),this.aa=!1):re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class i8{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{As(this)&&(re(Va,"Restarting streams for network reachability change."),await(async function(g){const p=le(g);p.Ea.add(4),await bl(p),p.Va.set("Unknown"),p.Ea.delete(4),await kc(p)})(this))}))})),this.Va=new r8(r,a)}}async function kc(i){if(As(i))for(const e of i.Ra)await e(!0)}async function bl(i){for(const e of i.Ra)await e(!1)}function gd(i,e){const t=le(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),A1(t)?w1(t):Al(t).O_()&&b1(t,e))}function hl(i,e){const t=le(i),r=Al(t);t.Ia.delete(e),r.O_()&&r6(t,e),t.Ia.size===0&&(r.O_()?r.L_():As(t)&&t.Va.set("Unknown"))}function b1(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Al(i).Z_(e)}function r6(i,e){i.da.$e(e),Al(i).X_(e)}function w1(i){i.da=new JS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Al(i).start(),i.Va.ua()}function A1(i){return As(i)&&!Al(i).x_()&&i.Ia.size>0}function As(i){return le(i).Ea.size===0}function i6(i){i.da=void 0}async function s8(i){i.Va.set("Online")}async function a8(i){i.Ia.forEach(((e,t)=>{b1(i,e)}))}async function o8(i,e){i6(i),A1(i)?(i.Va.ha(e),w1(i)):i.Va.set("Unknown")}async function l8(i,e,t){if(i.Va.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(i,e)}catch(r){re(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xf(i,r)}else if(e instanceof Sf?i.da.Xe(e):e instanceof mE?i.da.st(e):i.da.tt(e),!t.isEqual(pe.min()))try{const r=await KE(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const _=l.Ia.get(g);if(!_)return;l.Ia.set(g,_.withResumeToken(Et.EMPTY_BYTE_STRING,_.snapshotVersion)),r6(l,g);const T=new ii(_.target,g,p,_.sequenceNumber);b1(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(i,t)}catch(r){re(Va,"Failed to raise snapshot:",r),await Xf(i,r)}}async function Xf(i,e,t){if(!bs(e))throw e;i.Ea.add(1),await bl(i),i.Va.set("Offline"),t||(t=()=>KE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{re(Va,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await kc(i)}))}function s6(i,e){return e().catch((t=>Xf(i,t,e)))}async function wl(i){const e=le(i),t=_s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:us;for(;u8(e);)try{const a=await H7(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,c8(e,a)}catch(a){await Xf(e,a)}a6(e)&&o6(e)}function u8(i){return As(i)&&i.Ta.length<10}function c8(i,e){i.Ta.push(e);const t=_s(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function a6(i){return As(i)&&!_s(i).x_()&&i.Ta.length>0}function o6(i){_s(i).start()}async function h8(i){_s(i).ra()}async function f8(i){const e=_s(i);for(const t of i.Ta)e.ea(t.mutations)}async function d8(i,e,t){const r=i.Ta.shift(),a=o1.from(r,e,t);await s6(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await wl(i)}async function m8(i,e){e&&_s(i).Y_&&await(async function(r,a){if((function(c){return hE(c)&&c!==K.ABORTED})(a.code)){const l=r.Ta.shift();_s(r).B_(),await s6(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await wl(r)}})(i,e),a6(i)&&o6(i)}async function Kv(i,e){const t=le(i);t.asyncQueue.verifyOperationInProgress(),re(Va,"RemoteStore received new credentials");const r=As(t);t.Ea.add(3),await bl(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kc(t)}async function bp(i,e){const t=le(i);e?(t.Ea.delete(2),await kc(t)):e||(t.Ea.add(2),await bl(t),t.Va.set("Unknown"))}function Al(i){return i.ma||(i.ma=(function(t,r,a){const l=le(t);return l.sa(),new J7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Zo:s8.bind(null,i),Yo:a8.bind(null,i),t_:o8.bind(null,i),J_:l8.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),A1(i)?w1(i):i.Va.set("Unknown")):(await i.ma.stop(),i6(i))}))),i.ma}function _s(i){return i.fa||(i.fa=(function(t,r,a){const l=le(t);return l.sa(),new W7(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h8.bind(null,i),t_:m8.bind(null,i),ta:f8.bind(null,i),na:d8.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await wl(i)):(await i.fa.stop(),i.Ta.length>0&&(re(Va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new S1(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sl(i,e){if(It("AsyncQueue",`${e}: ${i}`),bs(i))return new ee(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||oe.comparator(t.key,r.key):(t,r)=>oe.comparator(t.key,r.key),this.keyedMap=qu(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.ga=new at(oe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):fe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class fl{constructor(e,t,r,a,l,c,d,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new fl(e,t,Go.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class p8{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=le(t),l=a.queries;a.queries=Yv(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(r)}))})(this,new ee(K.ABORTED,"Firestore shutting down"))}}function Yv(){return new di((i=>Z3(i)),Dc)}async function R1(i,e){const t=le(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new g8,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Sl(c,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&x1(t)}async function I1(i,e){const t=le(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function y8(i,e){const t=le(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(r=!0);c.wa=a}}r&&x1(t)}function _8(i,e,t){const r=le(i),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function x1(i){i.Ca.forEach((e=>{e.next()}))}var wp,$v;($v=wp||(wp={})).Ma="default",$v.Cache="cache";class C1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.serializer=e}Ks(e){return Mr(this.serializer,e)}qs(e){return e.metadata.exists?TE(this.serializer,e.document,!1):lt.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return xt(e)}}class E8{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=l6(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;const r=Oe.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new Xv(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.Ks(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||xe()).add(l);t.set(c,d)}}return t}async ja(e){const t=await G7(e,new Xv(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const a of this.Wa)await K7(e,a,r.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function l6(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.key=e}}class c6{constructor(e){this.key=e}}class h6{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.eu=W3(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Qv,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,T)=>{const w=a.get(_),D=Vc(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let H=!1;w&&D?w.data.isEqual(D.data)?G!==Y&&(r.track({type:3,doc:D}),H=!0):this.su(w,D)||(r.track({type:2,doc:D}),H=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(d=!0)):!w&&D?(r.track({type:0,doc:D}),H=!0):w&&!D&&(r.track({type:1,doc:w}),H=!0,(g||p)&&(d=!0)),H&&(D?(c=c.add(D),l=Y?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(D,G){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Vt:H})}};return Y(D)-Y(G)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(r),a=a??!1;const d=t&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new fl(this.query,e.tu,l,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new c6(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new u6(r))})),t}cu(e){this.Za=e.ks,this.Ya=xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ss="SyncEngine";class T8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class b8{constructor(e){this.key=e,this.hu=!1}}class w8{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new di((d=>Z3(d)),Dc),this.Iu=new Map,this.Eu=new Set,this.Ru=new at(oe.comparator),this.Au=new Map,this.Vu=new m1,this.du={},this.mu=new Map,this.fu=Da.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function A8(i,e,t=!0){const r=pd(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await f6(r,e,t,!0),a}async function S8(i,e){const t=pd(i);await f6(t,e,!0,!1)}async function f6(i,e,t,r){const a=await ul(i.localStore,_n(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await D1(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&gd(i.remoteStore,a),d}async function D1(i,e,t,r,a){i.pu=(T,w,D)=>(async function(Y,H,ie,te){let se=H.view.ru(ie);se.Ss&&(se=await Qf(Y.localStore,H.query,!1).then((({documents:C})=>H.view.ru(C,se))));const Ee=te&&te.targetChanges.get(H.targetId),ce=te&&te.targetMismatches.get(H.targetId)!=null,Te=H.view.applyChanges(se,Y.isPrimaryClient,Ee,ce);return Ap(Y,H.targetId,Te.au),Te.snapshot})(i,T,w,D);const l=await Qf(i.localStore,e,!0),c=new h6(e,l.ks),d=c.ru(l.documents),g=Oc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),p=c.applyChanges(d,i.isPrimaryClient,g);Ap(i,t,p.au);const _=new T8(e,t,c);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),p.snapshot}async function R8(i,e,t){const r=le(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Dc(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await cl(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&hl(r.remoteStore,a.targetId),dl(r,a.targetId)})).catch(Ts)):(dl(r,a.targetId),await cl(r.localStore,a.targetId,!0))}async function I8(i,e){const t=le(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hl(t.remoteStore,r.targetId))}async function x8(i,e,t){const r=O1(i);try{const a=await(function(c,d){const g=le(c),p=He.now(),_=d.reduce(((D,G)=>D.add(G.key)),xe());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let G=Rn(),Y=xe();return g.xs.getEntries(D,_).next((H=>{G=H,G.forEach(((ie,te)=>{te.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,G))).next((H=>{T=H;const ie=[];for(const te of d){const se=$S(te,T.get(te.key).overlayedDocument);se!=null&&ie.push(new mi(te.key,se,q3(se.value.mapValue),dt.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,ie,d)})).next((H=>{w=H;const ie=H.applyToLocalDocumentSet(T,Y);return g.documentOverlayCache.saveOverlays(D,H.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:tE(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new at(Re)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(r,a.batchId,t),await gi(r,a.changes),await wl(r.remoteStore)}catch(a){const l=Sl(a,"Failed to persist write");t.reject(l)}}async function d6(i,e){const t=le(i);try{const r=await F7(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ge(c.hu,14607):a.removedDocuments.size>0&&(ge(c.hu,42227),c.hu=!1))})),await gi(t,r,e)}catch(r){await Ts(r)}}function Zv(i,e,t){const r=le(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const g=le(c);g.onlineState=d;let p=!1;g.queries.forEach(((_,T)=>{for(const w of T.ba)w.va(d)&&(p=!0)})),p&&x1(g)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C8(i,e,t){const r=le(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new at(oe.comparator);c=c.insert(l,lt.newNoDocument(l,pe.min()));const d=xe().add(l),g=new Mc(pe.min(),new Map,new at(Re),c,d);await d6(r,g),r.Ru=r.Ru.remove(l),r.Au.delete(e),M1(r)}else await cl(r.localStore,e,!1).then((()=>dl(r,e,t))).catch(Ts)}async function D8(i,e){const t=le(i),r=e.batch.batchId;try{const a=await q7(t.localStore,e);N1(t,r,null),V1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await gi(t,a)}catch(a){await Ts(a)}}async function V8(i,e,t){const r=le(i);try{const a=await(function(c,d){const g=le(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return g.mutationQueue.lookupMutationBatch(p,d).next((T=>(ge(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>g.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);N1(r,e,t),V1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await gi(r,a)}catch(a){await Ts(a)}}async function N8(i,e){const t=le(i);As(t.remoteStore)||re(Ss,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(c){const d=le(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g)))})(t.localStore);if(r===us)return void e.resolve();const a=t.mu.get(r)||[];a.push(e),t.mu.set(r,a)}catch(r){const a=Sl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function V1(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function N1(i,e,t){const r=le(i);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function dl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||m6(i,r)}))}function m6(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(hl(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),M1(i))}function Ap(i,e,t){for(const r of t)r instanceof u6?(i.Vu.addReference(r.key,e),M8(i,r)):r instanceof c6?(re(Ss,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||m6(i,r.key)):fe(19791,{wu:r})}function M8(i,e){const t=e.key,r=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(r)||(re(Ss,"New document in limbo: "+t),i.Eu.add(r),M1(i))}function M1(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new oe(Oe.fromString(e)),r=i.fu.next();i.Au.set(r,new b8(t)),i.Ru=i.Ru.insert(t,r),gd(i.remoteStore,new ii(_n(vl(t.path)),r,"TargetPurposeLimboResolution",An.ce))}}async function gi(i,e,t){const r=le(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,g)=>{c.push(r.pu(g,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(p){a.push(p);const _=_1.Es(g.targetId,p);l.push(_)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(g,p){const _=le(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>z.forEach(p,(w=>z.forEach(w.Ts,(D=>_.persistence.referenceDelegate.addReference(T,w.targetId,D))).next((()=>z.forEach(w.Is,(D=>_.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))))))}catch(T){if(!bs(T))throw T;re(v1,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const D=_.vs.get(w),G=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(G);_.vs=_.vs.insert(w,Y)}}})(r.localStore,l))}async function O8(i,e){const t=le(i);if(!t.currentUser.isEqual(e)){re(Ss,"User change. New user:",e.toKey());const r=await GE(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new ee(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gi(t,r.Ns)}}function P8(i,e){const t=le(i),r=t.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let a=xe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function k8(i,e){const t=le(i),r=await Qf(t.localStore,e.query,!0),a=e.view.cu(r);return t.isPrimaryClient&&Ap(t,e.targetId,a.au),a}async function L8(i,e){const t=le(i);return $E(t.localStore,e).then((r=>gi(t,r)))}async function z8(i,e,t,r){const a=le(i),l=await(function(d,g){const p=le(d),_=le(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(T=>_.Xn(T,g).next((w=>w?p.localDocuments.getDocuments(T,w):z.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await wl(a.remoteStore):t==="acknowledged"||t==="rejected"?(N1(a,e,r||null),V1(a,e),(function(d,g){le(le(d).mutationQueue).nr(g)})(a.localStore,e)):fe(6720,"Unknown batchState",{bu:t}),await gi(a,l)):re(Ss,"Cannot apply mutation batch with id: "+e)}async function B8(i,e){const t=le(i);if(pd(t),O1(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),a=await Jv(t,r.toArray());t.gu=!0,await bp(t.remoteStore,!0);for(const l of a)gd(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const r=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):a=a.then((()=>(dl(t,c),cl(t.localStore,c,!0)))),hl(t.remoteStore,c)})),await a,await Jv(t,r),(function(c){const d=le(c);d.Au.forEach(((g,p)=>{hl(d.remoteStore,p)})),d.Vu.zr(),d.Au=new Map,d.Ru=new at(oe.comparator)})(t),t.gu=!1,await bp(t.remoteStore,!1)}}async function Jv(i,e,t){const r=le(i),a=[],l=[];for(const c of e){let d;const g=r.Iu.get(c);if(g&&g.length!==0){d=await ul(r.localStore,_n(g[0]));for(const p of g){const _=r.Tu.get(p),T=await k8(r,_);T.snapshot&&l.push(T.snapshot)}}else{const p=await YE(r.localStore,c);d=await ul(r.localStore,p),await D1(r,g6(p),c,!1,d.resumeToken)}a.push(d)}return r.Pu.J_(l),a}function g6(i){return X3(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function U8(i){return(function(t){return le(le(t).persistence).hs()})(le(i).localStore)}async function j8(i,e,t,r){const a=le(i);if(a.gu)return void re(Ss,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await $E(a.localStore,J3(l[0])),d=Mc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Et.EMPTY_BYTE_STRING);await gi(a,c,d);break}case"rejected":await cl(a.localStore,e,!0),dl(a,e,r);break;default:fe(64155,t)}}async function q8(i,e,t){const r=pd(i);if(r.gu){for(const a of e){if(r.Iu.has(a)&&r.sharedClientState.isActiveQueryTarget(a)){re(Ss,"Adding an already active target "+a);continue}const l=await YE(r.localStore,a),c=await ul(r.localStore,l);await D1(r,g6(l),c.targetId,!1,c.resumeToken),gd(r.remoteStore,c)}for(const a of t)r.Iu.has(a)&&await cl(r.localStore,a,!1).then((()=>{hl(r.remoteStore,a),dl(r,a)})).catch(Ts)}}function pd(i){const e=le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=d6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C8.bind(null,e),e.Pu.J_=y8.bind(null,e.eventManager),e.Pu.yu=_8.bind(null,e.eventManager),e}function O1(i){const e=le(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V8.bind(null,e),e}function F8(i,e,t){const r=le(i);(async function(l,c,d){try{const g=await c.getMetadata();if(await(function(D,G){const Y=le(D),H=xt(G.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",(ie=>Y.Pi.getBundleMetadata(ie,G.id))).then((ie=>!!ie&&ie.createTime.compareTo(H)>=0))})(l.localStore,g))return await c.close(),d._completeWith((function(D){return{taskState:"Success",documentsLoaded:D.totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}})(g)),Promise.resolve(new Set);d._updateProgress(l6(g));const p=new E8(g,c.serializer);let _=await c.Su();for(;_;){const w=await p.Ga(_);w&&d._updateProgress(w),_=await c.Su()}const T=await p.ja(l.localStore);return await gi(l,T.Ja,void 0),await(function(D,G){const Y=le(D);return Y.persistence.runTransaction("Save bundle","readwrite",(H=>Y.Pi.saveBundleMetadata(H,G)))})(l.localStore,g),d._completeWith(T.progress),Promise.resolve(T.Ha)}catch(g){return dr(Ss,`Loading bundle failed with ${g}`),d._failWith(g),Promise.resolve(new Set)}})(r,e,t).then((a=>{r.sharedClientState.notifyBundleLoaded(a)}))}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return HE(this.persistence,new FE,e.initialUser,this.serializer)}Cu(e){return new g1(md.Vi,this.serializer)}Du(e){return new e6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class H8 extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ge(this.persistence.referenceDelegate instanceof Kf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LE(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new g1((r=>Kf.Vi(r,t)),this.serializer)}}class p6 extends yc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await O1(this.xu.syncEngine),await wl(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return HE(this.persistence,new FE,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new LE(r,e.asyncQueue,t)}Mu(e,t){const r=new Q9(t,this.persistence);return new K9(e.asyncQueue,r)}Cu(e){const t=y1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new p1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,t6(),If(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new e6}}class G8 extends p6{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Gg&&(this.sharedClientState.syncEngine={So:z8.bind(null,t),Do:j8.bind(null,t),Co:q8.bind(null,t),hs:U8.bind(null,t),bo:L8.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await B8(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=t6();if(!Gg.v(t))throw new ee(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=y1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _c{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O8.bind(null,this.syncEngine),await bp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new p8})()}createDatastore(e){const t=Pc(e.databaseInfo.databaseId),r=Z7(e.databaseInfo);return n8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,d){return new i8(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Zv(this.syncEngine,t,0)),(function(){return Hv.v()?new Hv:new Q7})())}createSyncEngine(e,t){return(function(a,l,c,d,g,p,_){const T=new w8(a,l,c,d,g,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=le(t);re(Va,"RemoteStore shutting down."),r.Ea.add(5),await bl(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_c.provider={build:()=>new _c};function Wv(i,e=10240){let t=0;return{async read(){if(t<i.byteLength){const r={value:i.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new en,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.qu(`length string (${t}) is not valid number`);const a=await this.Uu(r);return new v8(JSON.parse(a),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q8=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ee(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const c=le(a),d={documents:l.map((T=>gc(c.serializer,T)))},g=await c.jo("BatchGetDocuments",c.serializer.databaseId,Oe.emptyPath(),d,l.length),p=new Map;g.forEach((T=>{const w=i7(c.serializer,T);p.set(w.key.toString(),w)}));const _=[];return l.forEach((T=>{const w=p.get(T.toString());ge(!!w,55234,{key:T}),_.push(w)})),_})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const a=oe.fromPath(r);this.mutations.push(new s1(a,this.precondition(a)))})),await(async function(r,a){const l=le(r),c={writes:a.map((d=>pc(l.serializer,d)))};await l.Wo("Commit",l.serializer.databaseId,Oe.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fe(50498,{Gu:e.constructor.name});t=pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ee(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(pe.min())?dt.exists(!1):dt.updateTime(t):dt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(pe.min()))throw new ee(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dt.updateTime(t)}return dt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.zu=r.maxAttempts,this.M_=new T1(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new Q8(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((a=>{this.Zu(a)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!Ic(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!hE(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class $8{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Kt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{re(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(re(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Sl(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qg(i,e){i.asyncQueue.verifyOperationInProgress(),re(vs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await GE(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function e4(i,e){i.asyncQueue.verifyOperationInProgress();const t=await P1(i);re(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>Kv(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>Kv(e.remoteStore,a))),i._onlineComponents=e}async function P1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){re(vs,"Using user provided OfflineComponentProvider");try{await Qg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;dr("Error using user provided cache. Falling back to memory cache: "+t),await Qg(i,new yc)}}else re(vs,"Using default OfflineComponentProvider"),await Qg(i,new H8(void 0));return i._offlineComponents}async function _d(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(re(vs,"Using user provided OnlineComponentProvider"),await e4(i,i._uninitializedComponentsProvider._online)):(re(vs,"Using default OnlineComponentProvider"),await e4(i,new _c))),i._onlineComponents}function y6(i){return P1(i).then((e=>e.persistence))}function k1(i){return P1(i).then((e=>e.localStore))}function _6(i){return _d(i).then((e=>e.remoteStore))}function L1(i){return _d(i).then((e=>e.syncEngine))}function X8(i){return _d(i).then((e=>e.datastore))}async function ml(i){const e=await _d(i),t=e.eventManager;return t.onListen=A8.bind(null,e.syncEngine),t.onUnlisten=R8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=S8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I8.bind(null,e.syncEngine),t}function Z8(i){return i.asyncQueue.enqueue((async()=>{const e=await y6(i),t=await _6(i);return e.setNetworkEnabled(!0),(function(a){const l=le(a);return l.Ea.delete(0),kc(l)})(t)}))}function J8(i){return i.asyncQueue.enqueue((async()=>{const e=await y6(i),t=await _6(i);return e.setNetworkEnabled(!1),(async function(a){const l=le(a);l.Ea.add(0),await bl(l),l.Va.set("Offline")})(t)}))}function W8(i,e,t,r){const a=new yd(r),l=new C1(e,a,t);return i.asyncQueue.enqueueAndForget((async()=>R1(await ml(i),l))),()=>{a.Nu(),i.asyncQueue.enqueueAndForget((async()=>I1(await ml(i),l)))}}function eR(i,e){const t=new en;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(p,_){const T=le(p);return T.persistence.runTransaction("read document","readonly",(w=>T.localDocuments.getDocument(w,_)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ee(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const g=Sl(d,`Failed to get document '${l} from cache`);c.reject(g)}})(await k1(i),e,t))),t.promise}function v6(i,e,t={}){const r=new en;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const _=new yd({next:w=>{_.Nu(),c.enqueueAndForget((()=>I1(l,T)));const D=w.docs.has(d);!D&&w.fromCache?p.reject(new ee(K.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?p.reject(new ee(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new C1(vl(d.path),_,{includeMetadataChanges:!0,Ka:!0});return R1(l,T)})(await ml(i),i.asyncQueue,e,t,r))),r.promise}function tR(i,e){const t=new en;return i.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await Qf(a,l,!0),g=new h6(l,d.ks),p=g.ru(d.documents),_=g.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const g=Sl(d,`Failed to execute query '${l} against cache`);c.reject(g)}})(await k1(i),e,t))),t.promise}function E6(i,e,t={}){const r=new en;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const _=new yd({next:w=>{_.Nu(),c.enqueueAndForget((()=>I1(l,T))),w.fromCache&&g.source==="server"?p.reject(new ee(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new C1(d,_,{includeMetadataChanges:!0,Ka:!0});return R1(l,T)})(await ml(i),i.asyncQueue,e,t,r))),r.promise}function nR(i,e){const t=new en;return i.asyncQueue.enqueueAndForget((async()=>x8(await L1(i),e,t))),t.promise}function rR(i,e){const t=new yd(e);return i.asyncQueue.enqueueAndForget((async()=>(function(a,l){le(a).Ca.add(l),l.next()})(await ml(i),t))),()=>{t.Nu(),i.asyncQueue.enqueueAndForget((async()=>(function(a,l){le(a).Ca.delete(l)})(await ml(i),t)))}}function iR(i,e,t){const r=new en;return i.asyncQueue.enqueueAndForget((async()=>{const a=await X8(i);new Y8(i.asyncQueue,a,t,e,r).ju()})),r.promise}function sR(i,e,t,r){const a=(function(c,d){let g;return g=typeof c=="string"?dE().encode(c):c,(function(_,T){return new K8(_,T)})((function(_,T){if(_ instanceof Uint8Array)return Wv(_,T);if(_ instanceof ArrayBuffer)return Wv(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(g),d)})(t,Pc(e));i.asyncQueue.enqueueAndForget((async()=>{F8(await L1(i),a,r)}))}function aR(i,e){return i.asyncQueue.enqueue((async()=>(function(r,a){const l=le(r);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Pi.getNamedQuery(c,a)))})(await k1(i),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="ComponentProvider",t4=new Map;function lR(i,e,t,r,a){return new bS(i,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,T6(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firestore.googleapis.com",n4=!0;class r4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b6,this.ssl=n4}else this.host=e.host,this.ssl=e.ssl??n4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w7)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new O9;switch(r.type){case"firstParty":return new z9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=t4.get(t);r&&(re(oR,"Removing Datastore"),t4.delete(t),r.terminate())})(this),Promise.resolve()}}function uR(i,e,t,r={}){i=qe(i,Lc);const a=kp(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},d=`${e}:${t}`;a&&(Xw(`https://${d}`),eA("Firestore",!0)),l.host!==b6&&l.host!==d&&dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:r};if(!Qo(g,c)&&(i._setSettings(g),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Kt.MOCK_USER;else{p=Zw(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ee(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Kt(T)}i._authCredentials=new P9(new f3(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class w6{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new w6(this.firestore,e,this._query)}},st=class Gu{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gu(this.firestore,e,this._key)}toJSON(){return{type:Gu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Rc(t,Gu._jsonSchema))return new Gu(e,r||null,new oe(Oe.fromString(t.referencePath)))}};st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:Mt("string",st._jsonSchemaVersion),referencePath:Mt("string")};let cs=class A6 extends vn{constructor(e,t,r){super(e,t,vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new oe(e))}withConverter(e){return new A6(this.firestore,e,this._path)}};function S6(i,e,...t){if(i=Ot(i),Kp("collection","path",e),i instanceof Lc){const r=Oe.fromString(e,...t);return G_(r),new cs(i,null,r)}{if(!(i instanceof st||i instanceof cs))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Oe.fromString(e,...t));return G_(r),new cs(i.firestore,null,r)}}function cR(i,e){if(i=qe(i,Lc),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vn(i,null,(function(r){return new fi(Oe.emptyPath(),r)})(e))}function Zf(i,e,...t){if(i=Ot(i),arguments.length===1&&(e=Gp.newId()),Kp("doc","path",e),i instanceof Lc){const r=Oe.fromString(e,...t);return H_(r),new st(i,null,new oe(r))}{if(!(i instanceof st||i instanceof cs))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Oe.fromString(e,...t));return H_(r),new st(i.firestore,i instanceof cs?i.converter:null,new oe(r))}}function R6(i,e){return i=Ot(i),e=Ot(e),(i instanceof st||i instanceof cs)&&(e instanceof st||e instanceof cs)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function I6(i,e){return i=Ot(i),e=Ot(e),i instanceof vn&&e instanceof vn&&i.firestore===e.firestore&&Dc(i._query,e._query)&&i.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="AsyncQueue";class s4{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new T1(this,"async_queue_retry"),this._c=()=>{const r=If();r&&re(i4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=If();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=If();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new en;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!bs(e))throw e;re(i4,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,It("INTERNAL UNHANDLED ERROR: ",a4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=S1.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&fe(47125,{Pc:a4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function a4(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this._progressObserver={},this._taskCompletionResolver=new en,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=-1;let Ct=class extends Lc{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new s4,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s4(e),this._firestoreClient=void 0,await e}}};function cn(i){if(i._terminated)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||x6(i),i._firestoreClient}function x6(i){const e=i._freezeSettings(),t=lR(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new $8(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}function dR(i,e){dr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings();return C6(i,_c.provider,{build:r=>new p6(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function mR(i){dr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=i._freezeSettings();C6(i,_c.provider,{build:t=>new G8(t,e.cacheSizeBytes)})}function C6(i,e,t){if((i=qe(i,Ct))._firestoreClient||i._terminated)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(i._componentsProvider||i._getSettings().localCache)throw new ee(K.FAILED_PRECONDITION,"SDK cache is already specified.");i._componentsProvider={_online:e,_offline:t},x6(i)}function gR(i){if(i._initialized&&!i._terminated)throw new ee(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new en;return i._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Nr.v())return Promise.resolve();const a=r+qE;await Nr.delete(a)})(y1(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function pR(i){return(function(t){const r=new en;return t.asyncQueue.enqueueAndForget((async()=>N8(await L1(t),r))),r.promise})(cn(i=qe(i,Ct)))}function yR(i){return Z8(cn(i=qe(i,Ct)))}function _R(i){return J8(cn(i=qe(i,Ct)))}function vR(i,e){const t=cn(i=qe(i,Ct)),r=new hR;return sR(t,i._databaseId,e,r),r}function ER(i,e){return aR(cn(i=qe(i,Ct)),e).then((t=>t?new vn(i,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(Et.fromBase64String(e))}catch(t){throw new ee(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ln(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Mt("string",ln._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:Mt("string",cr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hr(e.vectorValues);throw new ee(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Mt("string",hr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=/^__.*__$/;class bR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new El(e,this.data,t,this.fieldTransforms)}}class D6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V6(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{dataSource:i})}}class vd{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new vd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Jf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(V6(this.dataSource)&&TR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pc(e)}createContext(e,t,r,a=!1){return new vd({dataSource:e,methodName:t,targetDoc:r,path:ft.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function La(i){const e=i._freezeSettings(),t=Pc(i._databaseId);return new wR(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ed(i,e,t,r,a,l={}){const c=i.createContext(l.merge||l.mergeFields?2:0,e,t,a);H1("Data must be an object, but it was:",c,r);const d=O6(r,c);let g,p;if(l.merge)g=new Sn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=Ma(e,T,t);if(!c.contains(w))throw new ee(K.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);L6(_,w)||_.push(w)}g=new Sn(_),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new bR(new Wt(d),g,p)}class zc extends ka{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function N6(i,e,t){return new vd({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class z1 extends ka{_toFieldTransform(e){return new Nc(e.path,new al)}isEqual(e){return e instanceof z1}}class B1 extends ka{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=N6(this,e,!0),r=this.Ac.map((l=>za(l,t))),a=new Ra(r);return new Nc(e.path,a)}isEqual(e){return e instanceof B1&&Qo(this.Ac,e.Ac)}}class U1 extends ka{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=N6(this,e,!0),r=this.Ac.map((l=>za(l,t))),a=new Ia(r);return new Nc(e.path,a)}isEqual(e){return e instanceof U1&&Qo(this.Ac,e.Ac)}}class j1 extends ka{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new ol(e.serializer,iE(e.serializer,this.Vc));return new Nc(e.path,t)}isEqual(e){return e instanceof j1&&this.Vc===e.Vc}}function q1(i,e,t,r){const a=i.createContext(1,e,t);H1("Data must be an object, but it was:",a,r);const l=[],c=Wt.empty();ws(r,((g,p)=>{const _=k6(e,g,t);p=Ot(p);const T=a.childContextForFieldPath(_);if(p instanceof zc)l.push(_);else{const w=za(p,T);w!=null&&(l.push(_),c.set(_,w))}}));const d=new Sn(l);return new D6(c,d,a.fieldTransforms)}function F1(i,e,t,r,a,l){const c=i.createContext(1,e,t),d=[Ma(e,r,t)],g=[a];if(l.length%2!=0)throw new ee(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Ma(e,l[w])),g.push(l[w+1]);const p=[],_=Wt.empty();for(let w=d.length-1;w>=0;--w)if(!L6(p,d[w])){const D=d[w];let G=g[w];G=Ot(G);const Y=c.childContextForFieldPath(D);if(G instanceof zc)p.push(D);else{const H=za(G,Y);H!=null&&(p.push(D),_.set(D,H))}}const T=new Sn(p);return new D6(_,T,c.fieldTransforms)}function M6(i,e,t,r=!1){return za(t,i.createContext(r?4:3,e))}function za(i,e){if(P6(i=Ot(i)))return H1("Unsupported field value:",e,i),O6(i,e);if(i instanceof ka)return(function(r,a){if(!V6(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let g=za(d,a.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iE(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=He.fromDate(r);return{timestampValue:ll(a.serializer,l)}}if(r instanceof He){const l=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ll(a.serializer,l)}}if(r instanceof cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:pE(a.serializer,r._byteString)};if(r instanceof st){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:c1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof hr)return(function(c,d){const g=c instanceof hr?c.toArray():c;return{mapValue:{fields:{[Wp]:{stringValue:e1},[rl]:{arrayValue:{values:g.map((_=>{if(typeof _!="number")throw d.createError("VectorValues must only contain numeric values.");return i1(d.serializer,_)}))}}}}}})(r,a);if(xE(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${nd(r)}`)})(i,e)}function O6(i,e){const t={};return M3(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(i,((r,a)=>{const l=za(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function P6(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof He||i instanceof cr||i instanceof ln||i instanceof st||i instanceof ka||i instanceof hr||xE(i))}function H1(i,e,t){if(!P6(t)||!g3(t)){const r=nd(t);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Ma(i,e,t){if((e=Ot(e))instanceof Na)return e._internalPath;if(typeof e=="string")return k6(i,e);throw Jf("Field path arguments must be of type string or ",i,!1,void 0,t)}const AR=new RegExp("[~\\*/\\[\\]]");function k6(i,e,t){if(e.search(AR)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Na(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Jf(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${a}`),g+=")"),new ee(K.INVALID_ARGUMENT,d+i+g)}function L6(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ws(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[rl].arrayValue?.values?.map((r=>ht(r.doubleValue)));return new hr(t)}convertGeoPoint(e){return new cr(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ld(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const t=ui(e);return new He(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Oe.fromString(e);ge(IE(r),9688,{name:e});const a=new ms(r.get(1),r.get(3)),l=new oe(r.popFirst(5));return a.isEqual(t)||It(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends G1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return new zc("deleteField")}function RR(){return new z1("serverTimestamp")}function IR(...i){return new B1("arrayUnion",i)}function xR(...i){return new U1("arrayRemove",i)}function CR(i){return new j1("increment",i)}const o4="@firebase/firestore",l4="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ma("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class DR extends vc{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ee(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K1{}class Bc extends K1{}function ns(i,e,...t){let r=[];e instanceof K1&&r.push(e),r=r.concat(t),(function(l){const c=l.filter((g=>g instanceof Q1)).length,d=l.filter((g=>g instanceof Td)).length;if(c>1||c>0&&d>0)throw new ee(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)i=a._apply(i);return i}class Td extends Bc{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Td(e,t,r)}_apply(e){const t=this._parse(e);return U6(e._query,t),new vn(e.firestore,e.converter,fp(e._query,t))}_parse(e){const t=La(e.firestore);return(function(l,c,d,g,p,_,T){let w;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ee(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){c4(T,_);const G=[];for(const Y of T)G.push(u4(g,l,Y));w={arrayValue:{values:G}}}else w=u4(g,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||c4(T,_),w=M6(d,c,T,_==="in"||_==="not-in");return ke.create(p,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function VR(i,e,t){const r=e,a=Ma("where",i);return Td._create(a,r,t)}class Q1 extends K1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ye.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const g of d)U6(c,g),c=fp(c,g)})(e._query,t),new vn(e.firestore,e.converter,fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y1 extends Bc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Y1(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ee(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ee(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mc(l,c)})(e._query,this._field,this._direction);return new vn(e.firestore,e.converter,kS(e._query,t))}}function NR(i,e="asc"){const t=e,r=Ma("orderBy",i);return Y1._create(r,t)}class bd extends Bc{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new bd(e,t,r)}_apply(e){return new vn(e.firestore,e.converter,qf(e._query,this._limit,this._limitType))}}function MR(i){return p3("limit",i),bd._create("limit",i,"F")}function OR(i){return p3("limitToLast",i),bd._create("limitToLast",i,"L")}class wd extends Bc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wd(e,t,r)}_apply(e){const t=B6(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,LS(e._query,t))}}function PR(...i){return wd._create("startAt",i,!0)}function kR(...i){return wd._create("startAfter",i,!1)}class Ad extends Bc{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ad(e,t,r)}_apply(e){const t=B6(e,this.type,this._docOrFields,this._inclusive);return new vn(e.firestore,e.converter,zS(e._query,t))}}function LR(...i){return Ad._create("endBefore",i,!1)}function zR(...i){return Ad._create("endAt",i,!0)}function B6(i,e,t,r){if(t[0]=Ot(t[0]),t[0]instanceof vc)return(function(l,c,d,g,p){if(!g)throw new ee(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const T of Fo(l))if(T.field.isKeyField())_.push(Aa(c,g.key));else{const w=g.data.field(T.field);if(od(w))throw new ee(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const D=T.field.canonicalString();throw new ee(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(w)}return new ys(_,p)})(i._query,i.firestore._databaseId,e,t[0]._document,r);{const a=La(i.firestore);return(function(c,d,g,p,_,T){const w=c.explicitOrderBy;if(_.length>w.length)throw new ee(K.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let G=0;G<_.length;G++){const Y=_[G];if(w[G].field.isKeyField()){if(typeof Y!="string")throw new ee(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof Y}`);if(!n1(c)&&Y.indexOf("/")!==-1)throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${Y}' contains a slash.`);const H=c.path.child(Oe.fromString(Y));if(!oe.isDocumentKey(H))throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${H}' is not because it contains an odd number of segments.`);const ie=new oe(H);D.push(Aa(d,ie))}else{const H=M6(g,p,Y);D.push(H)}}return new ys(D,T)})(i._query,i.firestore._databaseId,a,e,t,r)}}function u4(i,e,t){if(typeof(t=Ot(t))=="string"){if(t==="")throw new ee(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n1(e)&&t.indexOf("/")!==-1)throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Oe.fromString(t));if(!oe.isDocumentKey(r))throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Aa(i,new oe(r))}if(t instanceof st)return Aa(i,t._key);throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function c4(i,e){if(!Array.isArray(i)||i.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U6(i,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(i.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Sd(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class BR extends G1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}}class Ea{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Zn=class j6 extends vc{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ma("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=j6._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Zn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zn._jsonSchema={type:Mt("string",Zn._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};let tc=class extends Zn{data(e={}){return super.data(e)}},fr=class q6{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ea(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new tc(this._firestore,this._userDataWriter,r.key,r,new Ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const g=new tc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ea(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new tc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ea(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:UR(d.type),doc:g,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=q6._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function UR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:i})}}function F6(i,e){return i instanceof Zn&&e instanceof Zn?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(i._document===null?e._document===null:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof fr&&e instanceof fr&&i._firestore===e._firestore&&I6(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr._jsonSchemaVersion="firestore/querySnapshot/1.0",fr._jsonSchema={type:Mt("string",fr._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};const jR={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qR=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=La(e)}set(e,t,r){this._verifyNotCommitted();const a=ss(e,this._firestore),l=Sd(a.converter,t,r),c=Ed(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,dt.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=ss(e,this._firestore);let c;return c=typeof(t=Ot(t))=="string"||t instanceof Na?F1(this._dataReader,"WriteBatch.update",l._key,t,r,a):q1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,dt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ss(e,this._firestore);return this._mutations=this._mutations.concat(new Tl(t._key,dt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ss(i,e){if((i=Ot(i)).firestore!==e)throw new ee(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=La(e)}get(e){const t=ss(e,this._firestore),r=new BR(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return fe(24041);const l=a[0];if(l.isFoundDocument())return new vc(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new vc(this._firestore,r,t._key,null,t.converter);throw fe(18433,{doc:l})}))}set(e,t,r){const a=ss(e,this._firestore),l=Sd(a.converter,t,r),c=Ed(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,r);return this._transaction.set(a._key,c),this}update(e,t,r,...a){const l=ss(e,this._firestore);let c;return c=typeof(t=Ot(t))=="string"||t instanceof Na?F1(this._dataReader,"Transaction.update",l._key,t,r,a):q1(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=ss(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR=class extends FR{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ss(e,this._firestore),r=new Ba(this._firestore);return super.get(e).then((a=>new Zn(this._firestore,r,t._key,a._document,new Ea(!1,!1),t.converter)))}};function GR(i,e,t){i=qe(i,Ct);const r={...jR,...t};(function(c){if(c.maxAttempts<1)throw new ee(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const a=cn(i);return iR(a,(l=>e(new HR(i,l))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(i){i=qe(i,st);const e=qe(i.firestore,Ct),t=cn(e);return v6(t,i._key).then((r=>$1(e,i,r)))}function QR(i){i=qe(i,st);const e=qe(i.firestore,Ct),t=cn(e),r=new Ba(e);return eR(t,i._key).then((a=>new Zn(e,r,i._key,a,new Ea(a!==null&&a.hasLocalMutations,!0),i.converter)))}function YR(i){i=qe(i,st);const e=qe(i.firestore,Ct),t=cn(e);return v6(t,i._key,{source:"server"}).then((r=>$1(e,i,r)))}function $R(i){i=qe(i,vn);const e=qe(i.firestore,Ct),t=cn(e),r=new Ba(e);return z6(i._query),E6(t,i._query).then((a=>new fr(e,r,i,a)))}function XR(i){i=qe(i,vn);const e=qe(i.firestore,Ct),t=cn(e),r=new Ba(e);return tR(t,i._query).then((a=>new fr(e,r,i,a)))}function ZR(i){i=qe(i,vn);const e=qe(i.firestore,Ct),t=cn(e),r=new Ba(e);return E6(t,i._query,{source:"server"}).then((a=>new fr(e,r,i,a)))}function h4(i,e,t){i=qe(i,st);const r=qe(i.firestore,Ct),a=Sd(i.converter,e,t),l=La(r);return Uc(r,[Ed(l,"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,dt.none())])}function f4(i,e,t,...r){i=qe(i,st);const a=qe(i.firestore,Ct),l=La(a);let c;return c=typeof(e=Ot(e))=="string"||e instanceof Na?F1(l,"updateDoc",i._key,e,t,r):q1(l,"updateDoc",i._key,e),Uc(a,[c.toMutation(i._key,dt.exists(!0))])}function JR(i){return Uc(qe(i.firestore,Ct),[new Tl(i._key,dt.none())])}function WR(i,e){const t=qe(i.firestore,Ct),r=Zf(i),a=Sd(i.converter,e),l=La(i.firestore);return Uc(t,[Ed(l,"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,dt.exists(!1))]).then((()=>r))}function H6(i,...e){i=Ot(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sp(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Sp(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,c,d;if(i instanceof st)c=qe(i.firestore,Ct),d=vl(i._key.path),l={next:p=>{e[r]&&e[r]($1(c,i,p))},error:e[r+1],complete:e[r+2]};else{const p=qe(i,vn);c=qe(p.firestore,Ct),d=p._query;const _=new Ba(c);l={next:T=>{e[r]&&e[r](new fr(c,_,p,T))},error:e[r+1],complete:e[r+2]},z6(i._query)}const g=cn(c);return W8(g,d,a,l)}function eI(i,e){i=qe(i,Ct);const t=cn(i),r=Sp(e)?e:{next:e};return rR(t,r)}function Uc(i,e){const t=cn(i);return nR(t,e)}function $1(i,e,t){const r=t.docs.get(e._key),a=new Ba(i);return new Zn(i,a,e._key,r,new Ea(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){V9(jp),Xo(new wa("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Ct(new k9(r.getProvider("auth-internal")),new B9(c,r.getProvider("app-check-internal")),wS(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ai(o4,l4,e),ai(o4,l4,"esm2020")})();const tI="@firebase/firestore-compat",nI="0.4.5";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(i,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ee("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){if(typeof Uint8Array>"u")throw new ee("unimplemented","Uint8Arrays are not available in this environment.")}function m4(){if(!ES())throw new ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ec{constructor(e){this._delegate=e}static fromBase64String(e){return m4(),new Ec(ln.fromBase64String(e))}static fromUint8Array(e){return d4(),new Ec(ln.fromUint8Array(e))}toBase64(){return m4(),this._delegate.toBase64()}toUint8Array(){return d4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i){return rI(i,["next","error","complete"])}function rI(i,e){if(typeof i!="object"||i===null)return!1;const t=i;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{enableIndexedDbPersistence(e,t){return dR(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return mR(e._delegate)}clearIndexedDbPersistence(e){return gR(e._delegate)}}class G6{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ms||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){uR(this._delegate,e,t,r)}enableNetwork(){return yR(this._delegate)}disableNetwork(){return _R(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,m3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return pR(this._delegate)}onSnapshotsInSync(e){return eI(this._delegate,e)}get app(){if(!this._appCompat)throw new ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gl(this,S6(this._delegate,e))}catch(t){throw yn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xn(this,Zf(this._delegate,e))}catch(t){throw yn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new pn(this,cR(this._delegate,e))}catch(t){throw yn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GR(this._delegate,t=>e(new K6(this,t)))}batch(){return cn(this._delegate),new Q6(new qR(this._delegate,e=>Uc(this._delegate,e)))}loadBundle(e){return vR(this._delegate,e)}namedQuery(e){return ER(this._delegate,e).then(t=>t?new pn(this,t):null)}}class Rd extends G1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(new ln(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xn.forKey(t,this.firestore,null)}}function sI(i){N9(i)}class K6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}get(e){const t=Ta(e);return this._delegate.get(t).then(r=>new Tc(this._firestore,new Zn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=Ta(e);return r?(X1("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=Ta(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=Ta(e);return this._delegate.delete(t),this}}class Q6{constructor(e){this._delegate=e}set(e,t,r){const a=Ta(e);return r?(X1("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=Ta(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=Ta(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Oa{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new tc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bc(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Oa.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new Oa(e,new Rd(e),t),a.set(t,l)),l}}Oa.INSTANCES=new WeakMap;class Xn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xn(t,new st(t._delegate,r,new oe(e)))}static forKey(e,t,r){return new Xn(t,new st(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gl(this.firestore,S6(this._delegate,e))}catch(t){throw yn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ot(e),e instanceof st?R6(this._delegate,e):!1}set(e,t){t=X1("DocumentReference.set",t);try{return t?h4(this._delegate,e,t):h4(this._delegate,e)}catch(r){throw yn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?f4(this._delegate,e):f4(this._delegate,e,t,...r)}catch(a){throw yn(a,"updateDoc()","DocumentReference.update()")}}delete(){return JR(this._delegate)}onSnapshot(...e){const t=Y6(e),r=$6(e,a=>new Tc(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return H6(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=QR(this._delegate):e?.source==="server"?t=YR(this._delegate):t=KR(this._delegate),t.then(r=>new Tc(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xn(this.firestore,e?this._delegate.withConverter(Oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function yn(i,e,t){return i.message=i.message.replace(e,t),i}function Y6(i){for(const e of i)if(typeof e=="object"&&!Rp(e))return e;return{}}function $6(i,e){let t;return Rp(i[0])?t=i[0]:Rp(i[1])?t=i[1]:typeof i[0]=="function"?t={next:i[0],error:i[1],complete:i[2]}:t={next:i[1],error:i[2],complete:i[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Tc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return F6(this._delegate,e._delegate)}}class bc extends Tc{data(e){const t=this._delegate.data(e);return this._delegate._converter||M9(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class pn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}where(e,t,r){try{return new pn(this.firestore,ns(this._delegate,VR(e,t,r)))}catch(a){throw yn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new pn(this.firestore,ns(this._delegate,NR(e,t)))}catch(r){throw yn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new pn(this.firestore,ns(this._delegate,MR(e)))}catch(t){throw yn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new pn(this.firestore,ns(this._delegate,OR(e)))}catch(t){throw yn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new pn(this.firestore,ns(this._delegate,PR(...e)))}catch(t){throw yn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new pn(this.firestore,ns(this._delegate,kR(...e)))}catch(t){throw yn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new pn(this.firestore,ns(this._delegate,LR(...e)))}catch(t){throw yn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new pn(this.firestore,ns(this._delegate,zR(...e)))}catch(t){throw yn(t,"endAt()","Query.endAt()")}}isEqual(e){return I6(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=XR(this._delegate):e?.source==="server"?t=ZR(this._delegate):t=$R(this._delegate),t.then(r=>new Ip(this.firestore,new fr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Y6(e),r=$6(e,a=>new Ip(this.firestore,new fr(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return H6(this._delegate,t,r)}withConverter(e){return new pn(this.firestore,e?this._delegate.withConverter(Oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class aI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ip{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new pn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aI(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new bc(this._firestore,r))})}isEqual(e){return F6(this._delegate,e._delegate)}}class gl extends pn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xn(this.firestore,e):null}doc(e){try{return e===void 0?new Xn(this.firestore,Zf(this._delegate)):new Xn(this.firestore,Zf(this._delegate,e))}catch(t){throw yn(t,"doc()","CollectionReference.doc()")}}add(e){return WR(this._delegate,e).then(t=>new Xn(this.firestore,t))}isEqual(e){return R6(this._delegate,e._delegate)}withConverter(e){return new gl(this.firestore,e?this._delegate.withConverter(Oa.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ta(i){return qe(i,st)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(...e){this._delegate=new Na(...e)}static documentId(){return new Z1(ft.keyField().canonicalString())}isEqual(e){return e=Ot(e),e instanceof Na?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static serverTimestamp(){const e=RR();return e._methodName="FieldValue.serverTimestamp",new _a(e)}static delete(){const e=SR();return e._methodName="FieldValue.delete",new _a(e)}static arrayUnion(...e){const t=IR(...e);return t._methodName="FieldValue.arrayUnion",new _a(t)}static arrayRemove(...e){const t=xR(...e);return t._methodName="FieldValue.arrayRemove",new _a(t)}static increment(e){const t=CR(e);return t._methodName="FieldValue.increment",new _a(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={Firestore:G6,GeoPoint:cr,Timestamp:He,Blob:Ec,Transaction:K6,WriteBatch:Q6,DocumentReference:Xn,DocumentSnapshot:Tc,Query:pn,QueryDocumentSnapshot:bc,QuerySnapshot:Ip,CollectionReference:gl,FieldPath:Z1,FieldValue:_a,setLogLevel:sI,CACHE_SIZE_UNLIMITED:fR};function lI(i,e){i.INTERNAL.registerComponent(new wa("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps({...oI}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(i){lI(i,(e,t)=>new G6(e,t,new iI)),i.registerVersion(tI,nI)}uI(sc);const cI={apiKey:"AIzaSyAj4hbemsnaFT6kaX3uffXiTf93ZdQQeWs",authDomain:"reviews-7bc09.firebaseapp.com",projectId:"reviews-7bc09",storageBucket:"reviews-7bc09.firebasestorage.app",messagingSenderId:"1087527214005",appId:"1:1087527214005:web:b08ba8e386994a1e3017fc",measurementId:"G-9503YFZX7X"};sc.apps.length||sc.initializeApp(cI);const hI=sc.firestore(),fI=()=>{const[i,e]=J.useState({name:"",email:"",message:""}),[t,r]=J.useState(""),[a,l]=J.useState("text-gray-700"),c=g=>{e({...i,[g.target.name]:g.target.value})},d=async g=>{g.preventDefault();const{name:p,email:_,message:T}=i;if(!p||!_||!T){r("Please fill in all fields."),l("text-red-600");return}try{await hI.collection("contacts").add({name:p,email:_,message:T,date:new Date().toISOString()}),r("Message sent successfully. Thank you!"),l("text-green-600"),e({name:"",email:"",message:""})}catch(w){console.error("Error sending message:",w),r("There was an error sending your message. Please try again."),l("text-gray-700")}};return k.jsxs("section",{className:"relative bg-gray-900 text-white min-h-screen flex items-center justify-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),k.jsxs("div",{className:"relative z-10 w-full max-w-3xl px-6 py-16 md:py-20 flex flex-col items-center",children:[k.jsx("h2",{className:"text-4xl font-extrabold mb-4 text-center text-sky-400 pt-20",children:"Contact Me"}),k.jsx("p",{className:"text-gray-300 text-center mb-12",children:"Have a question or want to work together? Fill out the form below and Ill get back to you as soon as possible."}),k.jsxs("form",{onSubmit:d,className:"flex flex-col gap-6 bg-gray-800 p-8 rounded-2xl shadow-2xl backdrop-blur-md w-full",children:[k.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[k.jsx(ww,{className:"text-gray-300"}),k.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:i.name,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),k.jsxs("div",{className:"flex items-center gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[k.jsx(Tw,{className:"text-gray-300"}),k.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:i.email,onChange:c,className:"bg-transparent text-white w-full focus:outline-none",required:!0})]}),k.jsxs("div",{className:"flex items-start gap-3 bg-gray-700 rounded-md p-3 focus-within:ring-2 focus-within:ring-sky-500 transition",children:[k.jsx(Ew,{className:"text-gray-300 mt-2"}),k.jsx("textarea",{name:"message",placeholder:"Your Message",rows:6,value:i.message,onChange:c,className:"bg-transparent text-white w-full focus:outline-none resize-none",required:!0})]}),k.jsx("button",{type:"submit",className:"bg-sky-500 hover:bg-sky-400 font-medium py-3 rounded-xl transition-transform duration-300 transform hover:scale-105",children:"Send Message"})]}),t&&k.jsx("p",{className:`mt-6 text-center ${a} font-medium`,children:t})]})]})},dI=[{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert.png",link:"https://softuni.bg/certificates/details/197241/e7a86c07"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert2.png",link:"https://softuni.bg/certificates/details/210696/6673d5d0"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert3.png",link:"https://softuni.bg/certificates/details/217890/15502660"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert4.png",link:"https://softuni.bg/certificates/details/222890/ea1d597d"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert5.png",link:"https://softuni.bg/certificates/details/235907/c68c7389"},{img:"https://kiuliumov.github.io/portfolioV2/images/orm-certificate.png",link:"https://softuni.bg/certificates/details/240688/f0cccbd8"},{img:"https://kiuliumov.github.io/portfolioV2/images/django.png",link:"https://softuni.bg/certificates/details/246191/a98a5780"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert6.jpg",link:"https://softuni.bg/certificates/details/248553/eea6353e"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert7.jpg",link:"https://softuni.bg/certificates/details/248653/515859e5"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert8.jpg",link:"https://softuni.bg/certificates/details/248851/15223061"},{img:"https://kiuliumov.github.io/portfolioV2/images/programming-cert9.png",link:"https://softuni.bg/certificates/details/252812/64e34486"}],mI=()=>{const i=J.useRef(null),e=t=>{i.current&&i.current.scrollBy({left:t==="left"?-400:400,behavior:"smooth"})};return k.jsxs("div",{className:"relative min-h-screen bg-gray-900 text-white flex flex-col",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),k.jsxs("div",{className:"py-12 text-center relative z-10",children:[k.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-extrabold mt-20 bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 bg-clip-text text-transparent",children:"Certifications"}),k.jsx("div",{className:"mt-4 h-1 w-24 mx-auto bg-gradient-to-r from-purple-400 via-sky-400 to-indigo-500 rounded-full"}),k.jsx("p",{className:"text-gray-300 mt-4 text-lg md:text-xl",children:"Showcasing achievements and skills"})]}),k.jsxs("div",{className:"relative flex-1 flex items-center px-6",children:[k.jsx("button",{onClick:()=>e("left"),className:"absolute left-4 z-20 p-3 rounded-full bg-black/50 hover:bg-black/70 transition","aria-label":"Scroll left",children:k.jsx(_w,{size:22})}),k.jsx("div",{ref:i,className:"flex gap-6 overflow-x-scroll snap-x snap-mandatory scroll-smooth no-scrollbar",children:dI.map((t,r)=>k.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"snap-center flex-shrink-0 transform transition hover:scale-105","aria-label":`Open certificate ${r+1}`,children:k.jsx("img",{src:t.img,alt:`Certificate ${r+1}`,className:"h-48 sm:h-64 md:h-80 lg:h-[28rem] object-contain rounded-xl shadow-2xl"})},r))}),k.jsx("button",{onClick:()=>e("right"),className:"absolute right-4 z-20 p-3 rounded-full bg-black/50 hover:bg-black/70 transition","aria-label":"Scroll right",children:k.jsx(vw,{size:22})})]}),k.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `})]})},gI=[{name:"CantinaShop",description:"A Django-based e-commerce app for online shopping.",github:"https://github.com/Kiuliumov/CantinaShop",image:"https://kiuliumov.github.io/portfolioV2/images/cantinashoplogo.jpg",buttonColor:"from-emerald-500 to-green-600"},{name:"GDBOT",description:"A Geometry Dash Discord bot to track scores and levels.",github:"https://github.com/Kiuliumov/GDBOT",image:"https://kiuliumov.github.io/portfolioV2/images/gd.png",buttonColor:"from-indigo-500 to-blue-600"},{name:"MacroMaster",description:"A macro management system to automate repetitive tasks.",github:"https://github.com/Kiuliumov/MacroMaster",image:"https://github.com/Kiuliumov/MacroMaster/blob/main/client/MacroMaster/src/assets/MacroMaster.png?raw=true",buttonColor:"from-orange-500 to-amber-500"}],pI=()=>k.jsxs("section",{className:"relative pt-20 bg-gray-900 text-white min-h-screen flex flex-col items-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-700/20 via-sky-500/20 to-indigo-800/20 blur-3xl pointer-events-none"}),k.jsxs("div",{className:"relative z-0 max-w-7xl mx-auto px-6 py-12 md:py-20 w-full",children:[k.jsx("h1",{className:"relative isolate text-5xl md:text-6xl font-extrabold mb-2 text-center",children:"My Projects"}),k.jsxs("p",{className:"text-gray-300 z-0 text-center mt-5 mb-12 text-lg md:text-xl",children:["This website is built with"," ",k.jsx("span",{className:"text-sky-400 font-semibold",children:"React + TypeScript"})]}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:gI.map((i,e)=>k.jsx("div",{className:`relative group rounded-3xl p-[1px] bg-gradient-to-br from-white/10 via-white/5 to-transparent 
                         hover:from-sky-500/40 hover:to-purple-500/40 transition-all duration-500`,children:k.jsxs("div",{className:`relative bg-gray-900/90 backdrop-blur-xl rounded-3xl p-6 
                              shadow-[0_20px_40px_rgba(0,0,0,0.6)]
                              transition-all duration-500 group-hover:scale-[1.03]`,children:[k.jsx("div",{className:"relative overflow-hidden rounded-2xl mb-4",children:k.jsx("img",{src:i.image,alt:i.name,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105"})}),k.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:i.name}),k.jsx("div",{className:"h-1 w-12 bg-gradient-to-r from-purple-500 to-sky-400 rounded-full mb-3"}),k.jsx("p",{className:"text-gray-200 leading-relaxed",children:i.description}),k.jsx("div",{className:"pt-4",children:k.jsxs("a",{href:i.github,target:"_blank",rel:"noreferrer",className:`inline-flex items-center gap-2 px-5 py-2 rounded-xl text-white font-medium 
                    bg-gradient-to-r ${i.buttonColor}
                    hover:brightness-110 transition-all duration-300 hover:scale-105`,children:[k.jsx(Ko,{})," View on GitHub"]})})]})},e))}),k.jsx("div",{className:"pt-16 flex justify-center",children:k.jsxs("a",{href:"https://github.com/Kiuliumov",target:"_blank",rel:"noreferrer",className:"px-6 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-sky-500 hover:from-sky-500 hover:to-purple-500 font-medium flex items-center gap-2 transition-transform duration-300 hover:scale-105",children:[k.jsx(Ko,{})," Explore All Projects"]})})]})]}),yI=()=>{const i=[{icon:k.jsx(O4,{size:20}),href:"https://linkedin.com/Kiuliumov"},{icon:k.jsx(P4,{size:20}),href:"https://x.com/DKiuliumov"},{icon:k.jsx(Ko,{size:20}),href:"https://github.com/Kiuliumov"}];return k.jsx("footer",{className:"bg-gray-900 text-gray-400 px-4 py-4 w-full",children:k.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[k.jsx("div",{className:"hidden md:flex items-center gap-2",children:k.jsx("img",{src:"https://kiuliumov.github.io/portfolioV2/images/The cantina logo.png",alt:"The Cantina",className:"w-28"})}),k.jsxs("div",{className:"text-sm text-gray-400 text-center flex-1",children:[" ",new Date().getFullYear()," The Cantina. All rights reserved."]}),k.jsx("div",{className:"hidden md:flex items-center gap-4",children:i.map((e,t)=>k.jsx("a",{href:e.href,target:"_blank",rel:"noreferrer",className:"w-10 h-10 border border-gray-700 rounded-full flex items-center justify-center text-gray-400 hover:text-sky-400 hover:border-sky-400 transition-all duration-300",children:e.icon},t))})]})})},_I=()=>k.jsxs("section",{className:"relative flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white px-6 text-center overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-600/10 via-sky-400/20 to-indigo-700/10 blur-3xl pointer-events-none"}),k.jsx("h1",{className:"text-9xl font-extrabold text-sky-500 animate-pulse relative z-10",children:"404"}),k.jsx("h2",{className:"text-3xl md:text-4xl font-bold mt-6 animate-fadeIn relative z-10",children:"Page Not Found"}),k.jsx("p",{className:"text-gray-400 mt-2 max-w-md animate-fadeIn delay-100 relative z-10",children:"Oops! The page youre looking for doesnt exist or has been moved."}),k.jsxs("a",{href:"https://kiuliumov.github.io/portfolioV2/",className:"mt-8 px-6 py-3 bg-sky-500 hover:bg-sky-400 rounded-lg flex items-center gap-2 font-medium transition-transform transform hover:scale-105 relative z-10",children:[k.jsx(bw,{})," Go Home"]})]});function vI(){return k.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-900 text-white",children:[k.jsx(rw,{}),k.jsx("main",{className:"flex-grow",children:k.jsxs(Ab,{children:[k.jsx(ca,{path:"/",element:k.jsx(Bw,{})}),k.jsx(ca,{path:"/about",element:k.jsx(Uw,{})}),k.jsx(ca,{path:"/contact",element:k.jsx(fI,{})}),k.jsx(ca,{path:"/certifications",element:k.jsx(mI,{})}),k.jsx(ca,{path:"/projects",element:k.jsx(pI,{})}),k.jsx(ca,{path:"*",element:k.jsx(_I,{})})]})}),k.jsx(yI,{})]})}MT.createRoot(document.getElementById("root")).render(k.jsx(as.StrictMode,{children:k.jsx(Qb,{basename:"/portfolioV2/",children:k.jsx(vI,{})})}));
